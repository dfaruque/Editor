var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},BABYLON;!function(e){var t;!function(e){!function(e){e[e.SCENE_EVENT=0]="SCENE_EVENT",e[e.GUI_EVENT=1]="GUI_EVENT",e[e.UNKNOWN=2]="UNKNOWN"}(e.EventType||(e.EventType={}));var t=e.EventType;!function(e){e[e.FORM_CHANGED=0]="FORM_CHANGED",e[e.FORM_TOOLBAR_CLICKED=1]="FORM_TOOLBAR_CLICKED",e[e.LAYOUT_CHANGED=2]="LAYOUT_CHANGED",e[e.PANEL_CHANGED=3]="PANEL_CHANGED",e[e.GRAPH_SELECTED=4]="GRAPH_SELECTED",e[e.GRAPH_DOUBLE_SELECTED=5]="GRAPH_DOUBLE_SELECTED",e[e.TAB_CHANGED=6]="TAB_CHANGED",e[e.TOOLBAR_MENU_SELECTED=7]="TOOLBAR_MENU_SELECTED",e[e.GRAPH_MENU_SELECTED=8]="GRAPH_MENU_SELECTED",e[e.GRID_SELECTED=9]="GRID_SELECTED",e[e.GRID_ROW_REMOVED=10]="GRID_ROW_REMOVED",e[e.GRID_ROW_ADDED=11]="GRID_ROW_ADDED",e[e.GRID_ROW_EDITED=12]="GRID_ROW_EDITED",e[e.GRID_ROW_CHANGED=13]="GRID_ROW_CHANGED",e[e.GRID_MENU_SELECTED=14]="GRID_MENU_SELECTED",e[e.GRID_RELOADED=15]="GRID_RELOADED",e[e.WINDOW_BUTTON_CLICKED=16]="WINDOW_BUTTON_CLICKED",e[e.OBJECT_PICKED=17]="OBJECT_PICKED",e[e.UNKNOWN=18]="UNKNOWN"}(e.GUIEventType||(e.GUIEventType={}));e.GUIEventType;!function(e){e[e.OBJECT_PICKED=0]="OBJECT_PICKED",e[e.OBJECT_ADDED=1]="OBJECT_ADDED",e[e.OBJECT_REMOVED=2]="OBJECT_REMOVED",e[e.OBJECT_CHANGED=3]="OBJECT_CHANGED",e[e.UNKNOWN=4]="UNKNOWN"}(e.SceneEventType||(e.SceneEventType={}));var n=(e.SceneEventType,function(){function e(e){this.data=e}return e}());e.BaseEvent=n;var i=function(e){function t(t,n,i){e.call(this,i),this.object=t,this.eventType=n}return __extends(t,e),t}(n);e.SceneEvent=i;var r=function(e){function t(t,n,i){e.call(this,i),this.caller=t,this.eventType=n}return __extends(t,e),t}(n);e.GUIEvent=r;var o=function(){function e(){this.eventType=t.UNKNOWN,this.sceneEvent=null,this.guiEvent=null}return e.sendSceneEvent=function(n,r,o){var a=new e;a.eventType=t.SCENE_EVENT,a.sceneEvent=new i(n,r),o.sendEvent(a)},e.sendGUIEvent=function(n,i,o){var a=new e;a.eventType=t.GUI_EVENT,a.guiEvent=new r(n,i),o.sendEvent(a)},e}();e.Event=o}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(){}return n.GetStringFromVector3=function(e){return""+e.x+", "+e.y+", "+e.z},n.GetVector3FromString=function(t){var n=t.split(",");return e.Vector3.FromArray([parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2])])},n.ConvertBase64StringToArrayBuffer=function(e){for(var t=window.atob(e.split(",")[1]),n=t.length,i=new Uint8Array(n),r=0;n>r;r++)i[r]=t.charCodeAt(r);return i},n.OpenWindowPopup=function(e,t,n){var i=["width="+t,"height="+n,"top="+window.screenY+Math.max(window.outerHeight-n,0)/2,"left="+window.screenX+Math.max(window.outerWidth-t,0)/2,"status=no","resizable=yes","toolbar=no","menubar=no","scrollbars=yes"],r=window.open(e,"Dumped Frame Buffer",i.join(","));return r.focus(),r},n.getBaseURL=function(){var t=window.location.href;return t=t.replace(e.Tools.GetFilename(t),"")},n.CreateFileInpuElement=function(e){var n=$("#"+e);return n[0]||$("#BABYLON-EDITOR-UTILS").append(t.GUI.GUIElement.CreateElement('input type="file"',e,"display: none;")),n},n.BeautifyName=function(e){for(var t=e[0].toUpperCase(),n=1;n<e.length;n++){var i=e[n];i===i.toUpperCase()&&(t+=" "),t+=e[n]}return t},n.CleanProject=function(e){e.renderTargets=e.renderTargets||[]},n.GetConstructorName=function(e){var t=e&&e.constructor?e.constructor.name:"";return""===t&&(t=typeof e),t},n.BooleanToInt=function(e){return e===!0?1:0},n.IntToBoolean=function(e){return!(0===e)},n.GetParticleSystemByName=function(e,t){for(var n=0;n<e.particleSystems.length;n++)if(e.particleSystems[n].name===t)return e.particleSystems[n];return null},n}();t.Tools=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.element=null,this.name="",this.core=null,this.name=e,this.core=t}return e.prototype.destroy=function(){this.element.destroy()},e.prototype.refresh=function(){this.element.refresh()},e.prototype.resize=function(){this.element.resize()},e.prototype.on=function(e,t){this.element.on(e,t)},e.prototype.buildElement=function(e){},e.CreateDivElement=function(e,t){return'<div id="'+e+'"'+(t?' style="'+t+'"':"")+"></div>"},e.CreateElement=function(e,t,n){return void 0===n&&(n="width: 100%; height: 100%;"),"<"+e+' id="'+t+'"'+(n?' style="'+n+'"':"")+"></"+e+">"},e}();e.GUIElement=t}(t=e.GUI||(e.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(e,n,i,r){t.call(this,e,n),this.callback=null,this.title=i,this.body=r}return __extends(n,t),n.prototype.buildElement=function(t){var n=this;this.element=w2confirm(this.body,this.title,function(t){n.callback&&n.callback(t);var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.WINDOW_BUTTON_CLICKED,t),n.core.sendEvent(i)})},n.CreateDialog=function(e,t,n,i){w2confirm(e,t,null).yes(function(){n()}).no(function(){i()})},n}(t.GUIElement);t.GUIDialog=n}(t=e.GUI||(e.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n;!function(t){var n=function(t){function n(e,n){t.call(this,e,n)}return __extends(n,t),n.prototype.remove=function(){this._datElement.domElement.parentNode.removeChild(this._datElement.domElement)},n.prototype.addFolder=function(e,t){var n=t?t:this._datElement,i=n.addFolder(e);return i.open(),i},n.prototype.add=function(e,t,n,i){return e&&void 0!==e[t]&&null!==e[t]?this._datElement.add(e,t,n).name(i):this._datElement.add(null,"")},n.prototype.tagObjectIfChanged=function(t,n,i){t.onFinishChange(function(t){e.Tags.HasTags(n)||e.Tags.EnableFor(n),e.Tags.MatchesQuery(n,i)||e.Tags.AddTagsTo(n,i)})},Object.defineProperty(n.prototype,"width",{get:function(){return this._datElement.width},set:function(e){this._datElement.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._datElement.height},set:function(e){this._datElement.height=e},enumerable:!0,configurable:!0}),n.prototype.remember=function(e){this._datElement.remember(e)},n.prototype.buildElement=function(e){var t=$("#"+e);this._datElement=new dat.GUI({autoPlace:!1}),this._datElement.width=t.width(),this.element=t[0].appendChild(this._datElement.domElement)},n}(t.GUIElement);t.GUIEditForm=n}(n=t.GUI||(t.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(e,n,i){void 0===n&&(n=""),t.call(this,e,i),this.fields=[],this.toolbarFields=[],this.header=n}return __extends(n,t),n.prototype.createField=function(e,t,n,i,r,o){void 0===i&&(i=void 0),void 0===r&&(r=""),void 0===o&&(o={}),i=null===i?6:i;var a={name:e,type:t,html:{caption:n,span:i,text:r},options:o};return this.fields.push(a),this},n.prototype.createToolbarField=function(e,t,n,i){var r={id:name,text:n,type:t,checked:!1,img:i};return this.toolbarFields.push(r),r},n.prototype.setRecord=function(e,t){this.element.record[e]=t},n.prototype.getRecord=function(e){return this.element.record[e]},n.prototype.buildElement=function(t){var n=this;this.element=$("#"+t).w2form({name:this.name,focus:-1,header:this.header,formHTML:"",fields:this.fields,toolbar:{items:this.toolbarFields,onClick:function(t){n.onToolbarClicked&&n.onToolbarClicked(t.target);var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.FORM_CHANGED),i.guiEvent.data=t.target,n.core.sendEvent(i)}}}),this.element.on({type:"change",execute:"after"},function(){n.onFormChanged&&n.onFormChanged();var t=new e.Event;t.eventType=e.EventType.GUI_EVENT,t.guiEvent=new e.GUIEvent(n,e.GUIEventType.FORM_CHANGED),n.core.sendEvent(t)})},n}(t.GUIElement);t.GUIForm=n}(t=e.GUI||(e.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(e,n){t.call(this,e,n),this.menus=[]}return __extends(n,t),n.prototype.addMenu=function(e,t,n){void 0===n&&(n=""),this.menus.push({id:e,text:t,img:n})},n.prototype.createNode=function(e,t,n,i){return void 0===n&&(n=""),{id:e,text:t,img:n,data:i}},n.prototype.addNodes=function(e,t){t?this.element.add(t,Array.isArray(e)?e:[e]):this.element.add(Array.isArray(e)?e:[e])},n.prototype.removeNode=function(e){this.element.remove(e)},n.prototype.setNodeExpanded=function(e,t){t?this.element.expand(e):this.element.collapse(e)},n.prototype.setSelected=function(e){var t=this.element.get(e);if(t){for(;null!==t.parent;)t=t.parent,t&&t.id&&this.element.expand(t.id);this.element.select(e),this.element.scrollIntoView(e)}},n.prototype.getSelected=function(){return this.element.selected},n.prototype.getSelectedNode=function(){var e=this.element.get(this.getSelected());return e?e:null},n.prototype.getNode=function(e){var t=this.element.get(e);return t},n.prototype.getSelectedData=function(){var e=this.getSelected();return this.element.get(e).data},n.prototype.clear=function(){for(var e=[],t=0;t<this.element.nodes.length;t++)e.push(this.element.nodes[t].id);this.element.remove.apply(this.element,e)},n.prototype.buildElement=function(t){var n=this;this.element=$("#"+t).w2sidebar({name:this.name,img:null,keyboard:!1,nodes:[],menu:this.menus,onClick:function(t){n.onGraphClick&&n.onGraphClick(t.object.data);var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRAPH_SELECTED),i.guiEvent.data=t.object.data,n.core.sendEvent(i)},onDblClick:function(t){n.onGraphDblClick&&n.onGraphDblClick(t.object.data);var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRAPH_DOUBLE_SELECTED),i.guiEvent.data=t.object.data,n.core.sendEvent(i)},onMenuClick:function(t){n.onMenuClick&&n.onMenuClick(t.menuItem.id);var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRAPH_MENU_SELECTED),i.guiEvent.data=t.menuItem.id,n.core.sendEvent(i)}})},n}(t.GUIElement);t.GUIGraph=n}(t=e.GUI||(e.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t;!function(t){var n=w2obj.grid.prototype.buttons;n.add.caption=w2utils.lang(""),n["delete"].caption=w2utils.lang("");var i=function(t){function n(e,n){t.call(this,e,n),this.columns=[],this.records=[],this.header="",this.fixedBody=!0,this.showToolbar=!0,this.showFooter=!1,this.showDelete=!1,this.showAdd=!1,this.showEdit=!1,this.showOptions=!0,this.showSearch=!0,this.showColumnHeaders=!0,this.menus=[],this.autoMergeChanges=!0,this.hasSubGrid=!1}return __extends(n,t),n.prototype.addMenu=function(e,t,n){this.menus.push({id:e,text:t,icon:n})},n.prototype.createColumn=function(e,t,n,i){n||(n="50%"),this.columns.push({field:e,caption:t,size:n,style:i})},n.prototype.createEditableColumn=function(e,t,n,i,r){i||(i="50%"),this.columns.push({field:e,caption:t,size:i,style:r,editable:n})},n.prototype.addRow=function(e){e.recid=this.getRowCount(),this.element.add(e)},n.prototype.addRecord=function(e){this.element?(e.recid=this.element.records.length,this.element.records.push(e)):(e.recid=this.records.length,this.records.push(e))},n.prototype.removeRow=function(e){this.element.remove(e)},n.prototype.removeRecord=function(e){this.element.records.splice(e,1)},n.prototype.refresh=function(){for(var e=0;e<this.element.records.length;e++)this.element.records[e].recid=e;t.prototype.refresh.call(this)},n.prototype.getRowCount=function(){return this.element.total},n.prototype.clear=function(){this.element.clear(),this.element.total=0},n.prototype.lock=function(e,t){this.element.lock(e,t)},n.prototype.unlock=function(){this.element.unlock()},n.prototype.getSelectedRows=function(){return this.element.getSelection()},n.prototype.setSelected=function(e){for(var t=0;t<e.length;t++)this.element.select(e[t])},n.prototype.getRow=function(e){return e>=0?this.element.get(e):null},n.prototype.modifyRow=function(e,t){this.element.set(e,t)},n.prototype.getChanges=function(e){var t=this.element.getChanges();if(e){for(var n=0;n<t.length;n++)if(t[n].recid===e)return[t[n]];return[]}return t},n.prototype.scrollIntoView=function(e){e>=0&&e<this.element.records.length&&this.element.scrollIntoView(e)},n.prototype.mergeChanges=function(){this.element.mergeChanges()},n.prototype.buildElement=function(t){var n=this;this.element=$("#"+t).w2grid({name:this.name,show:{toolbar:this.showToolbar,footer:this.showFooter,toolbarDelete:this.showDelete,toolbarAdd:this.showAdd,toolbarEdit:this.showEdit,toolbarSearch:this.showSearch,toolbarColumns:this.showOptions,header:!(""===this.header),columnHeaders:this.showColumnHeaders},menu:this.menus,header:this.header,fixedBody:this.fixedBody,columns:this.columns,records:this.records,onClick:function(t){t.onComplete=function(){var t=n.getSelectedRows();if(1===t.length){n.onClick&&n.onClick(t);var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRID_SELECTED,t),n.core.sendEvent(i)}}},keyboard:!1,onMenuClick:function(t){n.onMenuClick&&n.onMenuClick(t.menuItem.id);var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRID_MENU_SELECTED,t.menuItem.id),n.core.sendEvent(i)},onDelete:function(t){if(t.force){var i=n.getSelectedRows();n.onDelete&&n.onDelete(i);var r=new e.Event;r.eventType=e.EventType.GUI_EVENT,r.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRID_ROW_REMOVED,i),n.core.sendEvent(r)}},onAdd:function(t){n.onAdd&&n.onAdd();var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRID_ROW_ADDED),n.core.sendEvent(i)},onEdit:function(t){var i=n.getSelectedRows();n.onEdit&&n.onEdit(i);var r=new e.Event;r.eventType=e.EventType.GUI_EVENT,r.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRID_ROW_EDITED,i),n.core.sendEvent(r)},onReload:function(t){n.onReload&&n.onReload();var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRID_RELOADED),n.core.sendEvent(i)},onExpand:this.hasSubGrid?function(e){if(n.onExpand){var t="subgrid-"+e.recid+e.target;w2ui.hasOwnProperty(t)&&w2ui[t].destroy();var i=n.onExpand(t,parseInt(e.recid));i&&(i.fixedBody=!0,i.showToolbar=!1,i.buildElement(e.box_id),$("#"+e.box_id).css({margin:"0px",padding:"0px",width:"100%"}).animate({height:(n.subGridHeight||105)+"px"},100),setTimeout(function(){w2ui[t].resize()},300))}}:void 0,onChange:function(t){if(t.recid){n.onEditField&&n.onEditField(t.recid,t.value_new);var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRID_ROW_CHANGED,{recid:t.recid,value:t.value_new}),n.core.sendEvent(i),n.autoMergeChanges&&n.element.mergeChanges()}},onEditField:function(t){if(t.recid){n.onEditField&&n.onEditField(parseInt(t.recid),t.value);var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.GRID_ROW_CHANGED,{recid:parseInt(t.recid),value:t.value}),n.core.sendEvent(i),n.autoMergeChanges&&n.element.mergeChanges()}}})},n}(t.GUIElement);t.GUIGrid=i}(t=e.GUI||(e.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t;!function(t){var n=function(n){function i(e,t){n.call(this,e,t),this.panels=[]}return __extends(i,n),i.prototype.createPanel=function(e,n,i,r){void 0===r&&(r=!0);var o=new t.GUIPanel(e,n,i,r,this.core);return this.panels.push(o),o},i.prototype.lockPanel=function(e,t,n){this.element.lock(e,t,n)},i.prototype.unlockPanel=function(e){this.element.unlock(e)},i.prototype.getPanelFromType=function(e){for(var t=0;t<this.panels.length;t++)if(this.panels[t].type===e)return this.panels[t];return null},i.prototype.getPanelFromName=function(e){for(var t=0;t<this.panels.length;t++)if(this.panels[t].name===e)return this.panels[t];return null},i.prototype.setPanelSize=function(e,t){this.element.sizeTo(e,t)},i.prototype.buildElement=function(t){var n=this;this.element=$("#"+t).w2layout({name:this.name,panels:this.panels}),this.element.on({type:"resize",execute:"after"},function(){var t=new e.Event;t.eventType=e.EventType.GUI_EVENT,t.guiEvent=new e.GUIEvent(n,e.GUIEventType.LAYOUT_CHANGED),n.core.sendEvent(t)});for(var i=0;i<this.panels.length;i++)this.panels[i]._panelElement=this.element.get(this.panels[i].type)},i}(t.GUIElement);t.GUILayout=n}(t=e.GUI||(e.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(t,n){e.call(this,t,n),this.items=[]}return __extends(t,e),t.prototype.addItem=function(e){return this.items.push(e),this},t.prototype.getSelected=function(){var e=this.element.val();return this.element.items.indexOf(e)},t.prototype.buildElement=function(e){this.element=$("input[type = list]#"+e).w2field("list",{items:this.items,selected:this.items.length>0?this.items[0]:""})},t}(e.GUIElement);e.GUIList=t}(t=e.GUI||(e.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(e,n,i,r,o){t.call(this,e,o),this.tabs=new Array,this.size=70,this.minSize=10,this.maxSize=void 0,this.style="background-color: #F5F6F7; border: 1px solid #dfdfdf; padding: 5px;",this.toolbar=null,this.type=n,this.size=i,this.resizable=r}return __extends(n,t),n.prototype.createTab=function(t){var n=this;return t.onClick=function(t){var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.TAB_CHANGED,t.target),n.core.sendEvent(i)},this.tabs.push(t),null!==this._panelElement&&this._panelElement.tabs.add(t),this},n.prototype.removeTab=function(e){null!==this._panelElement&&this._panelElement.tabs.remove(e);for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].id===e)return this.tabs.splice(t,1),!0;return!1},Object.defineProperty(n.prototype,"width",{get:function(){return this._panelElement?this._panelElement.width:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._panelElement?this._panelElement.height:0},enumerable:!0,configurable:!0}),n.prototype.getTabCount=function(){return this.tabs.length},n.prototype.setTabEnabled=function(e,t){return null===this._panelElement?this:(t?this._panelElement.tabs.enable(e):this._panelElement.tabs.disable(e),this)},n.prototype.getTabIDFromIndex=function(e){return e>=0&&e<this.tabs.length?this.tabs[e].id:""},n.prototype.setContent=function(e){return this.content=e,this},n.prototype.hideTab=function(e){return 1===this._panelElement.tabs.hide(e)},n.prototype.showTab=function(e){return 1===this._panelElement.tabs.show(e)},n}(t.GUIElement);t.GUIPanel=n}(t=e.GUI||(e.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t;!function(t){var n=function(t){function n(e,n){t.call(this,e,n),this.menus=[]}return __extends(n,t),n.prototype.createMenu=function(e,t,n,i,r,o){var a={type:e,id:t,text:n,img:i,checked:r||!1,hint:o,items:[]};return this.menus.push(a),a},n.prototype.createMenuItem=function(e,t,n,i,r,o,a){var s={type:t,id:n,text:i,icon:r,checked:o||!1,disabled:a||!1};return e.items.push(s),s},n.prototype.createInput=function(e,t,n,i){void 0===i&&(i=10);var r={type:"html",id:e,html:'<div style="padding: 3px 10px;">'+n+'    <input size="'+i+'" id="'+t+'" style="padding: 3px; border-radius: 2px; border: 1px solid silver"/></div>',text:n};return this.menus.push(r),r},n.prototype.addBreak=function(e){var t={type:"break",id:void 0,text:void 0,img:void 0,icon:void 0,checked:void 0,items:void 0};return e?e.items.push(t):this.menus.push(t),t},n.prototype.addSpacer=function(){var e={type:"spacer",id:void 0,text:void 0,img:void 0,icon:void 0,checked:void 0,items:void 0};return this.menus.push(e),e},n.prototype.setItemChecked=function(e,t,n){var i=n?n+":"+e:e;t?this.element.check(i):this.element.uncheck(i)},n.prototype.setItemAutoChecked=function(e,t){var n=this.element.get(t?t+":"+e:e),i=n?n.checked:!1;i?this.element.uncheck(e):this.element.check(e)},n.prototype.isItemChecked=function(e,t){var n=this.element.get(t?t+":"+e:e);return n?n.checked:!1},n.prototype.setItemEnabled=function(e,t,n){var i=n?n+":"+e:e,r=null;if(n&&(r=this.element.get(n)),r){for(var o=0;o<r.items.length;o++)if(r.items[o].id===e){r.items[o].disabled=!t,this.refresh();break}}else t?this.element.enable(i):this.element.disable(i);return r?!0:!1},n.prototype.getItemByID=function(e){for(var t=0;t<this.menus.length;t++){var n=this.menus[t];if("break"!==n.type){if(n.id===e)return n;for(var i=0;i<n.items.length;i++){var r=n.items[i];if(r.id===e)return r}}}return null},n.prototype.decomposeSelectedMenu=function(e){var t=e.split(":"),n=this.getItemByID(t[t.length-1]);return n?{hasParent:t.length>1,parent:t[0],selected:t.length>1?t[t.length-1]:""}:null},n.prototype.buildElement=function(t){var n=this;this.element=$("#"+t).w2toolbar({name:this.name,items:this.menus,onClick:function(t){var i=new e.Event;i.eventType=e.EventType.GUI_EVENT,i.guiEvent=new e.GUIEvent(n,e.GUIEventType.TOOLBAR_MENU_SELECTED),i.guiEvent.data=t.target,n.core.sendEvent(i)}})},n}(t.GUIElement);t.GUIToolbar=n}(t=e.GUI||(e.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n;!function(n){var i=function(n){function i(t,i,r,o,a,s){var l=this;n.call(this,t,i),this.title="",this.body="",this.size=new e.Vector2(800,600),this.buttons=[],this.modal=!0,this.showClose=!0,this.showMax=!0,this._onCloseCallbacks=[],this.title=r,this.body=o,a&&(this.size=a),s&&(this.buttons=s),this._onCloseCallback=function(){l.core.editor.renderMainScene=!0;for(var e=0;e<l._onCloseCallbacks.length;e++)l._onCloseCallbacks[e]()}}return __extends(i,n),i.prototype.destroy=function(){this.element.clear()},i.prototype.setOnCloseCallback=function(e){this._onCloseCallbacks.push(e)},i.prototype.close=function(){this.element.close()},i.prototype.maximize=function(){this.element.max()},i.prototype.lock=function(e){w2popup.lock(e)},i.prototype.unlock=function(){w2popup.unlock()},Object.defineProperty(i.prototype,"onToggle",{get:function(){return this._onToggle},set:function(e){var t=function(t){t.onComplete=function(t){e(t.options.maximized,t.options.width,t.options.height)}};this.element.onMax=t,this.element.onMin=t,this._onToggle=e},enumerable:!0,configurable:!0}),i.prototype.notify=function(e){w2popup.message({width:400,height:180,html:'<div style="padding: 60px; text-align: center">'+e+'</div><div style="text- align: center"><button class="btn" onclick="w2popup.message()">Close</button>'})},i.prototype.buildElement=function(e){for(var n=this,i="WindowButton",r="",o=0;o<this.buttons.length;o++)r+='<button class="btn" id="'+i+this.buttons[o]+'">'+this.buttons[o]+"</button>\n";this.element=w2popup.open({title:this.title,body:this.body,buttons:r,width:this.size.x,height:this.size.y,showClose:this.showClose,showMax:null==this.showMax?!1:this.showMax,modal:this.modal});for(var o=0;o<this.buttons.length;o++){var a=$("#"+i+this.buttons[o]);a.click(function(e){var r=e.target.id.replace(i,""),o=new t.Event;o.eventType=t.EventType.GUI_EVENT,o.guiEvent=new t.GUIEvent(n,t.GUIEventType.WINDOW_BUTTON_CLICKED,r),n.core.sendEvent(o),n.onButtonClicked&&n.onButtonClicked(r)})}var s=this.element;s.onClose=this._onCloseCallback,this.core.editor.renderMainScene=!1},i.CreateAlert=function(e,t,n){w2alert(e,t,n)},i}(n.GUIElement);n.GUIWindow=i}(n=t.GUI||(t.GUI={}))}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function e(e){this.object=null,this.tab="",this._editionTool=e}return e.prototype.isObjectSupported=function(e){return!1},e.prototype.createUI=function(){},e.prototype.update=function(){return!0},e.prototype.apply=function(){},e.prototype.resize=function(){},e}();e.AbstractTool=t}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e)}return __extends(i,n),i.prototype.update=function(){return this._element&&(this._element.remove(),this._element=null),!0},i.prototype.resize=function(){this._element&&(this._element.width=this._editionTool.panel.width-15)},i.prototype.addColorFolder=function(t,n,i,r,o){void 0===i&&(i=!1);var a=["r","g","b"];t instanceof e.Color4&&a.push("a");for(var s=this._element.addFolder(n,r),l=0;l<a.length;l++)s.add(t,a[l]).min(0).max(1).name(a[l]).onChange(function(e){o&&o()});return i||s.close(),s},i.prototype.addVectorFolder=function(t,n,i,r,o){void 0===i&&(i=!1);var a=["x","y"];t instanceof e.Vector3&&a.push("z");for(var s=this._element.addFolder(n,r),l=0;l<a.length;l++)s.add(t,a[l]).step(.01).name(a[l]).onChange(function(e){o&&o()});return i||s.close(),s},i.prototype.addTextureFolder=function(n,i,r,o,a){for(var s=this,l=i.replace(" ",""),c="_set"+l,d=["None"],h=this._editionTool.core.currentScene,u=0;u<h.textures.length;u++)d.push(h.textures[u].name);this[c]=function(){new t.GUITextureEditor(s._editionTool.core,i,n,r)},this[l]=n[r]&&n[r]instanceof e.BaseTexture?n[r].name:d[0];var m=this._element.addFolder(i,o);return m.close(),m.add(this,c).name("Browse..."),m.add(this,l,d).name("Choose").onChange(function(e){if("None"===e)n[r]=void 0;else for(var t=0;t<h.textures.length;t++)if(h.textures[t].name===e){n[r]=h.textures[t];break}a&&a()}),m},i}(t.AbstractTool);t.AbstractDatTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.object=null,this.tab="GENERAL.TAB",this._isActiveCamera=!1,this._isActivePlayCamera=!1,this.containers=["BABYLON-EDITOR-EDITION-TOOL-GENERAL"]}return __extends(i,n),i.prototype.isObjectSupported=function(t){return t instanceof e.Mesh||t instanceof e.Light||t instanceof e.Camera||t instanceof e.LensFlareSystem?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"General"})},i.prototype.update=function(){var i=this,r=this.object=this._editionTool.object,o=(this._editionTool.core.currentScene,this._editionTool.core);if(n.prototype.update.call(this),!r)return!1;this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(r);var a=this._element.addFolder("Common");if(a.add(r,"name").name("Name").onChange(function(e){var t=i._editionTool.core.editor.sceneGraphTool.sidebar,n=t.getSelectedNode();n&&(n.text=e,t.refresh())}),r instanceof e.Camera){var s=this._element.addFolder("Camera");r!==o.camera&&(this._isActivePlayCamera=r===o.playCamera,s.add(this,"_isActivePlayCamera").name("Set Play Camera").listen().onFinishChange(function(e){e===!0?(o.playCamera=r,o.isPlaying&&(o.currentScene.activeCamera=r)):e=!0})),this._isActiveCamera=r===o.currentScene.activeCamera,s.add(this,"_isActiveCamera").name("Active Camera").listen().onFinishChange(function(e){e===!0?o.currentScene.activeCamera=r:e=!0})}var l=this._element.addFolder("Transforms");if(r.position){var c=this._element.addFolder("Position",l);c.add(r.position,"x").step(.1).name("x").listen(),c.add(r.position,"y").step(.1).name("y").listen(),c.add(r.position,"z").step(.1).name("z").listen()}if(r.rotation){var d=this._element.addFolder("Rotation",l);d.add(r.rotation,"x").name("x").step(.1).listen(),d.add(r.rotation,"y").name("y").step(.1).listen(),d.add(r.rotation,"z").name("z").step(.1).listen()}if(r.scaling){var h=this._element.addFolder("Scaling",l);h.add(r.scaling,"x").name("x").step(.1).listen(),h.add(r.scaling,"y").name("y").step(.1).listen(),h.add(r.scaling,"z").name("z").step(.1).listen()}if(r instanceof e.AbstractMesh){var u=this._element.addFolder("Rendering");u.add(r,"receiveShadows").name("Receive Shadows"),u.add(r,"applyFog").name("Apply Fog"),u.add(r,"isVisible").name("Is Visible"),u.add(this,"_castShadows").name("Cast Shadows").onChange(function(e){if(e===!0){var n=new t.GUI.GUIDialog("CastShadowsDialog",i._editionTool.core,"Shadows Generator","Make children to cast shadows");n.callback=function(e){"Yes"===e&&i._setChildrenCastingShadows(r)},n.buildElement(null)}})}return!0},Object.defineProperty(i.prototype,"_castShadows",{get:function(){for(var e=this.object.getScene(),t=0;t<e.lights.length;t++){var n=e.lights[t],i=n.getShadowGenerator();if(i)for(var r=i.getShadowMap(),o=0;o<r.renderList.length;o++){var a=r.renderList[o];if(a===this.object)return!0}}return!1},set:function(e){for(var t=this.object.getScene(),n=this.object,i=0;i<t.lights.length;i++){var r=t.lights[i],o=r.getShadowGenerator();if(o){var a=o.getShadowMap();if(e)a.renderList.push(n);else{var s=a.renderList.indexOf(n);-1!==s&&a.renderList.splice(s,1)}}}},enumerable:!0,configurable:!0}),i.prototype._setChildrenCastingShadows=function(t){for(var n=t.getScene(),i=0;i<t.getDescendants().length;i++){var r=t.getDescendants()[i];if(r instanceof e.AbstractMesh){for(var o=0;o<n.lights.length;o++){var a=n.lights[o],s=a.getShadowGenerator();if(s){var l=s.getShadowMap(),c=l.renderList.indexOf(r);-1===c&&l.renderList.push(r)}}this._setChildrenCastingShadows(r)}}},i}(t.AbstractDatTool);t.GeneralTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.tab="ANIMATION.TAB",this._animationSpeed=1,this._loopAnimation=!1,this.containers=["BABYLON-EDITOR-EDITION-TOOL-ANIMATION"]}return __extends(i,n),i.prototype.isObjectSupported=function(e){return e.animations&&Array.isArray(e.animations)?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"Animations"})},i.prototype.update=function(){var i=this.object=this._editionTool.object;if(n.prototype.update.call(this),!i)return!1;this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(i),this._element.add(this,"_editAnimations").name("Edit Animations");var r=this._element.addFolder("Play Animations");if(r.add(this,"_playAnimations").name("Play Animations"),r.add(this,"_animationSpeed").min(0).name("Speed"),r.add(this,"_loopAnimation").name("Loop"),i instanceof e.AbstractMesh&&i.skeleton){var o=this._element.addFolder("Skeleton");o.add(this,"_playSkeletonAnimations").name("Play Animations")}return!0},i.prototype._editAnimations=function(){new t.GUIAnimationEditor(this._editionTool.core,this.object)},i.prototype._playAnimations=function(){this._editionTool.core.currentScene.beginAnimation(this.object,0,Number.MAX_VALUE,this._loopAnimation,this._animationSpeed)},i.prototype._playSkeletonAnimations=function(){var e=this.object=this._editionTool.object,t=e.getScene();t.beginAnimation(e.skeleton,0,Number.MAX_VALUE,this._loopAnimation,this._animationSpeed)},i}(t.AbstractDatTool);t.AnimationTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.tab="SOUND.TAB",this.containers=["BABYLON-EDITOR-EDITION-TOOL-SOUND"]}return __extends(i,n),i.prototype.isObjectSupported=function(t){return t instanceof e.Sound?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"Sound"})},i.prototype.update=function(){{var e=this.object=this._editionTool.object;this._editionTool.core.currentScene.soundTracks[e.soundTrackId]}if(n.prototype.update.call(this),!e)return!1;this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(e);var i=this._element.addFolder("Sound");i.add(this,"_playSound").name("Play Sound"),i.add(this,"_pauseSound").name("Pause Sound"),i.add(this,"_stopSound").name("Stop Sound"),this._volume=e.getVolume(),this._playbackRate=e._playbackRate,i.add(this,"_volume").min(0).max(1).step(.01).name("Volume").onChange(function(t){
e.setVolume(t)}),i.add(this,"_playbackRate").min(0).max(1).step(.01).name("Playback Rate").onChange(function(t){e.setPlaybackRate(t)}),i.add(e,"rolloffFactor").min(0).max(1).step(.01).name("Rolloff Factor").onChange(function(t){e.updateOptions({rolloffFactor:t})}),i.add(e,"loop").name("Loop").onChange(function(t){e.updateOptions({loop:t})}),i.add(e,"distanceModel",["linear","exponential","inverse"]).name("Distance Model").onFinishChange(function(t){e.updateOptions({distanceModel:t})}),e.spatialSound&&i.add(e,"maxDistance").min(0).name("Max Distance").onChange(function(t){e.updateOptions({maxDistance:t})}),e.distanceModel,this._position=e._position;var r=i.addFolder("Position");r.open(),r.add(this._position,"x").step(.1).onChange(this._positionCallback(e)).listen(),r.add(this._position,"y").step(.1).onChange(this._positionCallback(e)).listen(),r.add(this._position,"z").step(.1).onChange(this._positionCallback(e)).listen();this._element.addFolder("Sound Track");return!0},i.prototype._positionCallback=function(e){var t=this;return function(n){e.setPosition(t._position)}},i.prototype._pauseSound=function(){var e=this.object;e.pause()},i.prototype._playSound=function(){var e=this.object;e.play()},i.prototype._stopSound=function(){var e=this.object;e.stop()},i}(t.AbstractDatTool);t.AudioTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.tab="LENSFLARE.TAB",this._dummyProperty="Lens Flare 1",this._currentLensFlareId=0,this.containers=["BABYLON-EDITOR-EDITION-TOOL-LENS-FLARE"]}return __extends(i,n),i.prototype.isObjectSupported=function(t){return t instanceof e.LensFlareSystem?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"Lens Flare"})},i.prototype.update=function(){{var e=this,i=this.object=this._editionTool.object;this._editionTool.core.currentScene,this._editionTool.core}if(n.prototype.update.call(this),!i)return!1;this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(i);var r=this._element.addFolder("Common");r.add(i,"borderLimit").min(0).step(1).name("Border Limit"),r.add(this,"_addLensFlare").name("Add Lens Flare...");for(var o=[],a=0;a<i.lensFlares.length;a++)o.push("Lens Flare "+(a+1));r.add(this,"_dummyProperty",o).name("Lens Flare :").onFinishChange(function(t){var n=parseFloat(t.split("Lens Flare ")[1]);"number"==typeof n&&(n--,e._currentLensFlareId=n),e.update()});var s=i.lensFlares[this._currentLensFlareId];if(!s)return!1;var l=this._element.addFolder("Lens Flare"),c=this._element.addFolder("Color",l);return c.add(s.color,"r").min(0).max(1).name("R"),c.add(s.color,"g").min(0).max(1).name("G"),c.add(s.color,"b").min(0).max(1).name("B"),l.add(s,"position").step(.1).name("Position"),l.add(s,"size").step(.1).name("Size"),this._setupChangeTexture(this._currentLensFlareId),l.add(this,"_changeTexture"+this._currentLensFlareId).name("Set Texture..."),this._setupRemove(this._currentLensFlareId),l.add(this,"_removeLensFlare"+this._currentLensFlareId).name("Remove..."),this._currentLensFlareId=0,this._dummyProperty="Lens Flare 1",!0},i.prototype._addLensFlare=function(){t.SceneFactory.AddLensFlare(this._editionTool.core,this.object,.5,0,new e.Color3(1,0,0));this.update()},i.prototype._reset=function(){for(var e in this)-1!==e.indexOf("_removeLensFlare")?delete this[e]:-1!==e.indexOf("_changeTexture")&&delete this[e];this.update()},i.prototype._setupRemove=function(e){var t=this;this["_removeLensFlare"+e]=function(){t.object.lensFlares[e].dispose(),t._reset()}},i.prototype._setupChangeTexture=function(n){var i=this;this["_changeTexture"+n]=function(){var r=t.Tools.CreateFileInpuElement("LENS-FLARE-LOAD-TEXTURE");r.change(function(t){var o=t.target.files||t.currentTarget.files;if(!(o.length<1)){var a=o[0];e.Tools.ReadFileAsDataURL(a,function(t){var o=e.Texture.CreateFromBase64String(t,a.name,i._editionTool.core.currentScene);o.name=o.name.replace("data:",""),i.object.lensFlares[n].texture=o,r.remove()},null)}}),r.click()}},i}(t.AbstractDatTool);t.LensFlareTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.tab="LIGHT.TAB",this._customShadowsGeneratorSize=512,this.containers=["BABYLON-EDITOR-EDITION-TOOL-LIGHT"]}return __extends(i,n),i.prototype.isObjectSupported=function(t){return t instanceof e.Light?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"Light"})},i.prototype.update=function(){var i=this.object=this._editionTool.object;if(n.prototype.update.call(this),!i)return!1;this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(i);var r=this._element.addFolder("Common");if(r.add(i,"intensity").name("Intensity").min(0),r.add(i,"range").name("Range").min(0),i instanceof e.DirectionalLight){var o=this._element.addFolder("Direction");o.add(i.direction,"x").step(.1),o.add(i.direction,"y").step(.1),o.add(i.direction,"z").step(.1)}if(i instanceof e.SpotLight){var a=this._element.addFolder("Spot Light");a.add(i,"exponent").min(0).name("Exponent"),a.add(i,"angle").min(0).name("Angle")}var s=this._element.addFolder("Colors");if(i.diffuse){var l=s.addFolder("Diffuse Color");l.open(),l.add(i.diffuse,"r").min(0).max(1).step(.01),l.add(i.diffuse,"g").min(0).max(1).step(.01),l.add(i.diffuse,"b").min(0).max(1).step(.01)}if(i.specular){var c=s.addFolder("Specular Color");c.open(),c.add(i.specular,"r").min(0).max(1).step(.01),c.add(i.specular,"g").min(0).max(1).step(.01),c.add(i.specular,"b").min(0).max(1).step(.01)}var d=this._element.addFolder("Shadows"),h=i.getShadowGenerator();return h?(d.add(h,"useBlurVarianceShadowMap").name("Use Blur Variance Shadows Map").listen(),d.add(h,"useVarianceShadowMap").name("Use Variance Shadow Map").listen(),d.add(h,"usePoissonSampling").name("Use Poisson Sampling").listen(),d.add(h,"_darkness").min(0).max(1).step(.01).name("Darkness"),d.add(h,"bias").name("Bias"),d.add(h,"blurBoxOffset").min(0).max(10).step(1).name("Blur Box Offset"),d.add(h,"blurScale").min(0).max(10).name("Blur Scale"),d.add(this,"_removeShadowGenerator").name("Remove Shadows Generator")):i instanceof e.HemisphericLight||(d.add(this,"_createShadowsGenerator").name("Create Shadows Generator"),d.add(this,"_customShadowsGeneratorSize").min(0).name("Shadow Map Size")),!0},i.prototype._createShadowsGenerator=function(){var t=this.object=this._editionTool.object,n=new e.ShadowGenerator(this._customShadowsGeneratorSize,t);e.Tags.EnableFor(n),e.Tags.AddTagsTo(n,"added"),this._editionTool.updateEditionTool()},i.prototype._removeShadowGenerator=function(){var e=this.object=this._editionTool.object,t=e.getShadowGenerator();t&&t.dispose(),e._shadowGenerator=null,this.update()},i}(t.AbstractDatTool);t.LightTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.tab="MATERIAL.TAB",this._dummyProperty="",this._libraryDummyProperty="",this.containers=["BABYLON-EDITOR-EDITION-TOOL-MATERIAL"]}return __extends(i,n),i.prototype.isObjectSupported=function(t){return t instanceof e.Mesh?t.material&&t.material instanceof e.MultiMaterial?!1:!0:t instanceof e.SubMesh?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"Material"})},i.prototype.update=function(){var i=this,r=this._editionTool.object,o=null,a=this._editionTool.core.currentScene;n.prototype.update.call(this),r instanceof e.AbstractMesh?o=r.material:r instanceof e.SubMesh&&(o=r.getMaterial()),this.object=r,this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(r);for(var s=this._element.addFolder("Material"),l=["None"],c=0;c<a.materials.length;c++)l.push(a.materials[c].name);if(this._dummyProperty=o?o.name:l[0],s.add(this,"_dummyProperty",l).name("Material :").onFinishChange(function(e){if("None"===e)i._removeMaterial();else{var t=a.getMaterialByName(e);i._editionTool.object.material=t}i._editionTool.updateEditionTool()}),s.add(this,"_removeMaterial").name("Remove Material"),o){var d=this._element.addFolder("Common");d.add(o,"name").name("Name"),d.add(o,"alpha").min(0).max(1).name("Alpha");var h=this._element.addFolder("Options");h.add(o,"wireframe").name("Wire frame"),h.add(o,"fogEnabled").name("Fog Enabled"),h.add(o,"backFaceCulling").name("Back Face Culling"),h.add(o,"checkReadyOnEveryCall").name("Check Ready On every Call"),h.add(o,"checkReadyOnlyOnce").name("Check Ready Only Once"),h.add(o,"disableDepthWrite").name("Disable Depth Write"),void 0!==o.disableLighting&&h.add(o,"disableLighting").name("Disable Lighting")}var u=this._element.addFolder("Materials Library");return this._configureMaterialsLibrary(u),!0},i.prototype._configureMaterialsLibrary=function(e){var n=["None","StandardMaterial","PBRMaterial","FireMaterial","GradientMaterial","FurMaterial","GridMaterial","LavaMaterial","NormalMaterial","SkyMaterial","TerrainMaterial","TriPlanarMaterial","WaterMaterial","SimpleMaterial"],i=t.Tools.GetConstructorName(this.object.material);this._libraryDummyProperty="undefined"===i?n[0]:i,e.add(this,"_libraryDummyProperty",n).name("Material"),e.add(this,"_applyMaterial").name("Apply Material")},i.prototype._applyMaterial=function(){var n=new e[this._libraryDummyProperty]("New Material "+t.SceneFactory.GenerateUUID(),this._editionTool.core.currentScene);if(this.object.material=n,n instanceof e.FurMaterial){var i=e.FurMaterial.GenerateTexture("furTexture",this._editionTool.core.currentScene);n.furTexture=i;for(var r=e.FurMaterial.FurifyMesh(this.object,30),o=0;o<r.length;o++)r[o].material}this._editionTool.updateEditionTool()},i.prototype._removeMaterial=function(){if(this.object instanceof e.AbstractMesh)this.object.material=void 0;else if(this.object instanceof e.SubMesh){var t=this.object,n=t.getMesh().material;if(!(n instanceof e.MultiMaterial))return;n.subMaterials[t.materialIndex]=void 0}this._editionTool.updateEditionTool()},i.prototype._setMaterialsLibrary=function(){var n=t.GUI.GUIElement.CreateElement("div","BABYLON-EDITOR-MATERIALS-LIBRARY"),i=new t.GUI.GUIWindow("MaterialsLibraryWindow",this._editionTool.core,"Materials Library",n,new e.Vector2(800,600),["Select","Cancel"]);i.modal=!0,i.buildElement(null)},i}(t.AbstractDatTool);t.MaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.tab="PARTICLE.SYSTEM.TAB",this.containers=["BABYLON-EDITOR-EDITION-TOOL-PARTICLE-SYSTEM"]}return __extends(i,n),i.prototype.isObjectSupported=function(t){return t instanceof e.ParticleSystem?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"Particles"})},i.prototype.update=function(){{var i=this.object=this._editionTool.object;this._editionTool.core.currentScene}n.prototype.update.call(this);var r=this._editionTool.core.editor.mainToolbar;if(r.toolbar.setItemEnabled(r.particleSystemCopyItem.id,null!==i,r.particleSystemMenu.id),r.toolbar.setItemEnabled(r.particleSystemPasteItem.id,i instanceof e.ParticleSystem,r.particleSystemMenu.id),t.GUIParticleSystemEditor._CurrentParticleSystem=i,!i)return!1;var o=new t.GUIParticleSystemEditor(this._editionTool.core,i,!1);return this._element=o._createEditor(this.containers[0]),!0},i}(t.AbstractDatTool);t.ParticleSystemTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.tab="POSTPROCESSES.TAB",this._renderEffects={},this.containers=["BABYLON-EDITOR-EDITION-TOOL-POSTPROCESSES"]}return __extends(i,n),i.prototype.isObjectSupported=function(t){return t instanceof e.Scene?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"Post-Processes"})},i.prototype.update=function(){var e=this,i=this.object=this._editionTool.object;if(n.prototype.update.call(this),!i)return!1;this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(i),t.SceneFactory.EnabledPostProcesses.hdr=null!==t.SceneFactory.HDRPipeline,t.SceneFactory.EnabledPostProcesses.ssao=null!==t.SceneFactory.SSAOPipeline;var r=this._element.addFolder("HDR");if(r.add(t.SceneFactory.EnabledPostProcesses,"hdr").name("Enabled HDR").onChange(function(n){n===!0?t.SceneFactory.CreateHDRPipeline(e._editionTool.core):(t.SceneFactory.HDRPipeline.dispose(),t.SceneFactory.HDRPipeline=null),e.update()}),t.SceneFactory.HDRPipeline){r.add(t.SceneFactory.EnabledPostProcesses,"attachHDR").name("Attach HDR").onChange(function(t){e._attachDetachPipeline(t,"hdr")}),r.add(t.SceneFactory.HDRPipeline,"exposureAdjustment").min(0).max(10).name("Exposure Adjustment"),r.add(t.SceneFactory.HDRPipeline,"exposure").min(0).max(10).step(.01).name("Exposure"),r.add(t.SceneFactory.HDRPipeline,"brightThreshold").min(0).max(10).step(.01).name("Bright Threshold"),r.add(t.SceneFactory.HDRPipeline,"minimumLuminance").min(0).max(10).step(.01).name("Minimum Luminance"),r.add(t.SceneFactory.HDRPipeline,"luminanceDecreaseRate").min(0).max(5).step(.01).name("Luminance Decrease Rate"),r.add(t.SceneFactory.HDRPipeline,"luminanceIncreaserate").min(0).max(5).step(.01).name("Luminance Increase Rate"),r.add(t.SceneFactory.HDRPipeline,"gaussCoeff").min(0).max(10).step(.01).name("Gaussian Coefficient").onChange(function(e){t.SceneFactory.HDRPipeline.update()}),r.add(t.SceneFactory.HDRPipeline,"gaussMean").min(0).max(30).step(.01).name("Gaussian Mean").onChange(function(e){t.SceneFactory.HDRPipeline.update()}),r.add(t.SceneFactory.HDRPipeline,"gaussStandDev").min(0).max(30).step(.01).name("Gaussian Standard Deviation").onChange(function(e){t.SceneFactory.HDRPipeline.update()}),r.add(t.SceneFactory.HDRPipeline,"gaussMultiplier").min(0).max(30).step(.01).name("Gaussian Multiplier"),r.add(t.SceneFactory.HDRPipeline,"lensDirtPower").min(0).max(30).step(.01).name("Lens Dirt Power"),this.addTextureFolder(t.SceneFactory.HDRPipeline,"Lens Texture","lensTexture",r).open();var o=r.addFolder("Debug");this._setupDebugPipeline(o,t.SceneFactory.HDRPipeline)}var a=this._element.addFolder("SSAO");if(a.add(t.SceneFactory.EnabledPostProcesses,"ssao").name("Enable SSAO").onChange(function(n){n===!0?t.SceneFactory.SSAOPipeline=t.SceneFactory.CreateSSAOPipeline(e._editionTool.core):(t.SceneFactory.SSAOPipeline.dispose(),t.SceneFactory.SSAOPipeline=null),e.update()}),t.SceneFactory.SSAOPipeline){a.add(t.SceneFactory.EnabledPostProcesses,"attachSSAO").name("Attach SSAO").onChange(function(t){e._attachDetachPipeline(t,"ssao")}),a.add(t.SceneFactory.SSAOPipeline,"totalStrength").min(0).max(10).step(.001).name("Strength"),a.add(t.SceneFactory.SSAOPipeline,"area").min(0).max(1).step(1e-4).name("Area"),a.add(t.SceneFactory.SSAOPipeline,"radius").min(0).max(1).step(1e-5).name("Radius"),a.add(t.SceneFactory.SSAOPipeline,"fallOff").min(0).step(1e-6).name("Fall Off"),a.add(t.SceneFactory.SSAOPipeline,"base").min(0).max(10).step(.001).name("Base");var o=a.addFolder("Debug");this._setupDebugPipeline(o,t.SceneFactory.SSAOPipeline)}var s=this._element.addFolder("Volumetric Light Scattering");return s.add(t.SceneFactory.EnabledPostProcesses,"vls").name("Enable VLS").onChange(function(n){if(n===!0){var i=new t.ObjectPicker(e._editionTool.core);i.objectLists.push(e._editionTool.core.currentScene.meshes),i.minSelectCount=0,i.closeButtonName="Cancel",i.selectButtonName="Add",i.windowName="Select an emitter?",i.onObjectPicked=function(n){var i=e._editionTool.core.currentScene.getMeshByName(n[0]);t.SceneFactory.VLSPostProcess=t.SceneFactory.CreateVLSPostProcess(e._editionTool.core,i),e.update()},i.open()}else t.SceneFactory.VLSPostProcess.dispose(e._editionTool.core.camera),t.SceneFactory.VLSPostProcess=null,e.update()}),t.SceneFactory.VLSPostProcess&&(s.add(t.SceneFactory.VLSPostProcess,"exposure").min(0).max(1).name("Exposure"),s.add(t.SceneFactory.VLSPostProcess,"decay").min(0).max(1).name("Decay"),s.add(t.SceneFactory.VLSPostProcess,"weight").min(0).max(1).name("Weight"),s.add(t.SceneFactory.VLSPostProcess,"density").min(0).max(1).name("Density"),s.add(t.SceneFactory.VLSPostProcess,"invert").name("Invert"),s.add(t.SceneFactory.VLSPostProcess,"useDiffuseColor").name("use Diffuse Color"),s.add(t.SceneFactory.VLSPostProcess,"useCustomMeshPosition").name("Use Custom Position"),this.addVectorFolder(t.SceneFactory.VLSPostProcess.customMeshPosition,"Position",!0,s),s.add(this,"_setVLSAttachedNode").name("Attach Node...")),!0},i.prototype._setVLSAttachedNode=function(){var e=this,n=new t.ObjectPicker(this._editionTool.core);n.objectLists.push(this._editionTool.core.currentScene.meshes),n.objectLists.push(this._editionTool.core.currentScene.lights),n.objectLists.push(this._editionTool.core.currentScene.cameras),n.minSelectCount=0,n.onObjectPicked=function(n){var i=null;n.length>0&&(i=e._editionTool.core.currentScene.getNodeByName(n[0])),t.SceneFactory.VLSPostProcess.attachedNode=i},n.open()},i.prototype._setupDebugPipeline=function(e,t){var n=this,i=t._renderEffects,r=function(){for(var e in i)n._renderEffects[e]===!0?t._enableEffect(e,n._getPipelineCameras()):t._disableEffect(e,n._getPipelineCameras())};for(var o in i){{i[o]}this._renderEffects[o]||(this._renderEffects[o]=!0),e.add(this._renderEffects,o).onChange(function(e){r()})}},i.prototype._attachDetachPipeline=function(e,t){e?this._editionTool.core.currentScene.postProcessRenderPipelineManager.attachCamerasToRenderPipeline(t,this._getPipelineCameras()):this._editionTool.core.currentScene.postProcessRenderPipelineManager.detachCamerasFromRenderPipeline(t,this._getPipelineCameras())},i.prototype._getPipelineCameras=function(){var e=[this._editionTool.core.camera];return this._editionTool.core.playCamera&&e.push(this._editionTool.core.playCamera),e},i.prototype._loadHDRLensDirtTexture=function(){var n=this,i=t.Tools.CreateFileInpuElement("HDR-LENS-DIRT-LOAD-TEXTURE");i.change(function(r){var o=r.target.files||r.currentTarget.files;if(!(o.length<1)){var a=o[0];e.Tools.ReadFileAsDataURL(a,function(r){var o=e.Texture.CreateFromBase64String(r,a.name,n._editionTool.core.currentScene);o.name=o.name.replace("data:",""),t.SceneFactory.HDRPipeline.lensTexture=o,i.remove()},null)}}),i.click()},i}(t.AbstractDatTool);t.PostProcessesTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.tab="REFLECTION.PROBE.TAB",this._window=null,this._excludedMeshesList=null,this._includedMeshesList=null,this._layouts=null,this.containers=["BABYLON-EDITOR-EDITION-TOOL-RENDER-TARGET"],this._editionTool.core.eventReceivers.push(this)}return __extends(i,n),i.prototype.onEvent=function(e){if(e.eventType!==t.EventType.GUI_EVENT)return!1;if(e.guiEvent.eventType!==t.GUIEventType.GRID_ROW_ADDED&&e.guiEvent.eventType!==t.GUIEventType.GRID_ROW_REMOVED)return!1;var n=this.object;if(e.guiEvent.caller===this._includedMeshesList){for(var i=this._includedMeshesList.getSelectedRows(),r=0;r<i.length;r++){var o=n.renderList[i[r]-r],a=n.renderList.indexOf(o);-1!==a&&n.renderList.splice(a,1),this._excludedMeshesList.addRecord({name:o.name})}return this._excludedMeshesList.refresh(),!0}if(e.guiEvent.caller===this._excludedMeshesList){for(var i=this._excludedMeshesList.getSelectedRows(),s=0,r=0;r<i.length;r++){var o=this._editionTool.core.currentScene.getMeshByName(this._excludedMeshesList.getRow(i[r]).name);n.renderList.push(o),this._includedMeshesList.addRecord({name:o.name}),this._excludedMeshesList.removeRecord(i[r]-s),s++}return this._includedMeshesList.refresh(),this._excludedMeshesList.refresh(),!0}return!1},i.prototype.isObjectSupported=function(t){return t instanceof e.ReflectionProbe||t instanceof e.RenderTargetTexture||t instanceof e.Light&&t.getShadowGenerator()?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"Render"})},i.prototype.update=function(){var i=this;n.prototype.update.call(this);var r=this.object=this._editionTool.object;r instanceof e.Light&&r.getShadowGenerator()&&(r=this.object=r.getShadowGenerator().getShadowMap());this._editionTool.core.currentScene;if(!r)return!1;this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(r);var o=this._element.addFolder("Common");if(o.add(r,"name").name("Name").onChange(function(e){var t=i._editionTool.core.editor.sceneGraphTool.sidebar,n=t.getSelectedNode();n&&(n.text=e,t.refresh())}),o.add(r,"refreshRate").name("Refresh Rate").min(0).step(1),o.add(this,"_setIncludedMeshes").name("Configure Render List..."),r instanceof e.ReflectionProbe&&o.add(this,"_attachToMesh").name("Attach To Mesh..."),r instanceof e.RenderTargetTexture&&o.add(this,"_exportRenderTarget").name("Dump Render Target"),r instanceof e.ReflectionProbe){var a=this._element.addFolder("Position");a.add(r.position,"x").step(.01),a.add(r.position,"y").step(.01),a.add(r.position,"z").step(.01)}return!0},i.prototype._exportRenderTarget=function(){var n=this,i=this.object,r=i.onAfterRender,o=i.getSize().width,a=i.getSize().height;i.onAfterRender=function(){e.Tools.DumpFramebuffer(o,a,n._editionTool.core.engine,function(e){t.Tools.OpenWindowPopup(e,o,a)})},i.render(!1),this._editionTool.core.currentScene.incrementRenderId(),r&&r(0),i.onAfterRender=r},i.prototype._attachToMesh=function(){var e=this,n=new t.ObjectPicker(this._editionTool.core);n.objectLists.push(n.core.currentScene.meshes),n.onObjectPicked=function(i){if(i.length>1){var r=new t.GUI.GUIDialog("ReflectionProbeDialog",n.core,"Warning","A Reflection Probe can be attached to only one mesh.\nThe first was considered as the mesh.");r.buildElement(null)}e.object.attachToMesh(n.core.currentScene.getMeshByName(i[0]))},n.open()},i.prototype._setIncludedMeshes=function(){var e=this,n="REFLECTION-PROBES-RENDER-LIST-LAYOUT",i="REFLECTION-PROBES-RENDER-LIST-LAYOUT-LEFT",r="REFLECTION-PROBES-RENDER-LIST-LAYOUT-RIGHT",o="REFLECTION-PROBES-RENDER-LIST-LIST-EXCLUDED",a="REFLECTION-PROBES-RENDER-LIST-LIST-INCLUDED",s=t.GUI.GUIElement.CreateElement("div",n);this._window=new t.GUI.GUIWindow("REFLECTION-PROBES-RENDER-LIST-WINDOW",this._editionTool.core,"Configure Render List",s),this._window.modal=!0,this._window.size.x=800,this._window.buildElement(null),this._window.setOnCloseCallback(function(){e._includedMeshesList.destroy(),e._excludedMeshesList.destroy(),e._layouts.destroy(),e._includedMeshesList=null,e._excludedMeshesList=null}),this._window.onToggle=function(t,n,i){e._layouts.getPanelFromType("left").width=n/2,e._layouts.getPanelFromType("main").width=i/2,e._layouts.resize()};var l=t.GUI.GUIElement.CreateElement("div",i),c=t.GUI.GUIElement.CreateElement("div",r);this._layouts=new t.GUI.GUILayout(n,this._editionTool.core),this._layouts.createPanel(l,"left",400,!0).setContent(l),this._layouts.createPanel(c,"main",400,!0).setContent(c),this._layouts.buildElement(n);var d=this._editionTool.core.currentScene,h=this.object;this._excludedMeshesList=new t.GUI.GUIGrid(o,this._editionTool.core),this._excludedMeshesList.header="Excluded Meshes",this._excludedMeshesList.showAdd=!0,this._excludedMeshesList.createColumn("name","name","100%"),this._excludedMeshesList.buildElement(i);for(var u=0;u<d.meshes.length;u++)-1===h.renderList.indexOf(d.meshes[u])&&this._excludedMeshesList.addRecord({name:d.meshes[u].name});this._excludedMeshesList.refresh(),this._includedMeshesList=new t.GUI.GUIGrid(a,this._editionTool.core),this._includedMeshesList.header="Included Meshes",this._includedMeshesList.showDelete=!0,this._includedMeshesList.createColumn("name","name","100%"),this._includedMeshesList.buildElement(r);for(var u=0;u<h.renderList.length;u++)this._includedMeshesList.addRecord({name:h.renderList[u].name});this._includedMeshesList.refresh()},i}(t.AbstractDatTool);t.ReflectionProbeTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this.tab="SCENE.TAB",this._fogType="",this.containers=["BABYLON-EDITOR-EDITION-TOOL-SCENE"]}return __extends(i,n),i.prototype.isObjectSupported=function(t){return t instanceof e.Scene?!0:!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:"Scene"})},i.prototype.update=function(){var i=this.object=this._editionTool.object;if(n.prototype.update.call(this),!i)return!1;this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(i),this._element.add(t.SceneFactory,"AnimationSpeed").min(0).name("Animation Speed");var r=this._element.addFolder("Colors"),o=r.addFolder("Ambient Color");o.open(),o.add(i.ambientColor,"r").min(0).max(1).step(.01),o.add(i.ambientColor,"g").min(0).max(1).step(.01),o.add(i.ambientColor,"b").min(0).max(1).step(.01);var a=r.addFolder("Clear Color");a.open(),a.add(i.clearColor,"r").min(0).max(1).step(.01),a.add(i.clearColor,"g").min(0).max(1).step(.01),a.add(i.clearColor,"b").min(0).max(1).step(.01);var s=this._element.addFolder("Collisions");s.add(i,"collisionsEnabled").name("Collisions Enabled");var l=s.addFolder("Gravity");l.add(i.gravity,"x"),l.add(i.gravity,"y"),l.add(i.gravity,"z");var c=this._element.addFolder("Audio");c.add(i,"audioEnabled").name("Audio Enabled");var d=this._element.addFolder("Fog"),h=["None","Exp","Exp2","Linear"];switch(i.fogMode){case e.Scene.FOGMODE_EXP:this._fogType="Exp";break;case e.Scene.FOGMODE_EXP2:this._fogType="Exp2";break;case e.Scene.FOGMODE_LINEAR:this._fogType="Linear";break;default:this._fogType="None"}d.add(this,"_fogType",h).name("Fog Mode").onFinishChange(function(t){switch(t){case"Exp":i.fogMode=e.Scene.FOGMODE_EXP;break;case"Exp2":i.fogMode=e.Scene.FOGMODE_EXP2;break;case"Linear":i.fogMode=e.Scene.FOGMODE_LINEAR;break;default:i.fogMode=e.Scene.FOGMODE_NONE}}),d.add(i,"fogEnabled").name("Enable Fog"),d.add(i,"fogStart").name("Fog Start").min(0),d.add(i,"fogEnd").name("Fog End").min(0),d.add(i,"fogDensity").name("Fog Density").min(0);var u=d.addFolder("Fog Color");u.add(i.fogColor,"r").min(0).max(1).step(.001),u.add(i.fogColor,"g").min(0).max(1).step(.001),u.add(i.fogColor,"b").min(0).max(1).step(.001);var m=this._element.addFolder("Capacities");return m.close(),m.add(i,"postProcessesEnabled").name("Post-Processes Enabled"),m.add(i,"shadowsEnabled").name("Shadows Enabled"),m.add(i,"fogEnabled").name("Fog Enabled"),m.add(i,"lensFlaresEnabled").name("Lens Flares Enabled"),m.add(i,"lightsEnabled").name("Lights Enabled"),m.add(i,"particlesEnabled").name("Particles Enabled"),m.add(i,"probesEnabled").name("Reflection Probes Enabled"),m.add(i,"proceduralTexturesEnabled").name("Procedural Textures Enabled"),m.add(i,"renderTargetsEnabled").name("Render Targets Enabled"),m.add(i,"texturesEnabled").name("Textures Enabled"),m.add(i,"skeletonsEnabled").name("Skeletons Enabled"),!0},i}(t.AbstractDatTool);t.SceneTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e,t,i,r){n.call(this,e),this._tabName="New Tab",this.material=null,this.containers=["BABYLON-EDITOR-EDITION-TOOL-"+t],this.tab="MATERIAL."+i,this._tabName=r}return __extends(i,n),i.prototype.isObjectSupported=function(t){if(t instanceof e.Mesh){if(t.material&&!(t.material instanceof e.MultiMaterial)&&this.onObjectSupported(t.material))return!0}else if(t instanceof e.SubMesh){var n=t,i=n.getMesh().material;if(i instanceof e.MultiMaterial&&i.subMaterials[n.materialIndex]&&this.onObjectSupported(i.subMaterials[n.materialIndex]))return!0}return!1},i.prototype.createUI=function(){this._editionTool.panel.createTab({id:this.tab,caption:this._tabName})},i.prototype.update=function(){{var i=this._editionTool.object;this._editionTool.core.currentScene}return n.prototype.update.call(this),i instanceof e.AbstractMesh?this.material=i.material:i instanceof e.SubMesh&&(this.material=i.getMaterial()),this.material?(this.object=i,this._element=new t.GUI.GUIEditForm(this.containers[0],this._editionTool.core),this._element.buildElement(this.containers[0]),this._element.remember(i),!0):!1},i.prototype.addTextureButton=function(e,t,i,r){return n.prototype.addTextureFolder.call(this,this.material,e,t,i,r)},i}(t.AbstractDatTool);t.AbstractMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"PBR-MATERIAL","PBR","PBR"),this._dummyPreset="",this.onObjectSupported=function(t){return t instanceof e.PBRMaterial}}return __extends(n,t),n.prototype.update=function(){var e=this;if(!t.prototype.update.call(this))return!1;this.material.useLogarithmicDepth=this.material.useLogarithmicDepth||!1,this._dummyPreset="None";var n=[this._dummyPreset,"Glass","Metal","Plastic","Wood"];this._element.add(this,"_dummyPreset",n,"Preset :").onChange(function(t){e["_createPreset"+t]&&(e["_createPreset"+t](),e.update())});var i=this._element.addFolder("PBR");i.add(this.material,"cameraContrast").step(.01).name("Camera Contrast"),i.add(this.material,"cameraExposure").step(.01).name("Camera Exposure"),i.add(this.material,"microSurface").min(0).step(.01).name("Micro Surface");var r=this._element.addFolder("Albedo");this.addColorFolder(this.material.albedoColor,"Albedo Color",!0,r),r.add(this.material,"directIntensity").step(.01).name("Direct Intensity"),r.add(this.material,"useAlphaFromAlbedoTexture").name("Use Alpha From Albedo Texture"),this.addTextureButton("Albedo Texture","albedoTexture",r);var o=this._element.addFolder("Bump & Parallax");o.open(),o.add(this.material,"useParallax").name("Use Parallax"),o.add(this.material,"useParallaxOcclusion").name("Use Parallax Occlusion"),o.add(this.material,"parallaxScaleBias").step(.001).name("Bias"),this.addTextureButton("Bump Texture","bumpTexture",o);var a=this._element.addFolder("Reflectivity");this.addColorFolder(this.material.reflectivityColor,"Reflectivity Color",!0,a),a.add(this.material,"specularIntensity").min(0).step(.01).name("Specular Intensity"),a.add(this.material,"useSpecularOverAlpha").name("Use Specular Over Alpha"),this.addTextureButton("Reflectivity Texture","reflectivityTexture",a);var s=this._element.addFolder("Reflection");this.addColorFolder(this.material.reflectionColor,"Reflection Color",!0,s),s.add(this.material,"environmentIntensity").step(.01).name("Environment Intensity"),this.addTextureButton("Reflection Texture","reflectionTexture",s);var l=this._element.addFolder("Emissive");this.addColorFolder(this.material.emissiveColor,"Emissive Color",!0,l),l.add(this.material,"emissiveIntensity").step(.01).name("Emissive Intensity"),l.add(this.material,"linkEmissiveWithAlbedo").name("Link Emissive With Albedo"),l.add(this.material,"useEmissiveAsIllumination").name("Use Emissive As Illumination"),this.addTextureButton("Emissive Texture","emissiveTexture",l);var c=this._element.addFolder("Ambient");this.addColorFolder(this.material.ambientColor,"Ambient Color",!0,c),this.addTextureButton("Ambient Texture","ambientTexture",c);var d=this._element.addFolder("Options");d.add(this.material,"useLightmapAsShadowmap").name("Use Lightmap As Shadowmap"),d.add(this.material,"useLogarithmicDepth").name("Use Logarithmic Depth");var h=this._element.addFolder("Debug");return h.add(this.material,"overloadedShadowIntensity").min(0).step(.01).name("Shadow Intensity"),h.add(this.material,"overloadedShadeIntensity").min(0).step(.01).name("Shade Intensity"),r=h.addFolder("Albedo Debug"),this.addColorFolder(this.material.overloadedAlbedo,"Albedo Color",!0,r),r.add(this.material,"overloadedAlbedoIntensity").min(0).step(.01).name("Albedo Intensity"),
a=h.addFolder("Reflectivity Debug"),this.addColorFolder(this.material.overloadedReflectivity,"Reflectivity Color",!0,a),a.add(this.material,"overloadedReflectivityIntensity").min(0).step(.01).name("Reflectivity Intensity"),s=h.addFolder("Reflection Debug"),this.addColorFolder(this.material.overloadedReflection,"Reflection Color",!0,s),s.add(this.material,"overloadedReflectionIntensity").min(0).step(.01).name("Reflection Intensity"),c=h.addFolder("Ambient Debug"),this.addColorFolder(this.material.overloadedAmbient,"Reflection Color",!0,c),c.add(this.material,"overloadedAmbientIntensity").min(0).step(.01).name("Ambient Intensity"),l=h.addFolder("Emissive Debug"),this.addColorFolder(this.material.overloadedEmissive,"Emissive Color",!0,l),l.add(this.material,"overloadedEmissiveIntensity").min(0).step(.01).name("Emissive Intensity"),!0},n.prototype._createPresetGlass=function(){this.material.linkRefractionWithTransparency=!0,this.material.useMicroSurfaceFromReflectivityMapAlpha=!1,this.material.indexOfRefraction=.52,this.material.alpha=0,this.material.directIntensity=0,this.material.environmentIntensity=.5,this.material.cameraExposure=.5,this.material.cameraContrast=1.7,this.material.microSurface=1},n.prototype._createPresetMetal=function(){this.material.linkRefractionWithTransparency=!1,this.material.useMicroSurfaceFromReflectivityMapAlpha=!1,this.material.directIntensity=.3,this.material.environmentIntensity=.7,this.material.cameraExposure=.55,this.material.cameraContrast=1.6,this.material.microSurface=.96},n.prototype._createPresetPlastic=function(){this.material.linkRefractionWithTransparency=!1,this.material.useMicroSurfaceFromReflectivityMapAlpha=!1,this.material.directIntensity=.6,this.material.environmentIntensity=.7,this.material.cameraExposure=.6,this.material.cameraContrast=1.6,this.material.microSurface=.96},n.prototype._createPresetWood=function(){this.material.linkRefractionWithTransparency=!1,this.material.directIntensity=1.5,this.material.environmentIntensity=.5,this.material.specularIntensity=.3,this.material.cameraExposure=.9,this.material.cameraContrast=1.6,this.material.useMicroSurfaceFromReflectivityMapAlpha=!0},n}(t.AbstractMaterialTool);t.PBRMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"SKY-MATERIAL","SKY","Sky"),this.onObjectSupported=function(t){return t instanceof e.SkyMaterial}}return __extends(n,t),n.prototype.update=function(){return t.prototype.update.call(this)?(this._element.add(this.material,"inclination").step(.01).name("Inclination"),this._element.add(this.material,"azimuth").step(.01).name("Azimuth"),this._element.add(this.material,"luminance").step(.01).name("Luminance"),this._element.add(this.material,"turbidity").step(.01).name("Turbidity"),this._element.add(this.material,"mieCoefficient").step(1e-4).name("Mie Coefficient"),this._element.add(this.material,"mieDirectionalG").step(.01).name("Mie Coefficient G"),this._element.add(this.material,"rayleigh").step(.01).name("Reileigh Coefficient"),!0):!1},n}(t.AbstractMaterialTool);t.SkyMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"STANDARD-MATERIAL","STANDARD","Std Material"),this.onObjectSupported=function(t){return t instanceof e.StandardMaterial}}return __extends(n,t),n.prototype.update=function(){if(!t.prototype.update.call(this))return!1;this.material.useLogarithmicDepth=this.material.useLogarithmicDepth||!1,this.material.useEmissiveAsIllumination=this.material.useEmissiveAsIllumination||!1,this.material.useReflectionFresnelFromSpecular=this.material.useReflectionFresnelFromSpecular||!1;var e=this._element.addFolder("Values");e.add(this.material,"roughness").min(0).step(.01).name("Roughness");var n=this._element.addFolder("Options");n.add(this.material,"useLightmapAsShadowmap").name("Use Lightmap As Shadowmap"),n.add(this.material,"useLogarithmicDepth").name("Use Logarithmic Depth"),n.add(this.material,"useReflectionFresnelFromSpecular").name("Use Reflection Fresnel From Specular");var i=this._element.addFolder("Diffuse");this.addColorFolder(this.material.diffuseColor,"Diffuse Color",!0,i),i.add(this.material,"useAlphaFromDiffuseTexture").name("Use Alpha From Diffuse Texture"),this.addTextureButton("Diffuse Texture","diffuseTexture",i);var r=this._element.addFolder("Bump & Parallax");r.add(this.material,"useParallax").name("Use Parallax"),r.add(this.material,"useParallaxOcclusion").name("Use Parallax Occlusion"),r.add(this.material,"parallaxScaleBias").step(.001).name("Bias"),this.addTextureButton("Bump Texture","bumpTexture",r);var o=this._element.addFolder("Specular");this.addColorFolder(this.material.specularColor,"Specular Color",!0,o),o.add(this.material,"specularPower").min(0).step(.01).name("Specular Power"),o.add(this.material,"useSpecularOverAlpha").name("Use Specular Over Alpha"),o.add(this.material,"useGlossinessFromSpecularMapAlpha").name("Use Glossiness From Specular Map Alpha"),this.addTextureButton("Specular Texture","specularTexture",o);var a=this._element.addFolder("Emissive");this.addColorFolder(this.material.emissiveColor,"Emissive Color",!0,a),a.add(this.material,"useEmissiveAsIllumination").name("Use Emissive As Illumination"),this.addTextureButton("Emissive Texture","emissiveTexture",a);var s=this._element.addFolder("Ambient");this.addColorFolder(this.material.ambientColor,"Ambient Color",!0,s),this.addTextureButton("Ambient Texture","ambientTexture",s);var l=this._element.addFolder("Reflection");this.addTextureButton("Reflection Texture","reflectionTexture",l);var c=this._element.addFolder("Refraction");c.add(this.material,"indexOfRefraction").name("Index of Refraction"),c.add(this.material,"invertRefractionY").name("Invert Y"),this.addTextureButton("Refraction Texture","refractionTexture",c);return!0},n}(t.AbstractMaterialTool);t.StandardMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(t){n.call(this,t,"WATER-MATERIAL","WATER","Water"),this.onObjectSupported=function(t){return t instanceof e.WaterMaterial}}return __extends(i,n),i.prototype.update=function(){var e=this;if(!n.prototype.update.call(this))return!1;this.addColorFolder(this.material.diffuseColor,"Diffuse Color",!0),this.addColorFolder(this.material.specularColor,"Specular Color",!0);var t=this._element.addFolder("Bump");t.add(this.material,"bumpHeight").min(0).step(.01).name("Bump Height"),this.addTextureButton("Texture","bumpTexture",t);var i=this._element.addFolder("Wind");i.add(this.material,"windForce").min(0).step(.01).name("Wind Force"),this.addVectorFolder(this.material.windDirection,"Wind Direction",!0,i);var r=this._element.addFolder("Waves");r.add(this.material,"waveHeight").min(0).step(.01).name("Wave Height"),r.add(this.material,"waveLength").min(0).step(.01).name("Wave Length"),r.add(this.material,"waveSpeed").min(0).step(.01).name("Wave Speed");var o=this._element.addFolder("Color");o.add(this.material,"colorBlendFactor").min(0).max(1).step(.01).name("Blend Factor"),this.addColorFolder(this.material.waterColor,"Water Color",!0,o),this._rtsEnabled=this.material.renderTargetsEnabled;var a=this._element.addFolder("Reflection & Refraction");return a.add(this,"_rtsEnabled").name("Enable Reflection & Refraction").onChange(function(t){e.material.enableRenderTargets(t)}),a.add(this,"_configureReflection").name("Render..."),!0},i.prototype._configureReflection=function(){var e=this,n=this.material.getScene(),i=(this.material.getRenderList(),new t.ObjectPicker(this._editionTool.core));i.objectLists.push(n.meshes),i.selectedObjects=this.material.getRenderList(),i.minSelectCount=0,i.open(),i.onObjectPicked=function(t){e.material.reflectionTexture.renderList=[],e.material.refractionTexture.renderList=[];for(var i=0;i<t.length;i++){var r=n.getMeshByName(t[i]);r&&e.material.addToRenderList(r)}}},i}(t.AbstractMaterialTool);t.WaterMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"LAVA-MATERIAL","LAVA","Lava"),this.onObjectSupported=function(t){return t instanceof e.LavaMaterial}}return __extends(n,t),n.prototype.update=function(){if(!t.prototype.update.call(this))return!1;var e=this._element.addFolder("Diffuse");this.addColorFolder(this.material.diffuseColor,"Diffuse Color",!0,e),this.addTextureButton("Texture","diffuseTexture",e);var n=this._element.addFolder("Lava");this.addTextureButton("Noise Texture","noiseTexture",n),n.add(this.material,"movingSpeed").min(0).name("Moving Speed"),n.add(this.material,"lowFrequencySpeed").min(0).name("Low Frequency Speed");var i=this._element.addFolder("Fog");return this.addColorFolder(this.material.fogColor,"Fog Color",!0,i),i.add(this.material,"fogDensity").min(0).name("Fog Density"),!0},n}(t.AbstractMaterialTool);t.LavaMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"FUR-MATERIAL","FUR","Fur"),this.onObjectSupported=function(t){return t instanceof e.FurMaterial}}return __extends(n,t),n.prototype.update=function(){var e=this;if(!t.prototype.update.call(this))return!1;var n=function(){e.material.updateFur()},i=this._element.addFolder("Diffuse");this.addColorFolder(this.material.diffuseColor,"Diffuse Color",!0,i,n),this.addTextureButton("Texture","diffuseTexture",i,n);var r=this._element.addFolder("Fur");return this.addColorFolder(this.material.furColor,"Fur Color",!0,r,n),r.add(this.material,"furLength").min(0).step(.1).name("Fur Length").onChange(function(e){n()}),r.add(this.material,"furAngle").min(0).step(.1).name("Fur Angle").onChange(function(e){n()}),r.add(this.material,"furSpacing").min(0).step(.1).name("Fur Spacing").onChange(function(e){n()}),r.add(this.material,"furSpeed").min(1).max(1e3).step(.01).name("Fur Speed").onChange(function(e){n()}),r.add(this.material,"furDensity").min(0).step(.1).name("Fur Density").onChange(function(e){n()}),r.add(this.material,"highLevelFur").name("High Level Fur").onChange(function(e){n()}),this.addVectorFolder(this.material.furGravity,"Gravity",!0,r,n),!0},n}(t.AbstractMaterialTool);t.FurMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"GRADIENT-MATERIAL","GRADIENT","Gradient"),this.onObjectSupported=function(t){return t instanceof e.GradientMaterial}}return __extends(n,t),n.prototype.update=function(){if(!t.prototype.update.call(this))return!1;var e=this._element.addFolder("Top");this.addColorFolder(this.material.topColor,"Top Color",!0,e),e.add(this.material,"topColorAlpha").min(0).max(1).step(.01).name("Top Color Alpha");this._element.addFolder("Bottom");this.addColorFolder(this.material.bottomColor,"Bottom Color",!0,e),e.add(this.material,"bottomColorAlpha").min(0).max(1).step(.01).name("Bottom Color Alpha");var n=this._element.addFolder("Gradient");return n.add(this.material,"offset").step(.01).name("Offset"),n.add(this.material,"smoothness").step(.01).name("Smoothness"),!0},n}(t.AbstractMaterialTool);t.GradientMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"TERRAIN-MATERIAL","TERRAIN","Terrain"),this.onObjectSupported=function(t){return t instanceof e.TerrainMaterial}}return __extends(n,t),n.prototype.update=function(){if(!t.prototype.update.call(this))return!1;this.addTextureButton("Mix Texture","mixTexture",null).open();var e=this._element.addFolder("Diffuse");this.addColorFolder(this.material.diffuseColor,"Diffuse Color",!0,e),this.addTextureButton("Diffuse Texture R","diffuseTexture1",e).open(),this.addTextureButton("Diffuse Texture G","diffuseTexture2",e).open(),this.addTextureButton("Diffuse Texture B","diffuseTexture3",e).open();var n=this._element.addFolder("Bump");this.addTextureButton("Bump Texture R","bumpTexture1",n).open(),this.addTextureButton("Bump Texture G","bumpTexture2",n).open(),this.addTextureButton("Bump Texture B","bumpTexture3",n).open();var i=this._element.addFolder("Specular");return this.addColorFolder(this.material.specularColor,"Specular Color",!0,i),i.add(this.material,"specularPower").min(0).step(.5).name("Specular Power"),!0},n}(t.AbstractMaterialTool);t.TerrainMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"TRI-PLANAR-MATERIAL","TRI-PLANAR","Tri Planar"),this.onObjectSupported=function(t){return t instanceof e.TriPlanarMaterial}}return __extends(n,t),n.prototype.update=function(){if(!t.prototype.update.call(this))return!1;this._element.add(this.material,"tileSize").min(0).step(.01).name("Tile Size");var e=this._element.addFolder("Diffuse");this.addColorFolder(this.material.diffuseColor,"Diffuse Color",!0,e),this.addTextureButton("Diffuse Texture X","diffuseTextureX",e).open(),this.addTextureButton("Diffuse Texture Y","diffuseTextureY",e).open(),this.addTextureButton("Diffuse Texture Z","diffuseTextureZ",e).open();var n=this._element.addFolder("Bump");this.addTextureButton("Bump Texture X","normalTextureX",n).open(),this.addTextureButton("Bump Texture Y","normalTextureY",n).open(),this.addTextureButton("Bump Texture Z","normalTextureZ",n).open();var i=this._element.addFolder("Specular");return this.addColorFolder(this.material.specularColor,"Specular Color",!0,i),i.add(this.material,"specularPower").min(0).step(.5).name("Specular Power"),!0},n}(t.AbstractMaterialTool);t.TriPlanarMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"GRID-MATERIAL","GRID","Grid"),this.onObjectSupported=function(t){return t instanceof e.GridMaterial}}return __extends(n,t),n.prototype.update=function(){return t.prototype.update.call(this)?(this.addColorFolder(this.material.mainColor,"Main Color",!0),this.addColorFolder(this.material.lineColor,"Line Color",!0),this._element.add(this.material,"opacity").min(0).name("Opacity"),this._element.add(this.material,"gridRatio").step(.1).name("Grid Ratio"),this._element.add(this.material,"majorUnitFrequency").name("Major Unit Frequency"),this._element.add(this.material,"minorUnitVisibility").name("Minor Unit Frequency"),!0):!1},n}(t.AbstractMaterialTool);t.GridMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"FIRE-MATERIAL","FIRE","Fire"),this.onObjectSupported=function(t){return t instanceof e.FireMaterial}}return __extends(n,t),n.prototype.update=function(){if(!t.prototype.update.call(this))return!1;var e=this._element.addFolder("Diffuse");this.addColorFolder(this.material.diffuseColor,"Diffuse Color",!0,e),this.addTextureButton("Diffuse Texture","diffuseTexture",e).open();var n=this._element.addFolder("Fire");return n.add(this.material,"speed").min(0).step(.01).name("Speed"),this.addTextureButton("Distortion Texture","distortionTexture",n).open(),this.addTextureButton("Opacity Texture","opacityTexture",n).open(),!0},n}(t.AbstractMaterialTool);t.FireMaterialTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function e(){this.engine=null,this.canvas=null,this.camera=null,this.playCamera=null,this.isPlaying=!1,this.scenes=new Array,this.updates=new Array,this.eventReceivers=new Array,this.editor=null}return e.prototype.removeScene=function(e){for(var t=0;t<this.scenes.length;t++)if(this.scenes[t].scene===e)return this.scenes.splice(t,1),!0;return!1},e.prototype.removeEventReceiver=function(e){for(var t=0;t<this.eventReceivers.length;t++)if(this.eventReceivers[t]===e)return this.eventReceivers.splice(t,1),!0;return!1},e.prototype.onPreUpdate=function(){for(var e=0;e<this.updates.length;e++)this.updates[e].onPreUpdate()},e.prototype.onPostUpdate=function(){for(var e=0;e<this.updates.length;e++)this.updates[e].onPostUpdate()},e.prototype.sendEvent=function(e){for(var t=0;t<this.eventReceivers.length;t++)this.eventReceivers[t].onEvent(e)},e.prototype.dispose=function(){},e}();e.EditorCore=t}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function t(e){this.object=null,this.container="BABYLON-EDITOR-EDITION-TOOL",this.editionTools=new Array,this.panel=null,this._editor=e.editor,this.core=e,this.panel=this._editor.layouts.getPanelFromType("left"),this.core.updates.push(this),this.core.eventReceivers.push(this)}return t.prototype.onPreUpdate=function(){},t.prototype.onPostUpdate=function(){},t.prototype.onEvent=function(t){if(t.eventType===e.EventType.GUI_EVENT)if(t.guiEvent.eventType===e.GUIEventType.TAB_CHANGED&&t.guiEvent.caller===this.panel){var n=t.guiEvent.data;if(this._currentTab!==n){this._currentTab=n;for(var i=0;i<this.editionTools.length;i++)for(var r=this.editionTools[i],o=0;o<r.containers.length;o++){var a=$("#"+r.containers[o]);r.tab===this._currentTab?(a.show(),r.resize()):a.hide()}}}else if(t.guiEvent.eventType===e.GUIEventType.LAYOUT_CHANGED&&t.guiEvent.caller===this._editor.layouts)for(var i=0;i<this.editionTools.length;i++)this.editionTools[i].resize();return t.eventType===e.EventType.SCENE_EVENT&&t.sceneEvent.eventType===e.SceneEventType.OBJECT_PICKED?(this.object=t.sceneEvent.object,this.object&&this.isObjectSupported(this.object),!1):!1},t.prototype.updateEditionTool=function(){this.isObjectSupported(this.object)},t.prototype.isObjectSupported=function(e){for(var t=!1,n=[],i=0;i<this.editionTools.length;i++){var r=this.editionTools[i],o=r.isObjectSupported(this.object);if(o)n.push(r),this.panel.showTab(r.tab),t||(t=r.tab===this._currentTab);else for(var a=0;a<r.containers.length;a++)$("#"+r.containers[a]).hide(),this.panel.hideTab(r.tab)}for(var i=0;i<n.length;i++){var r=n[i];if(!t){for(var a=0;a<r.containers.length;a++)$("#"+r.containers[a]).show();t=!0,this._currentTab=r.tab}r.update()}return!1},t.prototype.createUI=function(){this.addTool(new e.GeneralTool(this)),this.addTool(new e.SceneTool(this)),this.addTool(new e.LightTool(this)),this.addTool(new e.AnimationTool(this)),this.addTool(new e.PostProcessesTool(this)),this.addTool(new e.ReflectionProbeTool(this)),this.addTool(new e.AudioTool(this)),this.addTool(new e.ParticleSystemTool(this)),this.addTool(new e.LensFlareTool(this)),this.addTool(new e.MaterialTool(this)),this.addTool(new e.StandardMaterialTool(this)),this.addTool(new e.SkyMaterialTool(this)),this.addTool(new e.PBRMaterialTool(this)),this.addTool(new e.WaterMaterialTool(this)),this.addTool(new e.LavaMaterialTool(this)),this.addTool(new e.FurMaterialTool(this)),this.addTool(new e.GradientMaterialTool(this)),this.addTool(new e.TerrainMaterialTool(this)),this.addTool(new e.TriPlanarMaterialTool(this)),this.addTool(new e.GridMaterialTool(this)),this.addTool(new e.FireMaterialTool(this));for(var t=0;t<e.PluginManager.EditionToolPlugins.length;t++)this.addTool(new e.PluginManager.EditionToolPlugins[t](this))},t.prototype.addTool=function(e){var t=this.container;$("#"+t).append('<div id="'+e.containers[0]+'"></div>'),$("#"+e.containers[0]).hide();for(var n=1;n<e.containers.length;n++)$("#"+t).after('<div id="'+e.containers[n]+'"></div>'),$("#"+e.containers[n]).hide(),t=e.containers[n];e.createUI(),this.editionTools.push(e)},t}();e.EditionTool=t}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function e(e){this.onClose=null,this._containers=[],this.core=e,this.editor=e.editor,this.panel=this.editor.layouts.getPanelFromType("preview"),this._mainPanel=this.editor.layouts.getPanelFromType("main")}return e.prototype.addContainer=function(e,t){if(t){var n=$("#"+t)[0];if(n)return!1}return $("#BABYLON-EDITOR-PREVIEW-PANEL").append(e),!0},e.prototype.close=function(){this.onClose&&this.onClose(),$("#BABYLON-EDITOR-PREVIEW-PANEL").empty(),this.onClose=null},e.prototype.setPanelSize=function(e){var t=this.panel._panelElement.height;t+=this._mainPanel._panelElement.height,this.editor.layouts.setPanelSize("preview",t*e/100)},e}();e.EditPanel=t}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(e,n,i){void 0===n&&(n=!1),void 0===i&&(i=null),this.layouts=null,this.playLayouts=null,this.filesInput=null,this.renderMainScene=!0,this.renderHelpers=!0,this.core=new t.EditorCore,this.core.editor=this,this.container=e,this.mainContainer=e+"MAIN",this.antialias=n,this.options=i,this._createUI(),this._createBabylonEngine(),this.core.eventReceivers.push(this),this.editionTool=new t.EditionTool(this.core),this.editionTool.createUI(),this.sceneGraphTool=new t.SceneGraphTool(this.core),this.sceneGraphTool.createUI(),this.mainToolbar=new t.MainToolbar(this.core),this.mainToolbar.createUI(),this.toolsToolbar=new t.ToolsToolbar(this.core),this.toolsToolbar.createUI(),this.sceneToolbar=new t.SceneToolbar(this.core),this.sceneToolbar.createUI(),this.transformer=new t.Transformer(this.core),this.editPanel=new t.EditPanel(this.core),this.timeline=new t.Timeline(this.core),this.timeline.createUI(),this.filesInput=new t.FilesInput(this.core,this._handleSceneLoaded(),null,null,null,null),this.filesInput.monitorElementForDragNDrop(this.core.canvas),this.filesInput.renderFunction=function(){}}return Object.defineProperty(n,"DummyNodeID",{get:function(){return"BABYLON-EDITOR-DUMMY-NODE"},enumerable:!0,configurable:!0}),n.prototype.onEvent=function(e){return e.eventType===t.EventType.GUI_EVENT&&e.guiEvent.eventType===t.GUIEventType.LAYOUT_CHANGED?(this.core.engine.resize(),!0):!1},n.prototype._createUI=function(){var e=this;this.layouts=new t.GUI.GUILayout(this.container,this.core),this.layouts.createPanel("BABYLON-EDITOR-EDITION-TOOL-PANEL","left",380,!0).setContent('<div id="BABYLON-EDITOR-EDITION-TOOL"></div>'),this.layouts.createPanel("BABYLON-EDITOR-TOP-TOOLBAR-PANEL","top",70,!1).setContent('<div id="BABYLON-EDITOR-MAIN-TOOLBAR" style="height: 50%"></div><div id="BABYLON-EDITOR-TOOLS-TOOLBAR" style="height: 50%"></div>'),this.layouts.createPanel("BABYLON-EDITOR-GRAPH-PANEL","right",350,!0).setContent('<div id="BABYLON-EDITOR-SCENE-GRAPH-TOOL" style="height: 100%;"></div>');var n=this.layouts.createPanel("BABYLON-EDITOR-MAIN-PANEL","main",void 0,void 0).setContent('<div id="'+this.mainContainer+'" style="height: 100%; width: 100%;"></div>');n.style="overflow: hidden;",this.layouts.createPanel("BABYLON-EDITOR-PREVIEW-PANEL","preview",70,!0).setContent('<div style="width: 100%; height: 100%; overflow: hidden;"><div id="BABYLON-EDITOR-PREVIEW-PANEL" style="height: 100%;"></div></div>'),this.layouts.createPanel("BABYLON-EDITOR-BOTTOM-PANEL","bottom",0,!1).setContent('<div id="BABYLON-EDITOR-BOTTOM-PANEL" style="height: 100%;"></div>'),this.layouts.buildElement(this.container),this.playLayouts=new t.GUI.GUILayout(this.mainContainer,this.core);var n=this.playLayouts.createPanel("BABYLON-EDITOR-MAIN-MAIN-PANEL","main",void 0,void 0).setContent('<canvas id="BABYLON-EDITOR-MAIN-CANVAS"></canvas><div id="BABYLON-EDITOR-SCENE-TOOLBAR"></div>');n.style="overflow: hidden;",this.playLayouts.createPanel("BABYLON-EDITOR-MAIN-PREVIEW-PANEL","preview",0,!1).setContent('<div id="BABYLON-EDITOR-PREVIEW-TIMELINE" style="height: 100%; width: 100%; overflow: hidden;"></div>'),this.playLayouts.buildElement(this.mainContainer),this.playLayouts.on({execute:"after",type:"resize"},function(){var t=e.layouts.getPanelFromType("main").height,n=e.sceneToolbar.toolbar.element.box.clientHeight;e.core.canvas.height=t-1.5*n-e.playLayouts.getPanelFromType("preview").height})},n.prototype._handleSceneLoaded=function(){var e=this;return function(n,i){e.core.removeScene(e.core.currentScene),e.core.scenes.push({scene:i,render:!0}),e.core.currentScene=i;var r=i.activeCamera;e._createBabylonCamera(),r&&r.speed&&(e.core.camera.speed=r.speed),e.core.currentScene.activeCamera=e.core.camera,e.core.playCamera=r,e.core.engine.stopRenderLoop(),e.createRenderLoop();for(var o=null,a=0;a<i.meshes.length;a++)t.SceneManager.ConfigureObject(i.meshes[a],e.core,o);e.sceneGraphTool.createUI(),e.sceneGraphTool.fillGraph(),t.SceneFactory.NodesToStart=[],e.timeline.reset()}},n.prototype._createBabylonEngine=function(){var t=this;this.core.canvas=document.getElementById("BABYLON-EDITOR-MAIN-CANVAS"),this.core.engine=new e.Engine(this.core.canvas,this.antialias,this.options),this.core.currentScene=new e.Scene(this.core.engine),this.core.currentScene.animations=[],this.core.scenes.push({render:!0,scene:this.core.currentScene}),this._createBabylonCamera(),window.addEventListener("resize",function(e){t.core.isPlaying&&(t.core.isPlaying=!1),t.core.engine.resize()})},n.prototype._createBabylonCamera=function(){var t=new e.ArcRotateCamera("EditorCamera",0,0,10,e.Vector3.Zero(),this.core.currentScene);t.panningSensibility=50,t.attachControl(this.core.canvas,!1,!1),this.core.camera=t},n.prototype.createRenderLoop=function(){var e=this;this.core.engine.runRenderLoop(function(){e.update()})},n.prototype.update=function(){if(this.core.onPreUpdate(),this.renderMainScene)for(var e=0;e<this.core.scenes.length;e++)this.core.scenes[e].render&&this.core.scenes[e].scene.render();this.transformer.getScene().render(),this.core.onPostUpdate()},n.prototype.dispose=function(){},n}();t.EditorMain=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function t(e){this.container="BABYLON-EDITOR-MAIN-TOOLBAR",this.toolbar=null,this.panel=null,this.particleSystemMenu=null,this.particleSystemCopyItem=null,this.particleSystemPasteItem=null,this._plugins=[],this._mainProject="MAIN-PROJECT",this._mainProjectOpenFiles="MAIN-PROJECT-OPEN-FILES",this._mainProjectReload="MAIN-PROJECT-RELOAD",this._projectExportCode="PROJECT-EXPORT-CODE",this._projectExportBabylonScene="PROJECT-EXPORT-BABYLON-SCENE",this._projectConnectStorage="PROJECT-CONNECT-STORAGE",this._projectTemplateStorage="PROJECT-TEMPLATE-STORAGE",this._mainEdit="MAIN-EDIT",this._mainEditLaunch="EDIT-LAUNCH",this._mainEditTextures="EDIT-TEXTURES",this._mainAdd="MAIN-ADD",this._addPointLight="ADD-POINT-LIGHT",this._addDirectionalLight="ADD-DIRECTIONAL-LIGHT",this._addSpotLight="ADD-SPOT-LIGHT",this._addHemisphericLight="ADD-HEMISPHERIC-LIGHT",this._addParticleSystem="ADD-PARTICLE-SYSTEM",this._addSkyMesh="ADD-SKY-MESH",this._addWaterMesh="ADD-WATER-MESH",this._addLensFlare="ADD-LENS-FLARE",this._addReflectionProbe="ADD-REFLECTION-PROBE",this._addRenderTarget="ADD-RENDER-TARGET",this._particlesMain="PARTICLES-MAIN",this._particlesCopy="PARTICLES-COPY",this._particlesPaste="PARTICLES-PASTE",this._particlesPlay="PARTICLES-PLAY",this._particlesStop="PARTICLES-STOP",this._editor=e.editor,this.core=e,this.panel=this._editor.layouts.getPanelFromType("top"),this.core.updates.push(this),this.core.eventReceivers.push(this)}return t.prototype.onPreUpdate=function(){},t.prototype.onPostUpdate=function(){},t.prototype.onEvent=function(t){var n=this;if(t.eventType===e.EventType.GUI_EVENT&&t.guiEvent.eventType===e.GUIEventType.TOOLBAR_MENU_SELECTED){if(t.guiEvent.caller!==this.toolbar||!t.guiEvent.data)return!1;var i=t.guiEvent.data,r=this.toolbar.decomposeSelectedMenu(i);if(!r||!r.hasParent)return!1;if(r.parent===this._mainProject){if(r.selected===this._mainProjectOpenFiles){var o=$("#BABYLON-EDITOR-LOAD-SCENE-FILE");o.change(function(e){n._editor.filesInput.loadFiles(e)}).click()}else if(r.selected===this._mainProjectReload)this.core.editor.filesInput.reload();else if(r.selected===this._projectExportCode){var a=new e.Exporter(this.core);a.openSceneExporter()}else if(r.selected===this._projectExportBabylonScene){var s=new e.BabylonExporter(this.core);s.createUI()}else if(r.selected===this._projectConnectStorage){var l=new e.StorageExporter(this.core);l["export"]()}else if(r.selected===this._projectTemplateStorage){var l=new e.StorageExporter(this.core);l.createTemplate()}return!0}if(r.parent===this._mainEdit){if(r.selected===this._mainEditLaunch){new e.LaunchEditor(this.core)}else if(r.selected===this._mainEditTextures){new e.GUITextureEditor(this.core,"")}return!0}if(r.parent===this._mainAdd)return r.selected===this._addPointLight?e.SceneFactory.AddPointLight(this.core):r.selected===this._addDirectionalLight?e.SceneFactory.AddDirectionalLight(this.core):r.selected===this._addSpotLight?e.SceneFactory.AddSpotLight(this.core):r.selected===this._addHemisphericLight?e.SceneFactory.AddHemisphericLight(this.core):r.selected===this._addParticleSystem?e.SceneFactory.AddParticleSystem(this.core):r.selected===this._addLensFlare?e.SceneFactory.AddLensFlareSystem(this.core):r.selected===this._addSkyMesh?e.SceneFactory.AddSkyMesh(this.core):r.selected===this._addWaterMesh?e.SceneFactory.AddWaterMesh(this.core):r.selected===this._addReflectionProbe?e.SceneFactory.AddReflectionProbe(this.core):r.selected===this._addRenderTarget&&e.SceneFactory.AddRenderTargetTexture(this.core),!0;if(r.parent===this._particlesMain){if(r.selected===this._particlesCopy)e.GUIParticleSystemEditor._CopiedParticleSystem=e.GUIParticleSystemEditor._CurrentParticleSystem;else if(r.selected===this._particlesPaste){if(!e.GUIParticleSystemEditor._CopiedParticleSystem)return!0;var c=this.core.editor.sceneGraphTool.sidebar.getSelectedNode();if(!c||!c.data||!c.data.position)return!0;var d=e.GUIParticleSystemEditor.CreateParticleSystem(this.core.currentScene,e.GUIParticleSystemEditor._CopiedParticleSystem.getCapacity(),e.GUIParticleSystemEditor._CopiedParticleSystem,c.data);e.Event.sendSceneEvent(d,e.SceneEventType.OBJECT_ADDED,this.core),this._editor.editionTool.updateEditionTool()}else r.selected===this._particlesPlay?e.GUIParticleSystemEditor.PlayStopAllParticleSystems(this.core.currentScene,!0):r.selected===this._particlesStop&&e.GUIParticleSystemEditor.PlayStopAllParticleSystems(this.core.currentScene,!1);return!0}for(var h=0;h<this._plugins.length;h++)if(r.parent===this._plugins[h].menuID)return this._plugins[h].onMenuItemSelected(r.selected),!0}return!1},t.prototype.createUI=function(){null!=this.toolbar&&this.toolbar.destroy(),this.toolbar=new e.GUI.GUIToolbar(this.container,this.core);var t=this.toolbar.createMenu("menu",this._mainProject,"Project","icon-folder");this.toolbar.createMenuItem(t,"button",this._mainProjectOpenFiles,"Open Files","icon-copy"),this.toolbar.createMenuItem(t,"button",this._mainProjectReload,"Reload...","icon-copy"),this.toolbar.addBreak(t),this.toolbar.createMenuItem(t,"button",this._projectExportCode,"Export...","icon-export"),this.toolbar.createMenuItem(t,"button",this._projectExportBabylonScene,"Export .babylon Scene...","icon-export"),this.toolbar.addBreak(t),this.toolbar.createMenuItem(t,"button",this._projectConnectStorage,"Save on OneDrive","icon-one-drive"),this.toolbar.createMenuItem(t,"button",this._projectTemplateStorage,"Template on OneDrive","icon-one-drive"),t=this.toolbar.createMenu("menu","MAIN-EDIT","Edit","icon-edit"),this.toolbar.createMenuItem(t,"button",this._mainEditLaunch,"Animate at Launch...","icon-play-game"),this.toolbar.addBreak(t),this.toolbar.createMenuItem(t,"button",this._mainEditTextures,"Edit Textures...","icon-copy"),t=this.toolbar.createMenu("menu",this._mainAdd,"Add","icon-add"),this.toolbar.createMenuItem(t,"button",this._addPointLight,"Add Point Light","icon-light"),this.toolbar.createMenuItem(t,"button",this._addDirectionalLight,"Add Directional Light","icon-directional-light"),this.toolbar.createMenuItem(t,"button",this._addSpotLight,"Add Spot Light","icon-directional-light"),this.toolbar.createMenuItem(t,"button",this._addHemisphericLight,"Add Hemispheric Light","icon-light"),this.toolbar.addBreak(t),this.toolbar.createMenuItem(t,"button",this._addParticleSystem,"Add Particle System","icon-particles"),
this.toolbar.addBreak(t),this.toolbar.createMenuItem(t,"button",this._addLensFlare,"Add Lens Flare","icon-lens-flare"),this.toolbar.addBreak(t),this.toolbar.createMenuItem(t,"button",this._addSkyMesh,"Add Sky","icon-shaders"),this.toolbar.createMenuItem(t,"button",this._addWaterMesh,"Add Water","icon-water"),this.toolbar.addBreak(t),this.toolbar.createMenuItem(t,"button",this._addReflectionProbe,"Add Reflection Probe","icon-effects"),this.toolbar.createMenuItem(t,"button",this._addRenderTarget,"Add Render Target Texture","icon-camera"),this.particleSystemMenu=t=this.toolbar.createMenu("menu",this._particlesMain,"Particles","icon-particles"),this.particleSystemCopyItem=this.toolbar.createMenuItem(t,"button",this._particlesCopy,"Copy Selected Particle System","icon-copy",!1,!0),this.particleSystemPasteItem=this.toolbar.createMenuItem(t,"button",this._particlesPaste,"Paste Particle System","icon-copy",!1,!0),this.toolbar.addBreak(t),this.toolbar.createMenuItem(t,"button",this._particlesPlay,"Start All Particles","icon-play-game"),this.toolbar.createMenuItem(t,"button",this._particlesStop,"Stop All Particles","icon-error");for(var n=0;n<e.PluginManager.MainToolbarPlugin.length;n++)this._plugins.push(new e.PluginManager.MainToolbarPlugin[n](this));this.toolbar.buildElement(this.container)},t}();e.MainToolbar=t}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(e){this.container="BABYLON-EDITOR-SCENE-GRAPH-TOOL",this.sidebar=null,this.panel=null,this._graphRootName="RootScene",this._menuDeleteId="BABYLON-EDITOR-SCENE-GRAPH-TOOL-REMOVE",this._menuCloneId="BABYLON-EDITOR-SCENE-GRAPH-TOOL-CLONE",this._editor=e.editor,this._core=e,this.panel=this._editor.layouts.getPanelFromType("right"),this._core.updates.push(this),this._core.eventReceivers.push(this)}return n.prototype.onPreUpdate=function(){},n.prototype.onPostUpdate=function(){},n.prototype.onEvent=function(n){if(n.eventType===t.EventType.GUI_EVENT){if(n.guiEvent.caller===this.sidebar){if(n.guiEvent.eventType===t.GUIEventType.GRAPH_SELECTED||n.guiEvent.eventType===t.GUIEventType.GRAPH_DOUBLE_SELECTED){var i=new t.Event;return i.eventType=t.EventType.SCENE_EVENT,i.sceneEvent=new t.SceneEvent(n.guiEvent.data,t.SceneEventType.OBJECT_PICKED),this._core.sendEvent(i),n.guiEvent.eventType===t.GUIEventType.GRAPH_DOUBLE_SELECTED&&this._core.editor.sceneToolbar.setFocusOnObject(n.guiEvent.data),!0}if(n.guiEvent.eventType===t.GUIEventType.GRAPH_MENU_SELECTED){var r=n.guiEvent.data,o=this.sidebar.getSelectedData(),a=this._core.currentScene;if(!o)return!1;if(r===this._menuDeleteId){if(o&&o.dispose&&o!==this._core.camera){o.dispose(),this._ensureObjectDispose(o);var s=this.sidebar.getNode(this.sidebar.getSelected());s&&s.parent&&(s.parent.count=s.parent.count||0,s.parent.count--,s.parent.count<=0&&(s.parent.count=void 0)),this.sidebar.removeNode(this.sidebar.getSelected()),this.sidebar.refresh(),t.Event.sendSceneEvent(o,t.SceneEventType.OBJECT_REMOVED,this._core)}return!0}if(r===this._menuCloneId){if(!(o instanceof e.Mesh))return!0;if(!o.geometry){var l=o.clone(o.name+"Cloned",o.parent);t.Event.sendSceneEvent(l,t.SceneEventType.OBJECT_ADDED,this._core),t.Event.sendSceneEvent(l,t.SceneEventType.OBJECT_PICKED,this._core),this.sidebar.setSelected(l.id);for(var c=null,d=0;d<a.particleSystems.length;d++)if(a.particleSystems[d].emitter===o)c=a.particleSystems[d].particleTexture._buffer;else if(a.particleSystems[d].emitter===l){a.particleSystems[d].particleTexture=e.Texture.CreateFromBase64String(c,a.particleSystems[d].particleTexture.name+"Cloned",a);break}}return!0}}}}else if(n.eventType===t.EventType.SCENE_EVENT){if(n.sceneEvent.eventType===t.SceneEventType.OBJECT_ADDED){var o=n.sceneEvent.object;if(o instanceof e.ReflectionProbe){var h=this.sidebar.createNode(o.name+this._core.currentScene.reflectionProbes.length,o.name,"icon-effects",o);this.sidebar.addNodes(h,this._graphRootName+"TARGETS")}else if(o instanceof e.RenderTargetTexture){var h=this.sidebar.createNode(o.name+this._core.currentScene.customRenderTargets.length,o.name,"icon-camera",o);this.sidebar.addNodes(h,this._graphRootName+"TARGETS")}else{var u=null;n.sceneEvent.object instanceof e.ParticleSystem?u=n.sceneEvent.object.emitter:n.sceneEvent.object instanceof e.LensFlareSystem&&(u=n.sceneEvent.object.getEmitter()),this._modifyElement(n.sceneEvent.object,u,o.id?o.id:t.SceneFactory.GenerateUUID())}return!1}if(n.sceneEvent.eventType===t.SceneEventType.OBJECT_REMOVED)return this.sidebar.removeNode(n.sceneEvent.object.id),this.sidebar.refresh(),!1}return!1},n.prototype.fillGraph=function(n,i){var r=null,o=null,a=this._core.currentScene;if(!i){this.sidebar.clear();var s=this.sidebar.createNode(this._graphRootName,"Scene","icon-scene",this._core.currentScene);this.sidebar.addNodes(s),o=this._graphRootName;var l=this.sidebar.createNode(this._graphRootName+"TARGETS","Render Targets","icon-folder");this.sidebar.addNodes(l,this._graphRootName);for(var c=0;c<a.reflectionProbes.length;c++){var d=a.reflectionProbes[c];this.sidebar.addNodes(this.sidebar.createNode(d.name+c,d.name,"icon-effects",d),l.id)}for(var c=0;c<a.customRenderTargets.length;c++){var h=a.customRenderTargets[c];e.Tags.HasTags(h)&&e.Tags.MatchesQuery(h,"added")&&this.sidebar.addNodes(this.sidebar.createNode(h.name+c,d.name,"icon-camera",d),l.id)}var u=this.sidebar.createNode(this._graphRootName+"AUDIO","Audio","icon-folder");this.sidebar.addNodes(u,this._graphRootName);for(var c=0;c<a.soundTracks.length;c++){var m=a.soundTracks[c],p=this.sidebar.createNode("Soundtrack "+m.id,"Soundtrack "+m.id,"icon-sound",m);1===a.soundTracks.length&&(p.expanded=!0),p.count=m.soundCollection.length,this.sidebar.addNodes(p,u.id);for(var f=0;f<m.soundCollection.length;f++){var A=m.soundCollection[f];this.sidebar.addNodes(this.sidebar.createNode("Sound"+f,A.name,"icon-sound",A),p.id)}}}if(n?r=n.getDescendants?n.getDescendants():[]:(r=[],this._getRootNodes(r,"cameras"),this._getRootNodes(r,"lights"),this._getRootNodes(r,"meshes")),o===this._graphRootName&&this.sidebar.setNodeExpanded(o,!0),n&&a.particleSystems.length>0)for(var c=0;c<a.particleSystems.length;c++){var v=a.particleSystems[c];if(v.emitter&&v.emitter===n){var E=this.sidebar.createNode(v.id,v.name,"icon-particles",v);this.sidebar.addNodes(E,n.id)}}if(n&&a.lensFlareSystems.length>0)for(var c=0;c<a.lensFlareSystems.length;c++){var T=a.lensFlareSystems[c];if(T.getEmitter()===n){var y=this.sidebar.createNode(t.SceneFactory.GenerateUUID(),T.name,"icon-lens-flare",T);this.sidebar.addNodes(y,n.id)}}if(n instanceof e.AbstractMesh&&n.subMeshes&&n.subMeshes.length>1){var g=this.sidebar.createNode(n.id+"SubMeshes","Sub-Meshes","icon-mesh",n);g.count=n.subMeshes.length,this.sidebar.addNodes(g,n.id);for(var c=0;c<n.subMeshes.length;c++){var S=n.subMeshes[c],b=this.sidebar.createNode(n.id+"SubMesh"+c,S.getMaterial().name,"icon-mesh",S);this.sidebar.addNodes(b,g.id)}}if(null!==r)for(var c=0;c<r.length;c++){var I=r[c],O=I.getDescendants().length,L=this._getObjectIcon(I),P=this.sidebar.createNode(I.id,I.name,L,I);O>0&&(P.count=O),this.sidebar.addNodes(P,o?o:n.id),this.fillGraph(I,I.id)}},n.prototype.createUI=function(){null!=this.sidebar&&this.sidebar.destroy(),this.sidebar=new t.GUI.GUIGraph(this.container,this._core),this.sidebar.addMenu(this._menuDeleteId,"Remove","icon-error"),this.sidebar.addMenu(this._menuCloneId,"Clone","icon-clone"),this.sidebar.buildElement(this.container);var e=this.sidebar.createNode(this._graphRootName,"Scene","icon-scene",this._core.currentScene);this.sidebar.addNodes(e)},n.prototype._getRootNodes=function(e,t){for(var n=this._core.currentScene[t],i=0;i<n.length;i++)n[i].parent||e.push(n[i])},n.prototype._getObjectIcon=function(t){return t instanceof e.Mesh?t.skeleton?"icon-animated-mesh":"icon-mesh":t instanceof e.SubMesh?"icon-mesh":t instanceof e.Light?t instanceof e.DirectionalLight?"icon-directional-light":"icon-light":t instanceof e.Camera?"icon-camera":t instanceof e.ParticleSystem?"icon-particles":t instanceof e.LensFlareSystem?"icon-lens-flare":t instanceof e.Sound?"icon-sound":""},n.prototype._modifyElement=function(e,t,n){if(e){var i=this._getObjectIcon(e);if(t){var r=this.sidebar.getNode(t.id);r&&(r.count=r.count||0,r.count++)}this.sidebar.addNodes(this.sidebar.createNode(n?n:e.id,e.name,i,e),t?t.id:this._graphRootName),this.sidebar.refresh()}},n.prototype._ensureObjectDispose=function(e){var t,n=this._core.currentScene;for(t=0;t<n.lensFlareSystems.length;t++){var i=n.lensFlareSystems[t];i.getEmitter()===e&&i.dispose()}for(t=0;t<n.particleSystems.length;t++){var r=n.particleSystems[t];r.emitter===e&&r.dispose()}for(t=0;t<n.lights.length;t++){var o=n.lights[t].getShadowGenerator();if(o)for(var a=o.getShadowMap().renderList,s=0;s<a.length;s++)a[s]===e&&a.splice(s,1)}for(t=0;t<n.customRenderTargets.length;t++)for(var l=n.customRenderTargets[t],s=0;s<l.renderList.length;s++)l.renderList[s]===e&&l.renderList.splice(s,1)},n}();t.SceneGraphTool=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(e){this.container="BABYLON-EDITOR-SCENE-TOOLBAR",this.toolbar=null,this.panel=null,this._fpsInput=null,this._wireframeID="WIREFRAME",this._boundingBoxID="BOUNDINGBOX",this._centerOnObjectID="CENTER-ON-OBJECT",this._renderHelpersID="RENDER-HELPERS",this._editor=e.editor,this._core=e,this.panel=this._editor.layouts.getPanelFromType("main"),this._core.updates.push(this),this._core.eventReceivers.push(this)}return n.prototype.onPreUpdate=function(){},n.prototype.onPostUpdate=function(){},n.prototype.onEvent=function(e){if(e.eventType===t.EventType.GUI_EVENT&&e.guiEvent.eventType===t.GUIEventType.TOOLBAR_MENU_SELECTED){if(e.guiEvent.caller!==this.toolbar||!e.guiEvent.data)return!1;var n=e.guiEvent.data,i=n.split(":"),r=this.toolbar.getItemByID(i[i.length-1]),o=this._core.currentScene;if(null===r)return!1;if(-1!==n.indexOf(this._wireframeID)){var a=!this.toolbar.isItemChecked(n);return o.forceWireframe=a,this.toolbar.setItemChecked(n,a),!0}if(-1!==n.indexOf(this._boundingBoxID)){var a=!this.toolbar.isItemChecked(n);return o.forceShowBoundingBoxes=a,this.toolbar.setItemChecked(n,a),!0}if(-1!==n.indexOf(this._renderHelpersID)){var a=!this.toolbar.isItemChecked(n);return this._core.editor.renderHelpers=a,this.toolbar.setItemChecked(n,a),!0}if(-1!==n.indexOf(this._centerOnObjectID)){var s=this._core.editor.sceneGraphTool.sidebar.getSelectedData();return this.setFocusOnObject(s),!0}}return!1},n.prototype.createUI=function(){var e=this;null!=this.toolbar&&this.toolbar.destroy(),this.toolbar=new t.GUI.GUIToolbar(this.container,this._core),this.toolbar.createMenu("button",this._wireframeID,"Wireframe","icon-wireframe"),this.toolbar.addBreak(),this.toolbar.createMenu("button",this._boundingBoxID,"Bounding Box","icon-bounding-box"),this.toolbar.addBreak(),this.toolbar.createMenu("button",this._renderHelpersID,"Helpers","icon-helpers",!0),this.toolbar.addBreak(),this.toolbar.createMenu("button",this._centerOnObjectID,"Focus object","icon-focus"),this.toolbar.addBreak(),this.toolbar.addSpacer(),this.toolbar.createInput("SCENE-TOOLBAR-FPS","SCENE-TOOLBAR-FPS-INPUT","FPS :",5),this.toolbar.buildElement(this.container),this._fpsInput=$("#SCENE-TOOLBAR-FPS-INPUT").w2field("int",{autoFormat:!0}),this._fpsInput.change(function(n){t.GUIAnimationEditor.FramesPerSecond=parseFloat(e._fpsInput.val()),e._configureFramesPerSecond()}),this._fpsInput.val(String(t.GUIAnimationEditor.FramesPerSecond))},n.prototype.setFocusOnObject=function(t){if(t&&t.position){var n=this._core.currentScene,i=this._core.camera,r=t.position;t.getAbsolutePosition&&(r=t.getAbsolutePosition()),t.getBoundingInfo&&(r=t.getBoundingInfo().boundingSphere.centerWorld);var o=[{frame:0,value:i.target},{frame:1,value:r}],a=new e.Animation("FocusOnObjectAnimation","target",10,e.Animation.ANIMATIONTYPE_VECTOR3,e.Animation.ANIMATIONLOOPMODE_CONSTANT);a.setKeys(o),n.stopAnimation(i),n.beginDirectAnimation(i,[a],0,1,!1,1)}},n.prototype.setFramesPerSecond=function(e){this._fpsInput.val(String(e)),this._configureFramesPerSecond()},n.prototype._configureFramesPerSecond=function(){var e=function(e){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].animations.length;i++)e[n].animations[i].framePerSecond=t.GUIAnimationEditor.FramesPerSecond};e([this._core.currentScene]),e(this._core.currentScene.meshes),e(this._core.currentScene.lights),e(this._core.currentScene.cameras),e(this._core.currentScene.particleSystems);for(var n=0;n<this._core.currentScene.skeletons.length;n++)e(this._core.currentScene.skeletons[n].bones)},n}();t.SceneToolbar=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(e){var t=this;this.container="BABYLON-EDITOR-PREVIEW-TIMELINE",this.animations=[],this._overlay=null,this._overlayText=null,this._overlayObj=null,this._mousex=0,this._mousey=0,this._isOver=!1,this._maxFrame=1e3,this._currentTime=0,this._frameRects=[],this._frameTexts=[],this._currentAnimationFrame=0,this._core=e,this._panel=e.editor.playLayouts.getPanelFromType("preview"),e.editor.playLayouts.on({type:"resize",execute:"before"},function(){t._updateTimeline()}),this._core.updates.push(this),this._core.eventReceivers.push(this)}return n.prototype.onEvent=function(e){return!1},n.prototype.onPreUpdate=function(){this._paper.setSize(this._panel.width-17,20),this._rect.attr("width",this._panel.width-17),this._animatedRect.attr("x",this._currentAnimationFrame)},n.prototype.onPostUpdate=function(){},n.prototype.play=function(){var e=this._frameAnimation.getKeys();this._frameAnimation.framePerSecond=t.GUIAnimationEditor.FramesPerSecond,e[0].frame=this._getFrame(),e[0].value=this._getPosition(this._currentTime),e[1].frame=this._maxFrame,e[1].value=this._getPosition(this._maxFrame),this._core.currentScene.beginAnimation(this,e[0].frame,this._maxFrame,!1,t.SceneFactory.AnimationSpeed)},n.prototype.stop=function(){this._core.currentScene.stopAnimation(this)},Object.defineProperty(n.prototype,"currentTime",{get:function(){return this._currentTime},enumerable:!0,configurable:!0}),n.prototype.reset=function(){this._maxFrame=t.GUIAnimationEditor.GetSceneFrameCount(this._core.currentScene),this._currentTime=0,this._selectorRect.attr("x",0),this.setFramesOfAnimation(null),this._core.editor.playLayouts.setPanelSize("preview",t.SceneFactory.NodesToStart.length>0?40:0)},n.prototype.setFramesOfAnimation=function(e){for(var t=0;t<this._frameRects.length;t++)this._frameRects[t].remove();if(e)for(var n=e.getKeys(),t=0;t<n.length;t++){var i=this._getPosition(n[t].frame),r=this._paper.rect(i-1.5,this._panel.height-30,3,10);r.attr("fill","red"),r.attr("stroke","black"),this._frameRects.push(r)}},n.prototype.createUI=function(){var n=this;this._paper=Raphael(this.container,0,25),this._rect=this._paper.rect(0,0,0,20),this._rect.attr("fill",Raphael.rgb(237,241,246)),this._selectorRect=this._paper.rect(0,0,10,20),this._selectorRect.attr("fill",Raphael.rgb(200,191,231)),this._animatedRect=this._paper.rect(0,0,4,20),this._frameAnimation=new e.Animation("anim","_currentAnimationFrame",12,e.Animation.ANIMATIONTYPE_FLOAT,e.Animation.ANIMATIONLOOPMODE_CYCLE),this._frameAnimation.setKeys([{frame:0,value:0},{frame:1,value:1}]),this.animations.push(this._frameAnimation);var i=function(i){n._mousex=e.MathTools.Clamp(i.pageX-n._paper.canvas.getBoundingClientRect().left,0,n._paper.width),n._mousey=e.MathTools.Clamp(i.pageY-n._paper.canvas.getBoundingClientRect().top,0,n._paper.height),n._currentTime=n._getFrame(),n._selectorRect.attr("x",n._mousex),n._currentTime>=0&&n._currentTime<n._maxFrame-1&&t.GUIAnimationEditor.SetCurrentFrame(n._core,t.SceneFactory.NodesToStart,n._currentTime),n._overlayText.text("Frame: "+e.Tools.Format(n._currentTime,0)),n._overlayObj.css({left:i.pageX})};window.addEventListener("mousemove",function(e){n._isOver&&i(e)}),window.addEventListener("mouseup",function(e){n._isOver&&n._overlayText.remove(),n._isOver=!1}),this._paper.canvas.addEventListener("mousedown",function(e){n._isOver=!0,n._overlay=$(n._paper.canvas).w2overlay({html:'<div id="BABYLON-EDITOR-TIMELINE-TEXT" style="padding: 10px; line-height: 150%"></div>'}),n._overlayText=$("#BABYLON-EDITOR-TIMELINE-TEXT"),n._overlayObj=$("#w2ui-overlay"),i(e)}),this._updateTimeline()},n.prototype._updateTimeline=function(){for(var t=10,n=0;n<this._frameTexts.length;n++){this._frameTexts[n].text.remove();for(var i=0;i<this._frameTexts[n].bars.length;i++)this._frameTexts[n].bars[i].remove()}this._frameTexts=[];for(var n=0;t>n;n++){var r=this._maxFrame/t*this._panel.width/this._maxFrame*(n+1),o=this._paper.text(r,this._panel.height-35,e.Tools.Format(this._getFrame(r),0));o.node.setAttribute("pointer-events","none"),o.node.style.msUserSelect="none",o.node.style.webkitUserSelect="none",o.attr("font-family","MS Reference Sans Serif"),o.attr("fill","#555");for(var a=[],i=0;t>i;i++){r=this._maxFrame/t*this._panel.width/this._maxFrame*(n+i/t);var s=this._paper.rect(r,this._panel.height-(0===i?30:25),.25,0===i?10:5);s.attr("fill",Raphael.rgb(32,32,32)),a.push(s)}this._frameTexts.push({text:o,bars:a})}},n.prototype._getFrame=function(t){var n=this._rect.attr("width");return t?t*this._maxFrame/n:e.MathTools.Clamp(this._mousex*this._maxFrame/n,0,this._maxFrame-1)},n.prototype._getPosition=function(e){var t=this._rect.attr("width");return e*t/this._maxFrame},n}();t.Timeline=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(e){this.container="BABYLON-EDITOR-TOOLS-TOOLBAR",this.toolbar=null,this.panel=null,this._playGameID="PLAY-GAME",this._transformerPositionID="TRANSFORMER-POSITION",this._transformerRotationID="TRANSFORMER-ROTATION",this._transformerScalingID="TRANSFORMER-SCALING",this._editor=e.editor,this._core=e,this.panel=this._editor.layouts.getPanelFromType("top"),this._core.updates.push(this),this._core.eventReceivers.push(this)}return n.prototype.onPreUpdate=function(){},n.prototype.onPostUpdate=function(){},n.prototype.onEvent=function(n){if(n.eventType===t.EventType.GUI_EVENT&&n.guiEvent.eventType===t.GUIEventType.TOOLBAR_MENU_SELECTED){if(n.guiEvent.caller!==this.toolbar||!n.guiEvent.data)return!1;var i=n.guiEvent.data,r=i.split(":"),o=this.toolbar.getItemByID(r[r.length-1]);if(null===o)return!1;var a=[this._transformerPositionID,this._transformerRotationID,this._transformerScalingID].indexOf(i);if(-1!==a){var s=this.toolbar.isItemChecked(i);return this.toolbar.setItemChecked(this._transformerPositionID,!1),this.toolbar.setItemChecked(this._transformerRotationID,!1),this.toolbar.setItemChecked(this._transformerScalingID,!1),this.toolbar.setItemChecked(i,!s),this._editor.transformer.transformerType=s?t.TransformerType.NOTHING:a,!0}if(-1!==i.indexOf(this._playGameID)){var s=!this.toolbar.isItemChecked(i);if(s){this._core.engine.resize(),this._core.isPlaying=!0;for(var l=1*this._editor.timeline.currentTime/t.GUIAnimationEditor.FramesPerSecond/t.SceneFactory.AnimationSpeed,c=0;c<t.SceneFactory.NodesToStart.length;c++){var d=t.SceneFactory.NodesToStart[c];d instanceof e.Sound?(d.stop(),d.play(0,l)):(this._core.currentScene.stopAnimation(d),this._core.currentScene.beginAnimation(d,this._editor.timeline.currentTime,Number.MAX_VALUE,!1,t.SceneFactory.AnimationSpeed))}this._editor.timeline.play()}else{this._core.engine.resize();for(var c=0;c<t.SceneFactory.NodesToStart.length;c++){var d=t.SceneFactory.NodesToStart[c];this._core.currentScene.stopAnimation(d),d instanceof e.Sound&&d.stop()}this._core.editor.timeline.stop()}this.toolbar.setItemChecked(i,s),t.SceneManager.SwitchActionManager();for(var c=0;c<this._core.currentScene.meshes.length;c++)this._core.currentScene.meshes[c].showBoundingBox=!1;return!0}}return!1},n.prototype.createUI=function(){null!=this.toolbar&&this.toolbar.destroy(),this.toolbar=new t.GUI.GUIToolbar(this.container,this._core),this.toolbar.createMenu("button",this._playGameID,"Play...","icon-play-game",void 0,"Play Game..."),this.toolbar.addBreak(),this.toolbar.createMenu("button",this._transformerPositionID,"","icon-position",void 0,"Set Position..."),this.toolbar.createMenu("button",this._transformerRotationID,"","icon-rotation",void 0,"Set Rotation..."),this.toolbar.createMenu("button",this._transformerScalingID,"","icon-scaling",void 0,"Set Scale..."),this.toolbar.buildElement(this.container)},n}();t.ToolsToolbar=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){!function(e){e[e.POSITION=0]="POSITION",e[e.ROTATION=1]="ROTATION",e[e.SCALING=2]="SCALING",e[e.NOTHING=3]="NOTHING"}(t.TransformerType||(t.TransformerType={}));var n=t.TransformerType,i=function(){function i(i){var r=this;this.core=null,this._scene=null,this._node=null,this._helperPlane=null,this._planeMaterial=null,this._subMesh=null,this._batch=null,this._cameraTexture=null,this._soundTexture=null,this._lightTexture=null,this._transformerType=n.POSITION,this._xTransformers=new Array,this._yTransformers=new Array,this._zTransformers=new Array,this._sharedScale=e.Vector3.Zero(),this._pickingPlane=e.Plane.FromPositionAndNormal(e.Vector3.Zero(),e.Vector3.Up()),this._mousePosition=e.Vector3.Zero(),this._mouseDown=!1,this._pickPosition=!0,this._pickingInfo=null,this._vectorToModify=null,this._selectedTransform="",this._distance=0,this._multiplier=20,this._ctrlIsDown=!1,this.core=i,i.eventReceivers.push(this),i.updates.push(this),this._scene=new e.Scene(i.engine),this._scene.autoClear=!1,this._scene.postProcessesEnabled=!1,i.canvas.addEventListener("mousedown",function(e){r._mouseDown=!0}),i.canvas.addEventListener("mouseup",function(n){if(r._mouseDown=!1,r._pickPosition=!0,r._pickingInfo){var o=r._pickingInfo.pickedMesh.material;o.emissiveColor=o.emissiveColor.multiply(new e.Color3(1.5,1.5,1.5))}r._pickingInfo=null,i.currentScene.activeCamera.attachControl(i.canvas),r._node&&t.Event.sendSceneEvent(r._node,t.SceneEventType.OBJECT_CHANGED,i)}),$(window).keydown(function(e){e.ctrlKey&&r._ctrlIsDown===!1&&(r._multiplier=1,r._ctrlIsDown=!0,r._pickPosition=!0)}),$(window).keyup(function(e){e.ctrlKey||r._ctrlIsDown!==!0||(r._multiplier=10,r._ctrlIsDown=!1,r._pickPosition=!0)}),this._createTransformers(),this.createHelpers(i)}return i.prototype.createHelpers=function(t){this._planeMaterial=new e.StandardMaterial("HelperPlaneMaterial",this._scene),this._planeMaterial.emissiveColor=e.Color3.White(),this._planeMaterial.useAlphaFromDiffuseTexture=!0,this._planeMaterial.disableDepthWrite=!1,this._scene.materials.pop(),this._cameraTexture=new e.Texture("../css/images/camera.png",this._scene),this._cameraTexture.hasAlpha=!0,this._scene.textures.pop(),this._soundTexture=new e.Texture("../css/images/sound.png",this._scene),this._soundTexture.hasAlpha=!0,this._scene.textures.pop(),this._lightTexture=new e.Texture("../css/images/light.png",this._scene),this._lightTexture.hasAlpha=!0,this._scene.textures.pop(),this._helperPlane=e.Mesh.CreatePlane("HelperPlane",1,this._scene,!1),this._helperPlane.billboardMode=e.Mesh.BILLBOARDMODE_ALL,this._scene.meshes.pop(),this._helperPlane.material=this._planeMaterial},i.prototype.onEvent=function(e){if(e.eventType===t.EventType.SCENE_EVENT)if(e.sceneEvent.eventType===t.SceneEventType.OBJECT_REMOVED){if(e.sceneEvent.data===this._node)return this._node=null,!1}else if(e.sceneEvent.eventType===t.SceneEventType.OBJECT_PICKED)return this._node=e.sceneEvent.object?e.sceneEvent.object:null,!1;return!1},i.prototype.onPreUpdate=function(){this._scene.activeCamera=this.core.currentScene.activeCamera;var t=this._node;if(t){var n=0;this.core.isPlaying||(n=.03*e.Vector3.Distance(this._scene.activeCamera.position,this._xTransformers[0].position));var i=new e.Vector3(n,n,n).divide(new e.Vector3(3,3,3));this._sharedScale.x=i.x,this._sharedScale.y=i.y,this._sharedScale.z=i.z,this._distance=n;var r=this._getNodePosition();r&&(this._xTransformers[0].position.copyFrom(r),this._yTransformers[0].position.copyFrom(this._xTransformers[0].position),this._zTransformers[0].position.copyFrom(this._xTransformers[0].position),this._yTransformers[0].position.y+=1.3*n,this._zTransformers[0].position.z+=1.3*n,this._xTransformers[0].position.x+=1.3*n,this._xTransformers[1].position.copyFrom(r),this._yTransformers[1].position.copyFrom(r),this._zTransformers[1].position.copyFrom(r),this._xTransformers[2].position.copyFrom(this._xTransformers[0].position),this._yTransformers[2].position.copyFrom(this._yTransformers[0].position),this._zTransformers[2].position.copyFrom(this._zTransformers[0].position),this._mouseDown&&this._updateTransform(n))}},i.prototype.onPostUpdate=function(){var t=this;if((!this.core.isPlaying||this.core.currentScene.activeCamera===this.core.camera)&&this.core.editor.renderHelpers){var n=this._scene.getEngine();if(n.setAlphaTesting(!0),this._planeMaterial.isReady(this._helperPlane)){this._subMesh=this._helperPlane.subMeshes[0];var i=this._planeMaterial.getEffect();this._batch=this._helperPlane._getInstancesRenderList(this._subMesh._id),n.enableEffect(i),this._helperPlane._bind(this._subMesh,i,e.Material.TriangleFillMode),this._planeMaterial.diffuseTexture=this._cameraTexture,this._renderHelperPlane(this.core.currentScene.cameras,function(e){return e===t.core.currentScene.activeCamera?!1:(t._helperPlane.position.copyFrom(e.position),!0)}),this._planeMaterial.diffuseTexture=this._soundTexture;for(var r=0;r<this.core.currentScene.soundTracks.length;r++){var o=this.core.currentScene.soundTracks[r];this._renderHelperPlane(o.soundCollection,function(e){return e.spatialSound?(t._helperPlane.position.copyFrom(e._position),!0):!1})}this._planeMaterial.diffuseTexture=this._lightTexture,this._renderHelperPlane(this.core.currentScene.lights,function(e){return e.getAbsolutePosition?(t._helperPlane.position.copyFrom(e.getAbsolutePosition()),!0):!1})}}},Object.defineProperty(i.prototype,"transformerType",{get:function(){return this._transformerType},set:function(e){this._transformerType=e;for(var t=0;t<n.NOTHING;t++)this._xTransformers[t].setEnabled(!1),this._yTransformers[t].setEnabled(!1),this._zTransformers[t].setEnabled(!1);e!==n.NOTHING&&(this._xTransformers[e].setEnabled(!0),this._yTransformers[e].setEnabled(!0),this._zTransformers[e].setEnabled(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"node",{get:function(){return this._node},set:function(e){this._node=e},enumerable:!0,configurable:!0}),i.prototype.getScene=function(){return this._scene},i.prototype._getNodePosition=function(){var e=this._node,t=null;return e._position?t=e._position:e.position&&(t=e.position),t},i.prototype._renderHelperPlane=function(t,n){for(var i=this._planeMaterial.getEffect(),r=0;r<t.length;r++){var o=t[r];if(n(o)){var a=.03*e.Vector3.Distance(this.core.currentScene.activeCamera.position,this._helperPlane.position);this._helperPlane.scaling=new e.Vector3(a,a,a),this._helperPlane.computeWorldMatrix(!0),this._scene._cachedMaterial=null,this._planeMaterial.bind(this._helperPlane.getWorldMatrix(),this._helperPlane),this._helperPlane._processRendering(this._subMesh,i,e.Material.TriangleFillMode,this._batch,!1,function(e,t){i.setMatrix("world",t)})}}},i.prototype._updateTransform=function(t){if(null===this._pickingInfo){var i=this._scene.pick(this._scene.pointerX,this._scene.pointerY);if(!i.hit&&null===this._pickingInfo)return;i.hit&&null===this._pickingInfo&&(this._pickingInfo=i)}var r=this._pickingInfo.pickedMesh.parent||this._pickingInfo.pickedMesh,o=this._node,a=this._getNodePosition();this._pickPosition&&(-1!==this._xTransformers.indexOf(r)?(this._pickingPlane=e.Plane.FromPositionAndNormal(a,new e.Vector3(0,0,-1)),this._selectedTransform="x"):-1!==this._yTransformers.indexOf(r)?(this._pickingPlane=e.Plane.FromPositionAndNormal(a,new e.Vector3(-1,0,0)),this._selectedTransform="y"):-1!==this._zTransformers.indexOf(r)&&(this._pickingPlane=e.Plane.FromPositionAndNormal(a,new e.Vector3(0,-1,0)),this._selectedTransform="z"),this.core.currentScene.activeCamera.detachControl(this.core.canvas),this._findMousePositionInPlane(this._pickingInfo)&&(this._mousePosition.copyFrom(this._mousePositionInPlane),this._transformerType===n.POSITION?(this._mousePosition=this._mousePosition.subtract(a),this._vectorToModify=this._getNodePosition()):this._transformerType===n.SCALING&&o.scaling?(this._mousePosition=this._mousePosition.subtract(o.scaling),this._vectorToModify=o.scaling):this._transformerType===n.ROTATION&&(o.rotation||o.direction)?(this._vectorToModify=o.direction||o.rotation,this._mousePosition=this._mousePosition.subtract(this._vectorToModify)):this._vectorToModify=null,r.material.emissiveColor=r.material.emissiveColor.multiply(new e.Color3(.5,.5,.5)),this._pickPosition=!1)),this._vectorToModify&&this._findMousePositionInPlane(this._pickingInfo)&&("x"===this._selectedTransform?this._vectorToModify.x=this._mousePositionInPlane.x-this._mousePosition.x:"y"===this._selectedTransform?this._vectorToModify.y=this._mousePositionInPlane.y-this._mousePosition.y:"z"===this._selectedTransform&&(this._vectorToModify.z=this._mousePositionInPlane.z-this._mousePosition.z),this._node instanceof e.Sound&&this._node.setPosition(this._vectorToModify))},i.prototype._getIntersectionWithLine=function(t,n){var i=e.Vector3.Dot(this._pickingPlane.normal,n);if(0===i)return!1;-(e.Vector3.Dot(this._pickingPlane.normal,t)+this._pickingPlane.d)/i;return this._mousePositionInPlane=t.add(n).multiplyByFloats(this._multiplier,this._multiplier,this._multiplier),!0},i.prototype._findMousePositionInPlane=function(t){var n=this._scene.createPickingRay(this._scene.pointerX,this._scene.pointerY,e.Matrix.Identity(),this._scene.activeCamera);return this._getIntersectionWithLine(n.origin,n.direction)?!0:!1},i.prototype._createTransformers=function(){var t=[new e.Color3(1,0,0),new e.Color3(0,1,0),new e.Color3(0,0,1)],i=null,r=null,o=null;i=this._createPositionTransformer(t[0],n.POSITION),r=this._createPositionTransformer(t[1],n.POSITION),o=this._createPositionTransformer(t[2],n.POSITION),o.rotation.x=Math.PI/2,i.rotation.z=-(Math.PI/2),this._xTransformers.push(i),this._yTransformers.push(r),this._zTransformers.push(o),i=this._createRotationTransformer(t[0],n.ROTATION),r=this._createRotationTransformer(t[1],n.ROTATION),o=this._createRotationTransformer(t[2],n.ROTATION),o.rotation.x=Math.PI/2,i.rotation.z=-(Math.PI/2),this._xTransformers.push(i),this._yTransformers.push(r),this._zTransformers.push(o),i=this._createScalingTransformer(t[0],n.SCALING),r=this._createScalingTransformer(t[1],n.SCALING),o=this._createScalingTransformer(t[2],n.SCALING),o.rotation.x=Math.PI/2,i.rotation.z=-(Math.PI/2),this._xTransformers.push(i),this._yTransformers.push(r),this._zTransformers.push(o);for(var a=0;a<n.NOTHING;a++)this._xTransformers[a].setEnabled(!1),this._yTransformers[a].setEnabled(!1),this._zTransformers[a].setEnabled(!1)},i.prototype._createPositionTransformer=function(t,n){var i=e.Mesh.CreateCylinder("PositionTransformer"+n,8,.4,.4,8,1,this._scene,!0);i.scaling=this._sharedScale,i.isPickable=!0;var r=e.Mesh.CreateCylinder("PositionTransformerCross"+n,2,0,3,8,1,this._scene,!0);r.isPickable=!0,r.parent=i,r.scaling=new e.Vector3(1.3,1.3,1.3),r.position.y=5;var o=new e.StandardMaterial("PositionTransformerMaterial"+n,this._scene);return o.emissiveColor=t,i.material=o,r.material=o,i},i.prototype._createRotationTransformer=function(t,n){var i=e.Mesh.CreateTorus("RotationTransformer"+n,20,.75,35,this._scene,!0);i.scaling=this._sharedScale;var r=new e.StandardMaterial("RotationTransformerMaterial"+n,this._scene);return r.emissiveColor=t,i.material=r,i},i.prototype._createScalingTransformer=function(t,n){var i=e.Mesh.CreateCylinder("ScalingTransformer"+n,8,.4,.4,8,1,this._scene,!0);i.scaling=this._sharedScale,i.isPickable=!0;var r=e.Mesh.CreateBox("ScalingTransformerBox"+n,2,this._scene,!0);i.isPickable=!0,r.parent=i,r.position.y=5;var o=new e.StandardMaterial("ScalingTransformerMaterial"+n,this._scene);return o.emissiveColor=t,
i.material=o,r.material=o,i},i}();t.Transformer=i}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e,t,r,o,a,s){n.call(this,e.engine,e.currentScene,e.canvas,i._callback(t,e,this),r,o,a,i._callbackStart(e))}return __extends(i,n),i._callbackStart=function(e){return function(){e.editor.layouts.lockPanel("main","Loading...",!0)}},i._callback=function(n,i,r){var o=function(e,n){return function(e){t.ProjectImporter.ImportProject(i,e),i.editor.sceneGraphTool.createUI(),i.editor.sceneGraphTool.fillGraph(),i.editor.timeline.reset(),n.msClose&&n.msClose()}};return function(t,a){for(var s=r._filesToLoad,l=0;l<s.length;l++)(-1!==s[l].name.indexOf(".editorproject")||-1!==s[l].name.indexOf(".js"))&&e.Tools.ReadFile(s[l],o(a,s[l]),null);a.getEngine().hideLoadingUI(),n&&n(t,a),i.editor.layouts.unlockPanel("main")}},i}(e.FilesInput);t.FilesInput=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(){}return n.GenerateUUID=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},n.ConfigureObject=function(n,i){(n instanceof e.AbstractMesh||n instanceof e.Scene)&&t.SceneManager.ConfigureObject(n,i),e.Tags.EnableFor(n),e.Tags.AddTagsTo(n,"added"),t.Event.sendSceneEvent(n,t.SceneEventType.OBJECT_ADDED,i)},n.CreateHDRPipeline=function(t,n){void 0===n&&(n={}),this.HDRPipeline&&(this.HDRPipeline.dispose(),this.HDRPipeline=null);var i,r=t.currentScene.cameras,o={finalRatio:1,blurRatio:.25};if(n.lensTexture&&n.lensTexture.name)i=e.Texture.Parse(n.lensTexture,t.currentScene,"./");else{var a="data:image/jpeg;base64,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";

n.lensTexture&&n.lensTexture.base64Name&&(a=n.lensTexture.base64Buffer),i=e.Texture.CreateFromBase64String(a,"lensdirt.jpg",t.currentScene)}i.name=i.name.replace("data:","");var s=new e.HDRRenderingPipeline("hdr",t.currentScene,o,null,r,i);return s.brightThreshold=n.brightThreshold||1,s.gaussCoeff=n.gaussCoeff||.4,s.gaussMean=n.gaussMean||0,s.gaussStandDev=n.gaussStandDev||9,s.minimumLuminance=n.minimumLuminance||.5,s.luminanceDecreaseRate=n.luminanceDecreaseRate||.5,s.luminanceIncreaserate=n.luminanceIncreaserate||.5,s.exposure=n.exposure||1,s.gaussMultiplier=n.gaussMultiplier||4,s.exposureAdjustment=n.exposureAdjustment||s.exposureAdjustment,this.HDRPipeline=s,s},n.CreateSSAOPipeline=function(t,n){void 0===n&&(n={}),this.SSAOPipeline&&(this.SSAOPipeline.dispose(),this.SSAOPipeline=null);var i=t.currentScene.cameras,r=new e.SSAORenderingPipeline("ssao",t.currentScene,{ssaoRatio:.5,combineRatio:1},i);return r.fallOff=n.fallOff||r.fallOff,r.area=n.area||r.area,r.radius=n.radius||r.radius,r.totalStrength=n.totalStrength||r.totalStrength,r.base=n.base||r.base,this.SSAOPipeline=r,r},n.CreateVLSPostProcess=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i={});var r=new e.VolumetricLightScatteringPostProcess("vls",{passRatio:.5,postProcessRatio:1},t.camera,n,100);null===n&&this.ConfigureObject(r.mesh,t);for(var o=0;o<t.currentScene.cameras.length;o++)t.currentScene.cameras[o]!==t.camera&&t.currentScene.cameras[o].attachPostProcess(r);return r},n.AddPointLight=function(t){var n=new e.PointLight("New PointLight",new e.Vector3(10,10,10),t.currentScene);return n.id=this.GenerateUUID(),this.ConfigureObject(n,t),n},n.AddDirectionalLight=function(t){var n=new e.DirectionalLight("New DirectionalLight",new e.Vector3(-1,-2,-1),t.currentScene);return n.position=new e.Vector3(10,10,10),n.id=this.GenerateUUID(),this.ConfigureObject(n,t),n},n.AddSpotLight=function(t){var n=new e.SpotLight("New SpotLight",new e.Vector3(10,10,10),new e.Vector3(-1,-2,-1),.8,2,t.currentScene);return n.id=this.GenerateUUID(),this.ConfigureObject(n,t),n},n.AddHemisphericLight=function(t){var n=new e.HemisphericLight("New HemisphericLight",new e.Vector3(-1,-2,-1),t.currentScene);return n.id=this.GenerateUUID(),this.ConfigureObject(n,t),n},n.AddBoxMesh=function(t){var n=e.Mesh.CreateBox("New Box",1,t.currentScene,!1);return n.id=this.GenerateUUID(),this.ConfigureObject(n,t),n},n.AddSphereMesh=function(t){var n=e.Mesh.CreateSphere("New Sphere",32,1,t.currentScene,!1);return n.id=this.GenerateUUID(),this.ConfigureObject(n,t),n},n.AddPlaneMesh=function(t){var n=e.Mesh.CreatePlane("New Plane",1,t.currentScene,!1);return n.id=this.GenerateUUID(),this.ConfigureObject(n,t),n},n.AddGroundMesh=function(t){var n=e.Mesh.CreateGround("New Ground",10,10,32,t.currentScene,!1);return n.id=this.GenerateUUID(),this.ConfigureObject(n,t),n},n.AddHeightMap=function(t){var n=e.Mesh.CreateGroundFromHeightMap("New Height Map","",10,10,32,1,1,t.currentScene,!1);return n.id=this.GenerateUUID(),this.ConfigureObject(n,t),n},n.AddParticleSystem=function(e,n){var i=this;if(void 0===n&&(n=!0),n){var r=new t.ObjectPicker(e);r.objectLists.push(e.currentScene.meshes),r.objectLists.push(e.currentScene.lights),r.windowName="Select an emitter ?",r.selectButtonName="Add",r.closeButtonName="Cancel",r.minSelectCount=0,r.onObjectPicked=function(n){if(n.length>1){var r=new t.GUI.GUIDialog("ParticleSystemDialog",e,"Warning","A Particle System can be attached to only one mesh.\nThe first was considered as the mesh.");r.buildElement(null)}var o=t.GUIParticleSystemEditor.CreateParticleSystem(e.currentScene,1e3);if(e.currentScene.meshes.pop(),o.emitter.id=i.GenerateUUID(),n.length>0){var a=o.emitter;a.dispose(!0),o.emitter=e.currentScene.getNodeByName(n[0]),t.Event.sendSceneEvent(o,t.SceneEventType.OBJECT_ADDED,e)}else e.currentScene.meshes.push(o.emitter),t.Event.sendSceneEvent(o.emitter,t.SceneEventType.OBJECT_ADDED,e),t.Event.sendSceneEvent(o,t.SceneEventType.OBJECT_ADDED,e);o.emitter.attachedParticleSystem=o},r.onClosedPicker=function(){},r.open()}},n.AddLensFlareSystem=function(i,r,o){if(void 0===r&&(r=!0),r){var a=new t.ObjectPicker(i);return a.objectLists.push(i.currentScene.meshes),a.objectLists.push(i.currentScene.lights),a.minSelectCount=1,a.windowName="Select an emitter...",a.onObjectPicked=function(r){if(r.length>1){var o=new t.GUI.GUIDialog("ReflectionProbeDialog",a.core,"Warning","A Lens Flare System can be attached to only one mesh.\nThe first was considered as the mesh.");o.buildElement(null)}var s=i.currentScene.getNodeByName(r[0]);if(s){var l=new e.LensFlareSystem("New Lens Flare System",s,i.currentScene);n.AddLensFlare(i,l,.2,0,new e.Color3(1,1,1)),n.AddLensFlare(i,l,.5,.2,new e.Color3(.5,.5,1)),n.AddLensFlare(i,l,.2,1,new e.Color3(1,1,1)),n.AddLensFlare(i,l,.4,.4,new e.Color3(1,.5,1)),n.AddLensFlare(i,l,.1,.6,new e.Color3(1,1,1)),n.AddLensFlare(i,l,.3,.8,new e.Color3(1,1,1))}t.Event.sendSceneEvent(l,t.SceneEventType.OBJECT_ADDED,i)},a.open(),null}},n.AddLensFlare=function(t,n,i,r,o){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAgAElEQVR4nO296XLkuK41Co6SUrbbdfY57/+EN7q67UwNHHB/gIuklGlXVVdPO+JThENmaiYJYGEBJJVzzjEzU9mUUurfXNZGayZmRUoxMYctBPpkm6ZpYm7n435/VTmllP5N9fXNsrXWflaB/7ZNG62ZW8WH/XEHmOd5JiIax3EkJiIlv3vjfX/9eb+Fbes7mCKllnVZvvf9YozxT/jMv22rjY8P/q8oq/ojEUkjQ9K99x4NPl/med3WFQ1MTDS6rkM82CvbOgQx0TiN4yu/vq7buhIT7WHf933flVJq3/f9rAn+FfXzA+X/Sg2wp31/HV9fiYimp2nqJTbnnNGgzMzWWHuQ6PxY8uveNMl/tA8hBOecUyQdIOucY4wxx5xTTOm/TQOofxsGwPs8srHDNAyQUO9E0o0y5iDJjg4SPaqjxK9KJPkjDfCt8732Hh2BmMg4Y1JIqZ6/r+tyW5aPMELOOfcdjkg66j9W//82DfDofcZpHJWSDpBTzs46p5RSe9h3Q8YwNdUfOARU/OjH0WnniNuHZ3VsAKWPGsCQdKiKMTiEZVuWaZimZVsWr5uJ2fd996P3+7rv1lnLzJw5Zybmbdk2ZuZ1Wdf+W3KS47h/3xj/xFY7wL/FJjnrHBPzNE3TOIwjGSKoYCKilFNyRjoAM7PRrcGccy5RSrjnOIxjDjm7wTlIqFHG9DaerEggyimn1Et8ynK/dZOGRIeLIUam0uBdB0IHwPtSJlqWZdk26RBnDYAO8P8wQNmen56fh3EYpnGalnVZzjbZKrHp3ooqho2v4E+TqPKC/pUrKq806KSKWwgN4E5eQJKGqqAwtevXtUhzpwGyFsyRYkopptR3ACZmlZQax3Fc13Vd1mUJIYQePP7jGuDvxgBnkAT0/jQ/PTHJft/3/SOb/mX68uXQoM8dCGTRHLg3E/M0tvIf2Wqjl/sppdSyFBtfbPvyviwVA6QjZrgrX8Ur2dbibv7DPII998C/unzemJnnyzw7Lx1x3/fduaayYdOfxqcnERfmcR5HVNg4jWMvcePYykRiBnoeoO6/czOmmYyKIc7eQdeAtMt7w2Q44xwRUUghOOscDc2kMTGjg0E9/93t8Y/xANM0TcMwDMYY45xzYRf3yvkC2kgp553zWoibeZxnYiJjjRkuw1Ab/HJE7ePUyuM0jiqe3DnTqfy+AT8oe3ckjgIL+q8aSh8b9AwqSQl3gPI4jeOyLMs4jeM4jOO6rWuPEf7u9vjbMUCMMb6+vr5OY1Pde9h378Sme+89/GzpD9IAT5NoAOWVGi7DgArtVX7tAN022SNPoOznfv7d/tSBvr5//do/ryeamJm3a0H/hTjCPkTRZDkVnoKIllVMyTiO469ff/11Xdf17+YR/nIMcPbrvzx/+aKd1oqUSntKNFG18ZfpchnMMEBy5mme/ew97nWZLpfMOc/TPFe/fJCOMw2loSGB5XmTmyaqb0N3mOJun8oemyFats6vT8f7b3Hbeqo47KIhrsv1ysScY85ERL+///47QOWyNMyQs5gU8ArQCH8Xb/C3YYBxGMfBD4NxxsQ9Ruut1U5roGZIOJNgAiLpAIFCuEyXCypknub5Ml0u+BD43+MwjswnFVzcygMGMB80PPb9cTphAGK2ZG0PUqFR8L3eeP9+e3+fp3lmYn57e3tjZn55enn5/e3334FTSBGty7oyMaPDOSd4gblhg0Nn/Ava5y/HAIqUGoZhABhLISXjjCEiMt4YSO58ERvvjHOQ8Hma56BKBygNMI0i0TifdPuoaZgmuIHV73ed3y8vduAVpI67Mne8AIl7Nw3TVDtIdz4Ts1HCC1Q0b48dULHs397f3l6eX14MGbMsywLeIYRGXB1ArTpqivP2X4EBrLV2Gqbp9fn1dd3FVlonkk9EpJ3WVlsLCb9Ml4u33s9jp+KfvO81QI8dzm4eTMDoGw4IOQTnRbLKlx8r9Fvlk0U+u4VbPEYPt/djGee/vYsmuF1vt0cY4Xq7XgFyieU5wAjv1/f3v4o3sD9rQ7Q+hWeDhGfneZ7nyzwba8wa19WP3u/7vruhqeR5mOeXl5cXogbeoBGmi/AD0zhNaEDnncuUs3feA62TJekoviOGuvfxqqF466y1fDz+rf2mBNT1oPNw3lYYxdJxhpdh2Pd9R/2ELLbdjfINiuT8qiG0UsttWeZZNBrcx3Eax3Ecx5xz1kbr2/V2+yswwU9jgEfqab7MMz6IWCSFidk5afzLLBKNmP0wDQM+ehja/8xyjfON+sU9nBfKGA0O+2n00W8/u2Xaav0pBjjtnSogFvdzSsUQo1JKpZASOp4ipfZNOAzm4v7t+z5PpR7AayhR+YhWKt1M5XJbFtQXTFKPia5X0RI/017n8k/HAs4awHvv50tT4cYag+CNc86No0j6XDb469hXNE9KjdM4okH9WKJ/ptjc4iYaI3iCSEAUooO1p5ejKCN28L0dICWJDRyIIG7uHGIFYStuXmxE0b7vu7HGXG/XK94xbCG8X9/flVLq/f39Peucl9uybIuYjhBD2Ld9hzeB2IRSYgoAKvE+aNA/2n7V/vcH/0iZWBqgSn45x5UNDTbPgo7neZ6Zmad5ms6++zg1pq/a7yIZIIqweS8qvrfd6HCQ2B9R+ed9HzxillgBERE0iVHG7KuYNnQQIgF3zjmXs7it1+V6RWPN8zzDhL0tb2/996q9gVMiorRIB4MmWNd13fd9v9MEf7D9fpoHAHFRbf54lDAwcy9PLy/MzP/7P//7v0REYPC+zF++MBUJJyIzyfXjUDCBbzbXOmuh8o2T85AXUFWq69A9Fx6gffWRCv6OclY571FsOrPwAP3zssq5Z/pyOpVDzvvW3MY1iI1fN3EBc8j5erter4toCUg4QOF6PcUSwByWWMLPYgKjtSDyP7rlnPN8mef5SexUTdpUSo2DqPbn+flZkVIv88uLscZA4sdpHJ1yzo/e+9F7bbUehmGAWRq9dBKoeu+8V0YprbU2zhittdZKnmedtUpLJzHKGGOMGf04aqO1Ukppo7XSSllrrTHGWGOtNlqbsqGstFL9+cYY44zEJow2Bi6sNlrnnDMrMYPGGJNyStbIu9eyk7I11qYk5RAlLhBTjJyFq1CkVIghWGttCCF4733YQ7BGzodb2pvsGOV6NOy58b9n+2keAJJP7YBIvheu23vvny/SAZ7n52dyxwQPR865USrYDyLNo5fj4OKd6+L/xU2qe2UMGpmphIkhESTn92VvmsZ4aPN1SimkVK8nY/aw7wg/ZxLbr5RS2mqdY5NAYAZvva/lnJIfvA9bCG5wLoQQKq9QWuB6u15Rh4lLPgOYwl2eB++AFNE0ThPe73a73X6GJ/gpDWCttc/Pz894MSZmbbSeBknmGP04Pl2enoiIXuaXF2Ki8bmo9ouoZvjxfmyULpGYAGusRY/33nuttdauSSkkX1ut0QkGNwwGcq2MUU40hjJKaaW1Jq2hUep53T5yjP35xEXyy/0ix6h00RBKKaNEEyVOyWhjtNL6UC7vRkq0hlHGWGttTDEaY0yKKdWYBzHvYd8h/d57r6m0j5J4wlkTaKX1HiS/4A+14Y/a/J7bRzQPEuScc2Yotrl4A34otr38Dv8eNh5unTcdp18kShutq40vneCM+pEQUt+3o2addc7SKSm036v74NCkTkmmTkAdcMDs5jnFlnW0qnVVpJR38p15K15AaF7DHvbdD6KZgpGEEPAiiGWELYSny9OTddYut2WhQe7/df36dbqIxI/DON5utxuo6Gmcpsw5++Q9MATc1u9tzx/WADh/Gqbpy/OXLzFLahSieKyYn+fn51/mX34hElV9uVwuT09PT845p43WUPGjFxOhrdZ+kMbVWmtjjVFGKWNFopxv7p7WIsGwtZBGbbS23lpIIY5ba61WRaK1aI9DuUg6+AJcX7GGNiYlse0aG3CFah202nhtbcopAVvELBoFmCAnIXZyzhm3SzElY+U5KadkrbWkiGKIkUzzKGKIcQ/7brQxORdvI4bgnfek5LyqMb5z+2EM0HP767aubmrxewA99LCX+eXFDMbAvj3NT0/I8auJGlRsPxG5Qfx4Y4whJUDKaXED4e5B4qs7qMUlq26j7Wjf0gEffbixwif0aeSVI+jPo+P1mSQNvF4fhZkkku9CzqBSwgMAk4QUArABNCiRBITc4FzcY/SD98pKDGCaShSzMJ1ILvXO+z00pnG+zPP1dr3Ok+x/tD3/kAZ4ujw9wQZnztkYY6ABjDHmZX55gc3XViQWKV/TNE3OODcO42ittXawtqdKK6PnpCInP03aaO2990YbY51IIsrQFJBsrbR21jmrRfKBGbQ+egOgZA9aoTuO8xXL/7hfxQjlGqMEG2TOWSshxYAZiMRGQyOkLDmD6IAppaRNpwFKTqF11qYommDd1hWexDlOAU3grffIN+jN0/ds38QA5wSF//vyf/+nndY55GysMWDoxmkcKwVMROTLiJ1ZbDoZ8elB42aWbF0M1QI6h8Q665yzzgF9o1OgrEgp5BX0Ug/JRHm0R5LpR7fkUoL9JypJpR1GiEpMIARiU+KfExF5631YQ/AkGsIb70MKYQ+NF8h7zn7yPoQQ3MW52yKcP/iMPAtPMD/NM2miwQ3D+/v7OxjCLWyb885NPE1GGbPaYz7Bt3IMvxkL6LfX19fXczwf3H7fM8dpHGtqVnHrcAzcOYJC/f9uKLaepfKYmeFZwO1iYoaJIJKOwlwGitBjlc/EbO0nYPCDPTq/ty0ppU87TzElbbVOQfZERI7kfUISKhdeQE45p5ASzBRMQuKUkAeJYBmYxX2TWAIz82253fr2mS/zfL1er87LefjOcZCUM3TCb7VvNQFnNwJlgI1pmqbnp+dnACYlPpDSWoAQuH2QPM45N16E2ycloHEcJNbtB+/94D1QviKlgAO0FhXunYBCY4V8ATg0uuADa4z11jpdSCIrJqGXPoAsEERVteuTqv+gTERktZgcgDtQ07XedNNEnEX9JxYwCFJMm3JcMWsSk2CN3I+zdOgali/dl5NwGDnlDB6ESMAmkWhm55xb93VNKSVFYgq99z7GGFOSjor2+6h9vzsWMAzDwMSc9pS0E9uqndbzMM+X+XIBt0/UNADuMflGx/aS3/8GYGeVtcikhUlgZoa2ATbA787JtXhnmAgMMMkkFdAPK++/8bOyYWN6EIj7AXQSESHlC+9jVcuvqGCtaALDxuTYRjYxS6xh3/edy9bXyb4200MkKXFv4e0NZvZ6vV4Rg6jUc8wZ4xA+a89qVnu/mqhRin3DW2vtOIyjMcbQQMRKwJxSSv3ny3/+o7XW1lk7Xabpy/zli1XWeuv9OEoamPPittnBWm+816qAOGWM8Q3YWWvtMAwDGSLSUgnWWquMUt42jaB0KwPkkRbzYo24gkSFLDFNWr31PpucSROREenFs1D2RjQH3DS4ppBubcQ1xHFFShktmolV6SCiMkT6qbmAWshrnZW8g3FyDSvmxCnBJTXKGBBWpIVNzJyzMqJ4Y4wxp5yHYRhSEi0SthA4Ma/7uk7DNCVOKXKMlKUdq8Y6te935QMgb7+6NaX3zFOL54+XYvdJWD0wezVC95HNLzYbbh4TM4Z+OStDvaARnG3no5xZJAq/9eFibbWublmx7UgzB2g7p4FTsfA92Ow1jCFj9rjveCbuH2Kz6cRdNJBaFjA0SI8RoMWIJH9AW/EkSEn6HFHDUMsmth31vN4ky6ovj34cl21ZXl9eX/l35tsm2OGj9v0mDzDP84y8fRAO81T4f75Pw3bjkdv3xns3lAYsqJ+oZfMSNdfPe+97FY6GQLCkdoiunEmYt54xNNYYqEQwjX0e/6d5AKfjSUlsALmFvQrfQ+sI1a8mUeneF6bPeo8OA2/CO+ED9tjOw/eHEALen1hGK6/ruoI5rYkjSt5xukwTRiOPl3FcF9EAfezgs1jBd2MA2Fpk7xKLTSLqUH9//tBsc/Xz+XjMeVHxh4aihrqdaRIPm3628XVftARsdPchde+scyFLyhoIpr7j72nfByNYB35175oSHYkhdAi8HxrYeQn6OOdc3qXDhBiCN94nSgkdB5qg1wC4t7ZaxxAjQuPIqSQqoXSEh9/WtdcAfRu8Pr++qiSJJB/lD9xhAOecAwV6uVwuL88vLznlDB5+GsTfHIdxnPw0zfM8Y4YOa631F++R1jUN03SZLhetxA4665zxgni1FroW8QRvxSuw1tpMOTvvnPWCGYzubL9rZXggRovEVAq52G2ttYY3UKlhX8K+RnBDvzfGGMUNbfc2H8EiUsWeliARG7HhpBsQZBZkb4wxnCXtS1MJCpFgKK21hlegWCnNWnvTYh2ZhWdhZo45xkziDVCSzov31KR13GMc3DDknHMmoZq1KkBVEW3btsG7OZsA/REGYJL8dfioTA1xzxcxAfNFsntwbfX9qY3JA2I/+OfFz0cACNJbpbtsvTQQtRAwyrCXxkpDETWwg04ACdZW3Ei8Xw/w6rlUInbd+c4IIYU6qQxfOa+/B34HI8okOYi4H+7RYxrwBKgfpoKDbDsHhBjqta9zZjHT5/arbTJIculHvMAdBqhRsWmaprHZEnD9dNqmyzQhqVNRSQIp/w+DjOHDucgP7Cu1PJyqzffN5rMq7h5JBpA2Auq0bbQtcgCRIYRxAsYU97Fon5qjqB/HBtBpQF6dcwJ7Th/PT0GQvdfew9+un9SBTFC9qJczJjCuYBaSLGZiGUzqrTCHh3ov//WDYt+v7+9EkpUVsuQU+kEmriAljOxHYw+rreyRLnrOskqWKpGYBudk0Ab+gGIBBuu1vv0PCUBD9qxa1QSdza+jY4omqBJU/HhUJCTemCJd8LWLusbH4nycVyVWH6W/lm07D++LTov7HDRRp1H6uAruiTro36V29gKI67ubo4dTQXIvNFxyKDrPYp7n+XIRPAZCDR7VuqzrNMpA3L6D4t4fxwJMYYu0DNH2WirCz94HCiHoEC7j5TKN0+Scc0Yb47xzkyuzdRUmz1vp0U5JejfUfK9mE0kWjbHGeCWeRj2O6CA6U0Hj+A1JmxgidpcjaI95++gcFQVrua5y8ySTPeEdjGpzADnrXKQYY4yxjjjSSoF1q5LFAiKNMaaWScBntsfh5T5Jg+1x340T5s+QMSGKN8BJMEVW8nv2kmOIhs4ssYLAIfiLaAw/SH6AssJrpCDM5KF90VEfYQCgSqDgs0dwmS4XuILOS8P2159t+OF4oUZ7m3c2CT2KhyRWLdI1vtbNfvY2vtc69RwtNGmVdtOkvP82rYsNhybp7DjuB6BMJCalxx09niFq8wNAonv8Un/nohn5JO3UtEW/YUwEUxsrCU4GWhllaIYfwgD9bxjBM4/zfBnlZo+2fsQPKelp/csjXEzU2Chji4YozwLR09t8nNdLfg3takm1qtqgSOxB/evj91U7D41wmjMoqZRSkvAtk6B7YpncqXZInE/CtRtT/HYqOYDFdjvrHHiDmGL0VrQnUaOQ8f0hhtBnJNffk5yPDkKKaF8lBQy5hmgnojJmkmR0ct8+T9PTEzHRb2+//dbXxx0GGC/jOF6OGoDaSZX9qy86NDsGQgZj+mHHcbwiciNUacUXBelW3/Rk8yH5aACiDu13Nv5wvZVnwH0DDdu/O9A2Krte351fJd82rVXP0UcMwFzC2nSU/L5MVCKEJ5vfn1NxUlc/kPh67tB4k14T9N/RM7YfxgKss5Z0qVBN5CdJRIR9fJ1eXw1J3N+O1hpnzGW6XPDHWuyvs84NwzB4673SShlvjLLC2WtdkjSstWDBjJaZQYwVXoBJQrbeyfONlt+RDFF5hMKSVT6gRAqhCfxQooCm+cHQGtZaO+hhsMZaqyWSmG3OWQl5FEmkFOHn3l6iQ6ATMZW8RXUEnshYQgcGU5k4JS3OuKZMpLLwDmhYJpbZS3K7lhUzZ66TVzJJ2TnnOMn/McXonfc55cyZeQ3rmlPOnJhHP47LviyZc86cMxJL923fc9l039PAT5+lYpxFK0zzNJ17Ws/g9T3r0LPdEQOg5/fn9r2+l7YDqVI00tk+9r53fUaRYuQhApGzLmq9BICqTWSRwF4LGCOdtL8e/+N50F74BuajD49OU9+tM0+1UU/XHN7JHusX0T+Uz7zAOI3jMA1DH5bvO9mZsW2pRkT0Or6+9o11cNmwKbEfdXw+HUEeyJGedME5zol/36P8A04ongCToHI0fL13aZDeL0dDKyqYgNp1wDTADLivfEZB4XT8RgRzaspbKjaemo03RqKBMC8YN4CpbvoyvuMchcsxZ0WiIYkKBijvBfzEVIJG1DBASC013A0So6mNP47j+i5Zyudmg2lWu1L0/7XfDxoA/4cYAmx4fxP4/I+8g77jtFvdY4Azq0f0MQaoL3nysSElzop0Erd4f4/e0TnwLsRECP+yEU3gjHNOC/LuJQvnQ+KZhL6t72Sa/T9LPuqqx1DACPX7Cg7o6wsaqM+HqN/bYwAuGKD8P43ThEG39d0fbBhT2GsBi3QiIqL/fPnPf4COrZYhVNOTDN5EuNcP3hsn6Hry00SmSZxzxXSwBE20FQ4eaDopyVxx1jlDRZqd+LKZBC0DQML/70f+wOVDImrWsod/D86/r6j+OBOzZWtZcZstrBue7a3350mhAocAr+CgGUo2MaZ+NU40gbXWGjYmpBLVKzxBzhJPqRNFaqUy5UxO6qoO9bLMe9z3RBKBzEnGJmYqsYEotj2EEIwyJuiiAQwR2UYSKT7yESHIHnEczFxSe2Dli7nx0ehNB+75gWdAp/7W+8693w8qGNLR2/TeHkI7HCTIHqXvoCF6G1+uQafstYDRxrBmJkcNA/Tfwx1GKHMF9YwhnoV7aXNvwvAdZ//9oMG62EqP5Gt9f8YLnDQtxk8+bB/uBt64o2eB59WXmqZpgn2ueXpl3z8QuX31o8vWn2NssZmwtyf7553Qv/298Vu9h5N7aNcAYe/y1UycDiec931jGSPxAGWO79L6iTSyMscsoUf3RWdDGbELIrHh+I6atXRyP4Gj+vrCn7diq3Feu+QYi6n1frL29RzwMaSU991YghIbQJs0HuBks+5s+knSe76f6AgE5XTpyUStIR5piiop3CoD5Z4r6O362ebXZ3CTTKRpnTEAbD/2/fnaaM2m86FN0y79vfrnnT2S3u/v6xMdARJ59owe1U/PHdxp4rI9ahOY697WQ+v01xN1TKD34kua0ZjAIRiSUTkjNtxQl1w6LXYGdqUmStjG8DnrnLIN1aKBwf87240EIkm5rgxfqep+XQDm4wQRPdpHuaZ8GaVYyyxdkG4iSfQkQy1WoE9JoblprpTK5M+qRBcLNsAQLngDyiiVskT8cs6ZTGEIrTFWWbvTvocUgtXWYtCoUiX/gMqUM6SUccasal0pSkdKMaVoYzRUzmc5blgGlRhjzG2/3YyXGMq+7/s0SYYQcMA4ChcQOARl5duUEW1ywADUauEORR7K3HoP5ubD8bM0VzzBp+MPntdz7efj52jaGe1XEFi0QvXz6R4vVLvfqfge/fep5dU06KaVcE90qIpx9PHd+vfHt+NdK617ena1y9373mGuU3uc/fyqqR9o7P56sL2aqC2wREQHu4OL7vxKdf//w3wB9eD8svVh4PM5Peh6dG1v91Gut4ENJyIy0qCKSpaQKZrFtPtaLbOOfHT/g4lRx2ed8Uctw/cvOAgYocdF2Pf2v+KIE2bCpBQP6/qj+lft2Dg0m3/eqm2u2T18D/TuGKQHXmZvo3pN0Pf2Rz35zPXXY6fy2W/uJa1qBKB8Kja+88EPzwfI0/Vm0hGQ03+6rscXh2d1rOHZTz/zKOAJECs48wb4jn7f11vNFj6d25f73zDLWv/8O2+OiMw0TdN0kfFuWmk9mnF01jnKRO7i3PP8/DyN0+S0c6OXkT7ee++8TIBkrbWI1hlrzORkMKexMjmD195bJ+cop9Rkp0kXagfSaLRM/6JJcvgUK4XJIbRrQ7W1Eim01lowZsbK9C5Egk3gHTjd8EW1t6qN4gE7SKa4fmVf6WVdprFVbS4B8BikJBfPkIwCqmUuEUvVOkpWwnGknFIm4eQxGogyUeQYmSXvT2mlOMp1TPI8DDXLWWIWHFusIJFELim394Hqr+sYkeCRmGIMIQTkFG7rtsUYo+6R5MELGLveyadeiXMKL31Goz2X/S0bdqcduDFl9GA7qOTuGcY076DmBz7IE6yeCQZgdHu8e6/++8Y0qmmY+mxzj+DvpJM7FvHB99Z3e8Af9Biqeh2P6vpUn4+kva+vquUO/npvo+SHun+Ul1b/L/H/Rxjg7p7U4vuHRNEHeKE//sjmnW0yqaPNJ/qAEyhDuuv/3W+4VQ/EelBX36MDkUTNbvfjBPpj/ftrK5rsvD3i8KHpznXTf/Oj7S6voztfkVKvX2TZPX2wW49YvvrvY34ZbtpDG3P2KE49l6nLETz37u7a3saeGb/++F3vP2kHbDWky0ebWxNIy7WH/4uWuLPTeN1iRh7VF8LTRMd7Yus9ikPldl7UQROctgNz2j//VB/9cUw4oZWSvLHRjaNKSq1qXTNJ/tlIBfiBQbMk8+13KNqwMcjdry+ky2/ckC3u0/4VqdjVvgOUhRQCuTIEW3eV06Fqw0VSlbyL4cbRo2yV5Dgg37/eT0lDQkOcN+QpVICojvMSGS08g1Fl/IAm8krKxHJ+phblM2QM/tAYGOeXVc5kiSY3TYbkmx5p0MAhYEzgI00w2WkyLFpMkdQBWSJly/8kANcb7yfbBukaY8zL88uLrjacPpDavkfJP9+lGYha7tpHXsOj+93hhTO+eGTPTHdtz+/38X7qUH2HCZAjWH/nNmqoPv/44g1nfGBvP7S/5++ipgnP12E7MHgPvKm76x69Ez+oM9TJoxxAaj/Q4diD7UNbc7rneeKGg5Xu2vcAAB+6SURBVF9a/qsTMpqWQ/8IQ/T3PXD7+K/TUIpkKrde8om6ZyA/sWgaXFdTtj/7ZmjBzuc/10HPdfSxgQN2occYCvGS8/PO7/JhvT9++cOxn8YA/XbXE78DAzy4yf39PkK23f0fvvvZLnJj+HoJxP4wSdTpze4k/qS5+vzAnrHs3+cjbfhRfZy1w0cYAM/6CAPcvUt3fs196xF7HTffOSTnKNM3N3gHVu6VcvNLcb+H0n32GEqjGDJmstOUTc6JUjJkzKgKw8XNPpMSDtwqax2XmTWgDTqtc5D8/tjJG+k5+z7C1tfDR5rzEfqGx9S/B+riLLXnY595A+f6PEdj7+5dzn+MAfi+h/8RDNDf8862fy8GeCAV/bkPeYbue+54jtN9MajjIzvLLBMt3T2zP+cTybvb+PgNn2GAu9//NgzQ//XHHmzfhQGI7nrtIwxw/v98v36qVJz78L0UUcwSYXv0fphTp38PRRLRe8RH4JrPviknybpVJGMB797p0bf2P38ipX8/Buj/yvYzGKAuyPwNDLAnyVm7k8ru/ntqKWx73Pe798ezu2ckTimxTJeGe9dncKcJunfsn3P4JjrVU7n2oSYiScnCtXvcd6SHHbTKR/UR5Pv+cgywhnVd07oqo9SoxtGwzGmzxjbhQO01iYgy0flj+y1zzkmntKZ1VVGp6gc/wABeeY+1+ryR/3u/ObPMp5NIuHSMnk1c5s2JggEy5xw4hJQlp4BIeHarrO2XhK9Aj2Wat5zKWED8Vu6LcuAQ8A7EwjPkWFYL4ZQMCydglMQFkN9HVMYZlvfueY3KOkZZWzhTznXyyn5TRCoqpbJwNd+NAZhIZaUw3U3mnEMKwXjBUZQlKzmEEO4jTB+h1B/AAMxl5oxPkO+Hdu10LiTzM63QTpbrY2qTW9b/yz2qZH/y3KoN+md8Ui+PeIB+cslPvYGzFnl0fy6a5HsxwMnO4//rTRazPHAjf4gH+OD3740FEDXbWytK3Y+PqzY7N5t9mPfuAwxwfqeUjh5ISN1zun1IkgGMckopQYool78Hz1KkFKaeefQOOeeMsYX9/bHhtz8SC3iIAdTn7dKXDynUfyYPcPbT+/ulKA3K3Mb7P5KMGGPE0LDa0/nB/VPZF3dTa61Tut/3dDXwBlTmZ6CvdgIm2rN0WAzY2FOx0yz4xKb2vv139/WMgaGP6u/QWNw0APYfgbuzt/DI+3nUhhq9CwsX1QpJRBRlAcOwhZBDzhSJMA4gxZQoEq1xXUMMAeVMOStV7H6SMlGx66nZcvyGCFyNm6syw2UZJ4/riDukTm20buAQsi5j31h+x7Gcc04soKuu5cOCGfB3LgcOAXYfo4Tw//l3HMucs2LJfajfp7rVP2CTo8QiiEg0DBXNVOpbRaXWuK6YjtYoY7a4bVlJfMEoWYMxq4JbSv2vcV1xHiWpg5BCWJMcyyzT1E52mlZaVxpk7aJ1XVfNfFrDnon6wSL970Rl0aJuseQzet2jzHrZ26w97DtUfUXFXS8nanPinXtt/b3beulMKaXeztfrcjsn5iMmkJxOQeLwDFCmRMSpfG9qthn36+sCg0J6O459vR/dSyeRzCPYl8/fnKL8HZ4XpGPH0L6n5xH2IFqtl36i+/ZcltZ+FQOsaxlTVuxH2E4N9QE26Jkn3Ks2sio2/hPmEB/a2+I9yvj3Hj/kWHp9f21utjNlydStNp+kIepv3DRHyiWThhqmwLn15p2SrvYb98rHc/v3qHXScQJ93VQQqu6F4cxN9HXc19EjbqD/7RHu+sh0fBgLYGI+9JwPsEH76QG3/wnS3mPTCkTNH6/P5xOS7pBrla5e8s6aA52gcACHRuuuw1Z/zyTmr/zhmrM3gv97cAftQsXFrO8SU6pS230fk8zvf5D27hvO2vHOY/ug/is+4taGH3lPFQOEsmUtPjzy10iJHd9537++f/1KqdgxLlojSs/LlPMaJacd9m1N64qc9kw5r0mOY9asTBIXV6RUjoIxwNKFFEIisbshh4D1+3ppDCEEMHAppxR2Kecs90w5JZVF+jPnHLLwBCBiBBocy5SKvSZZ9xcaA/d7xAMgJyFzzoZlTiGj5LwQ5TuyFp6ifkfM2ZIscUfUYaPYQGJSKakotp+o4KlSf7hGRaVyELykWKl1W9d1WVej5L2AUXLOeV2l/lVSaruVBTDRq/bQ5gPsJXUpGzJIiInCHgKGJTMznxeVgA2rksD3K1mgx58lHdcczut6fpWyriefMUH9Dfawl+izv33yVPa07/jrpQnPAOqHFwCf/yFziO/p37f7lkpA4dmxcRQwD7DtZ40ZYggYxU3cFqLE/a5lu2MQ+agt7ngAgBPsP+SU20UP+e+D/U6P3R5Fslgi7lMrpWw5Fg1UJFSRUjmX3zqkX59RNEG180UDUPdm8BKAAw7np+M37Ek0Du5VPY+OR8D/VZOW7+n5DaJmbqoLiOtLQ57rtL8X6uqjuAe2Oj9wdww8Qp2GFpihvG/FAHvZiBsH3S9OVF2lWmx++bkn99JNdG/fe7uHa3pPgUi0SC99PdrvpRwb7CmO4zpOhSfA/nTdeQs5hD3JUK76Lt39quRzi0uEJJJYy8UD6rn/vl1STKl+H3WNXa7p1xk413evJc7nHLauvfZt32t2FonpRpvUeQIVKZX0cTl0rJCtSCnS0sPWaV3ZSvLEFrdNbUo571zKKWnSGj5sjmIPV7Wus5W19jRpHVSZabNoDU9tPECOOQcjdtoaWTgJq3j0WqAOxSqkijEyJs8Z56prVvzrjbeNDTNQveeWoXMmXpjK/AHl9z3te+ZyPxLtguMhyfjJxIUtVEQmljF7VOYHKHY5JUHwKbYOhNXHcizz/1HOe5J5AJQqGjWJn181R+FZmEqAK6cUtuJul7+v71+/MsmYAtKy9jBAsyLhGTILRpLv5YYcU5T1a5hksiOttV6uy4JzxllmD0UFDeMw9D0wbKIO+1GtRCLd/dJqKbSpU89bSmLzwdqhXJdUgR8dQ8AI3D2WqVnivisjHSQnWbgBTGG9vxLJ64eD9R1+Z/l+dAxoIUgxnqeUAFV0rKraubm+e9x3S8f3PnsrRHIeZic/2OwHUg7NrKgjsNpBYmLGcvTrTXCBtsKEEok26L27igGUKkhc3Y+9e7ideH40/sHnjUdgFGIIeEav/u/soGoVTtQwAI7d2dlyj+qjl3NTllEzPbKHLYcH0Zd7fx6mAOcQNYYtZPnDs/Et+DbcA1qEqFHHOD/HnM+U8F399PGCjk8AVgtB6nzZlmXd1nXd27zOte4Kf/JRTmbLcwdS73roGRQ9QpPE0vh9zz0jVpR71hB2sG94XAOVha1WQhLXj6itx3NAyw+uB/oHBmivf48hiKWh9iTvisbrMUj1Dsrx6rIVm473Ao6CRoC302Of6kGc7HrPit6dvzfv5Oyx9d/Wl3NsK5aB4ENbiY/ebRi1088tR1R6Fcu4POSZxz3GwcuaQpxl7nttZIUt4ArMM2CN/FZ5bi1j+hALr3Pj9YRPlsUYDcm8+1bJSN5q73POKBNL/nvPX3CW+2FGL8qNu6dctEzx31G2ZC3m7+coY/Y4S2XnLLhGZ1nsUWUxG5wFc4Qofv4WZO1AJgmLA+/EGGNITdWHXSRekcwPFJPMQ8xKMMa6S5yFlVDRMca4R5njL4WU4h7jvkt8Y9u3bV2Fpt8W+X9d1lUrmR9x3/f9/f39HWMC0d53awYtt2UZJpnm/a6HFZtzvV2vipS6TJcLVrzCNDF7KOXO5mO6tDoXELdMGUzzDh4iJYne9c/co0y7FmIImExqj+KxABQNbhj2KINMjBYwRtTG3MFnrqBXtU5XPQaWSZlxvNc8EAQ8VylxYbGGUD3erfqx7/tuWI5XtVw0Z6/+QwjhwCvsgjFwPAZZJAqcyL51x5no/fb+rtRxbaNeG1yv12s11eHoctaK7nlkLD0CG79223kO2n6DTcK1IRY71R4i56XjbyGI/ca5YOdqhffXdLEC/K5I5uAnEineQ5GSJKt+AmOc/W3YYajYPpaBv5QEbeecc9jb3P14HkzCgdPoKhq/9d98fu4jv78n2x5x/32sRpFS1+V6vS2327qI5J/bRpFS1+txbWGiB+sGnnvPo//PWy/h+BBFx8miq6bo5gvYw75jujisTELU6GBmGdcXoky8vMdyvnUONtZaa6Eh9rjvyB8AF3EYS0gdZ6HEDiKtHOWsGtonangCGhEagKhM8U5NwntOhZR8nyVre9B6aHguzGMoEl0YQHQeaIoeB1QbTkUTdJq61+Z9xI+ICItKnNvzDu0bY0wMMU7jNKks+fWUibTTOqmUvJO5aDBHbsjSOMMwDMwyxwDm7odLFpMsuKypLYnGJAtPa5LfnRYfvkbhVMMAVgvGgI1nlmuR/AFwmXJKTjmncmnUXPIMsth9JKdifp9D1KzY8Jo/UM6HS5hSWZ8vlXgCC6OoWKQzJsEKOcpvKRReJJU9MEAxYykKqMxR/P6KAUpdpXQ8P6QQ1rCucYuRkww3Tymlr1+/fk0ppW0Vt2/ZlyUEyc/Ytm2LKUattF7WZYlR5iLo2/vDdQPXZV1fX19fKTbfvfcYuq5UccE8zfO+iWRiFvE97jt4gT3uu1cyGXO9FpJQllHpJRWzYvQSjgke0XF7L4GZeae2NBuOV5uv2+jeyqMXwqi3uUwyRSy+jUmu75lGpY4uJ76v1wh9uVfvKTRaufr10EQkGqTXAo/8/nVbV6wj2NflI+5/WSWec9d2RPdrB/cEjJXpPyzYN2WE/Bj9OG5BoknI7vFOQBpG04Kbt1ZW38LsWP1IHMyuRYrqUuia2gBOoG+jy+ygus3IocrGJFqHWaQiZzkPEnwIARetcsgU4mMZFZhTrrN5cG6UN773TO/CxqOTVNo6NlcXJqBGNMsxAMqQmvrPOWeAQfAUIQjrt2zLopRonRRSul6v19tNFoi83W63sMs9wSW8v7+/o6Pivb+JAZiZl3VZ+uXX056S8cb8/v777y/PLy9nH1Q0sdipflbrnqnzzvsURYKYZYpV2D5oClQiyIteA2BB5USiIr33Hh/HLGYCEoj5BqqUJvlwprb+YI/Oz7acSNK0+nIlmVIjf6rtj40XOJfB9Vct0nEue5DYQ62/DjjXGE0xm1gubt3Wdd3WFcCOuaB9XFdWIH/77e3tvI5w384PGb++d4ccQr8mnjMyf9Blulz2sO9WWQs7nZKsf2ud+OaYUiWnwm+D42exizm2Ne44N9erxhViYfLKCwMTICLI3Pz8nIX6JW7+vyKlqhSzzAmYs2AIYAZoCth0mCf495g6JqQQcs45Q4eUvIP6exZkf1eOBTPEnGMQm5+z/J5ZzokhRqz/F0OMmuV/TVrvcd9jEHzxyO9fl3W93W43ZgnLx11GRMUU4+39dlu3dd22oq2ztEPf1ndrBvVSjeggU8sbhC1Z13Xtz+17X58zGPayAifuWVB0rxYrqxdCwHG4WYhRANX3+XJEjXfA/32uXYgh1NwEKqzaZ1sWdrI/fw/FfncsXZ/rUH+P7ff+nQ/XUMeLlPdF7OXAH+B4t6p45e+L3497EYkgwE0/e279fXFuX77DAJg5Ez0F2sA5WfEDdt0553pU6QdZEyixYAdn5bhxR1IGkbsab9CtZ2LsPPACMIHSSlXvIJd3LGWl2mzcxsg0Lr1k1+lXxHXgRILm62/dllJpwNwBqcI7VE1RJJhZEH8v7aj0nufHSt/oJGebr0nryoPsIfTCEELjLjg1GjeEEK6r+P2UxcbDk1i3dcVeUVtT8Cz5DfOdZubEiX2HsNba56fn52VdFjR83xGcawsX+NH7mMrUp6ZN7W6MDDfD8CykVhsnTB3SulnJNGuZxYSgwwCIHcokYKv3CGAqUi7jAHJpUIA53SThvBERcWzncm7ZwFDlMF0AqCkWMAnVvocAdzAnmZ4NjQ/aubf5cZfjIYim7MFfSiWVbQ8B8Zbbcru9L+/vt0XU/rYItYtkEOusjWVbVnEJ+/Y8bw8xAGwkTogxRqz2gfnzQNQoXVb49OLuXIbLhbMsnpRiSlpm+NMxFi4gSy4Ap2LztTQcOosmWVM3ZYmdQwMB2RMVP15LfIBMyfIBDigYAR5B5Bhjbn9OCYZRLFrkvF/TuvbnwzsgKtG+okB7247OiGhezlI/IbXyRzYfUck9tXV8trBtOee87uvKG7POWm/7tr3f3t+vi6R5xRDjepPxABiXAb+fSIifdV3XHvM80gT3c/Oett5EPD09PUFSIdXIB1RKwB9RWaU7yqrYxsogEuy9E9ReJblMxJyTuG/wdevsnKaYkOLC1Silahm7nMtizCSTPaPBIKXYA2zWRNAH+8pDZDEVWJyJc5P2lEWVw0Ttcd9TFtoZKj2xlBXJMvNKyT6GGJmYD+5elz+w7dtGTITQLkWi6yr4KkTBSH28H4tA9enwy7os7++i+lEXH213GADbI14gxBDAQOGDvJeZQEEUYWZNrFGTk0QYsUejIsED+fpoTM3lfTqeAJ0F56CMBugbHCof+YM1kFMYQOyrTc/NC+jVfY0SplKJZURtzBJJIypANRfJzy2qB2kmKnH8z2x+ly+A56Lx121dt1UQ/HW9Xq/r9QquX5HMMo7jMMGr+AbrR37/uX3veIBz+Yw0p3GavBMfurJSt3XF7NNEHUpl5qfL01O/mLG7CF6ACbGjhCq9F4rZj/c8AYJMfQYQkZT7fPoeU+B3ZUUy4N8jeojyN/enJWTQ8GDmapYwOk1hEA9zHXCXN7if8gWoZQShAbHHcTR+73X1XH8fH1gX6QB02j5q34/XDi4bqFSU8YJYKh7uoPHG0Cag7HK5XBKn9HZ7e7Ou5Ng5qbDbcru5wTmsaaOisIwhSAUFK2BHKeHTc5LwL1GRtFJG9I2tqHc00Kqk4mrOWxSPpO/1P7Jf4/F+KjZJAk8P5M8kvnht2NA0Ab4vh9JBQoteQiCWbVkw9wKSQt7e396Y5Lr32/t7XkTTKFbq1/dffyVFRFao++W2LNfr9fpZe57LH8YCPiovS8kRVDINOfxe9EJjjAEnMM/zvNyWZZzGcb2t6zANAxPzvrasGkNt8Weilj1To4Hd0q41plBsKiKEh3eMgh9AExtb4vU/saVQNBK1eQ/6sDTeLwfBNEDxWKhp3+W8EEr+QOfnY63GZS8SXeIqpNp4/uvteu3B27IvyxqalC9LwQRLy/b93vb8JgY4l40W4IcXsk5iBbCfMctKln7wPuwhwKbDfdRcVv4qmKDGupW4nD3nX91FKmCwwwvAATGLG9i7fvD5+0yeP7pxFiazupFUxgvk5hnAnWNuA0YwFCwlSWOr9dO5fWBHDzZ/2zZSbe1fCNNtud2uy/WaQkprWNfaAZQ8C8PPvmXzz+VvYoBzGXtogrqOwANWEAtRIEEB554xQQ2ghBiHSTJ7EDuwTrh9ADmEg1E+Y4Q+3k8sw6e6j6gJFVjrD5INtN4nYhLLMLg69TpLeLm38Ri6juOw8VXlAzCWkbuGRCPAC0BDHmz+rTQ+NMByvV4XwQDLLsvBQPNuN/EGzkkg39ue38QA5zL8ysoUpgaq1mVdzS7r0uU9513ve1hDGKdxJCsfm+ec52meYTJWKy8+qWliFvPgjHMATZwk/oCyTWLToTrPGCHaZoPrfTsbHljcU6Rh96CPVAv+4PdbvN0+Cw718yil0PL+ico8PKmlou1h37e8bczMIRd6eZfGTOvR5oPoefv97Y1IxvMt27IAO+W9BKF2EbD6HT/Ynt/kAc5bn0aOBRC9K8uXscy4Xad6YVH9oD/BUjFJziACMtZYG1OM1lgLXxymAK5gXWzJNIbMaGMixwiXDS4fJ1lUAVkyOD+nMuFUapNGIKZfywgLlPMh8aQaFthDoYaTJHVwYumrMSVWQtKgnFVJUUvC8EFdo/501hp+/nW9XnPOGTb/ulyvnJlr2ve2rtZYixy/6/V6Xdd17Yeqf8vvP28/jAHOsQLEnAc/DKSEOEI0CteBJyCSmAFUNtgxVrJQQowx1hlCCusHVrB2DtWyfNExcH6NMpbGBHlU/Xzu/P70eG+0pKDVmUBKtnAKpVPkxuolbrGBFIQ4wm8IFiFnEd/MuWQDp5zDFsK2H/18BH0ONr/L+Yfff7vdbterdJi+Pf5yDND9UH+vNv/SLT7FwkhN0zStt3VFPJt0Q6JYhRyBC2bmyUxTDYAUL4C4xfGtknQzhIOBESpvQM1riCFG5RpK/559UMfsYausjUFAL7PkDPbPU6m7/hQFJGpYoHL9ZZYPZE710t9H+qrNL9Lft8H1JiN/+9/u0P5fhQEYW7kBMMHbmyQevLy8vIzDOJISfh1DlL2XZNDBSe5gcim9hbe3aT7aaMVK4XowbP175Jyz88WGMzPHssxKMTmraja5xwxEhe9XnTb7jvI1tTA3GhznhSDjAKqN38U7qOVVBoLAhCgW9g/Cc1tut9sqGGNdhE/JS/neoNSyi80f7TjebnJeCCFsm+QCEJXp5H+g/e7KdczdH9ywigZu/DQ/PQ3jMEyTLGKMl1RKKedkIUoi8RDmeZ5JFe+g7CfbOsQ4jmPilJyX65mZp0nAolJCLPXr4REJIdUfx0qd9cO7HMDvKWclwRvcD8xe9TKUjKdEp0kpJeTtMzeJX3fx0RUrhTz+99v7e+acwe0zMaPhq5vHRNf3ZvO3bdvA8xNJRPZn2q9efJcK9b3lUhHYkJSgVCfJsH8F9M2XeUYOW41GFgulnNx3mqZpXdfVDY06doNzCIvWclGtgy+apUjcuUH/6B4N3t8PJoBYYhmw8ZUoojZczmhjllVy+NZ9XTESCHn8xA3Fr7eyh5/PkoZHRHS7is1/RPP+TPv9YQzwGSaos44Via3HyznX6/U6z/N8vV6vLy8vL8tNKoiYiIb7F2aSLON93XcEp9zg3L7tO6ZPqbEFaw/sJlT0j0p+LaeTG6wEBNZyUflnG08kdl5pmbZFKdn3cX3m5sdDAH69/vprX5dER5v/0fZH20/9tA05lZGnr5RSl8vlgvTw+TLPIHKw0LTzzk2jqHSsXfjL5ZdfYErQ8PN0XNkUmoWYiLSYgQriip//EcibXDMh37PfkvjtD0EfM69bSY0DBtmOqXJfv8p4fWTn9Amfy7osW9y2fdt3dIzKDygJstEugBC8xTk287Pt9dMY4LydMYGfWgPO0zwbbwxcHeed8857TFI5TMNg2Jh5nmdFSl3myyWkEC7T5VIxxkU6BjACJnGuzKBvizxXr4HaWEDD7Tje+bPyORiEYE7tgKUqH9l4ZnH5iESFMwlYZmbetkYIIZ6/b/tOTsZnKlJquXVzM5XtPB/Tz24/jwHO5RMmuN7EnZkv83xdrteR23rESgl72F//ND09Xa9ChIC5Kw+geZrnijHQYObYYE4dQZ+yTWJTkNm6qgSjYT8p94NBmcUtXXZpICL5VmbmbRcQ19t4YqKwFpVfMneJyuxqSql1ldk6iBqFvN7Wdb2V458xfH9Se/35GgAmgE4NSOL3/zL/8gtUu/POgTQZLxJZhElAHMFfGmd/mS4XLOY0jcVbsK3hBj8MSh+p3H6ptB+RfJSzLjl6nZvaNzjKIGrONj6sze1Dx16WZXlkMpiYf/v9t9+W23FcX7/92RrgT8cA3yo/Pz8/j8M4jtM4rsu6woajQvwoDY4OgsGklWQyLahE1HUENDjcRJRdc0eJSNZB+hFvAMGesq1bUfXl/r+9//bbITZQADBCs+goiH3kIBpo3dZ1HMYRHWDd1nVZfjye/7PlH84H+Nky5h2c1mkaxmGY/DQt27JMo0gqzg+b2MYwHMfwYcWv6jXgr/AIy61Ey4Di/VEjnIM9d3skqsCPT53JYMnC7c9nkjl58D4wUTgPhFXcJQbSz1hex1qsy7KtQu783e3x52OAb5Rr5k6ZdHqbt+31+fW1znHXaQJiQcDzNM8IkXrThnQxMVfpPIEydIgeM5xNxsN9PnYARB1rB1TGXN8LRmEhinpbva2tg6w3sfGw4WENIaiS9wfJL7N6KHXP1f8t7fFnY4BvbXfPs8WtI6LX59fXKtlUbLI7lv/n+X/+p9cIPTM4TMNwluDKQ8gNDkvh1Ybty+lYXlNR+eV+lqzFQAxmSYtfbg9s+gMbj7F66CDLuixnYufPtvHf2v52DHAun3mDaZom+Pnrsq7eeH+ZLhdUaCCZj6BKpJUJJmowaTqCPpiWP7r18f59a/MG4nlw52Aq+mDVuUOsi4R0kRCCevgn6/9v1wDn7cwbGGPMOI4jOkK/XsA8zXPgYyKHMRItxBxFyACaBgGHyDuAZkHKWJXg075X2aB6+5k4MnfBnk2CP5iXMIWUxmkcwd0Ds8DGL+uy1ASa8ryzTf67t9oB/i6bcy73GoBZJnBEBQ3DMGCwCAggMkSHBs8pOScxAeecCyzzF/Qdqv9gb7pUsAf789o/KRxjAeggYQ/B+TIkjiU1LYUyH0E5//36/p5TzrDxzBLN7J+HDvBP1f8/rwFOvMFHE1SCSvaDSPTT/PS07zJfwGeY4Ywpqlv4gdtnvDEAnI/OP/vt5/u/vUkK10fcfe0A8CL+aQ3wT2OAHy0779wwDcN0kYYZnRBItSHPfv4pafNbe8QKaoOrI6g7329N69pTuWE/zoz2T9fXvx4D/OjWo+RxGkfY+uoNmBMT6ApRdPYuPirnkviB8ti4eaYSDCrnL8uyZM65n3v370bxP7v97TzAn1UmKnF0Lv53QeMIKqGnbyx++ZcvX76s67paZ+1nGgCDN2sw6Hp0AysRBOxALUfyIFn/svr612KAH93OEoYMo+/dvrx++fIZEQQiB+d/lIDxve/3b9/+f5TWNwVD4TlcAAAAAElFTkSuQmCC",s=e.Texture.CreateFromBase64String(a,"lens.png",t.currentScene);s.name=s.name.replace("data:","");var l=new e.LensFlare(i,r,o,null,n);return l.texture=s,l},n.AddReflectionProbe=function(t){var n=new e.ReflectionProbe("New Reflection Probe",512,t.currentScene,!0);return this.ConfigureObject(n,t),n},n.AddRenderTargetTexture=function(t){var n=new e.RenderTargetTexture("New Render Target Texture",512,t.currentScene,!1);return t.currentScene.customRenderTargets.push(n),this.ConfigureObject(n,t),n},n.AddSkyMesh=function(t){var n=new e.SkyMaterial("skyMaterial",t.currentScene);n.backFaceCulling=!1;var i=e.Mesh.CreateBox("skyBox",1e3,t.currentScene);return i.id=this.GenerateUUID(),i.material=n,this.ConfigureObject(i,t),i},n.AddWaterMesh=function(t){var n=new e.WaterMaterial("waterMaterail",t.currentScene),i=e.WaterMaterial.CreateDefaultMesh("waterMesh",t.currentScene);i.id=this.GenerateUUID(),i.material=n,this.ConfigureObject(i,t);for(var r=0;r<t.currentScene.meshes.length-1;r++)n.addToRenderList(t.currentScene.meshes[r]);return i},n.HDRPipeline=null,n.SSAOPipeline=null,n.VLSPostProcess=null,n.EnabledPostProcesses={hdr:!1,attachHDR:!0,ssao:!1,ssaoOnly:!1,attachSSAO:!0,vls:!1},n.NodesToStart=[],n.AnimationSpeed=1,n}();t.SceneFactory=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(){}return n.ResetConfiguredObjects=function(){this._alreadyConfiguredObjectsIDs={}},n.SwitchActionManager=function(){for(var e in this._alreadyConfiguredObjectsIDs){var t=this._alreadyConfiguredObjectsIDs[e],n=t.mesh.actionManager;t.mesh.actionManager=t.actionManager,t.actionManager=n}},n.ConfigureObject=function(n,i,r){if(n instanceof e.AbstractMesh){var o=n,a=o.getScene();if(o instanceof e.Mesh&&!o.geometry)return;this._alreadyConfiguredObjectsIDs[o.id]={mesh:o,actionManager:o.actionManager},o.actionManager=new e.ActionManager(a),o.isPickable=!0,o.actionManager.registerAction(new e.SetValueAction(e.ActionManager.OnPointerOverTrigger,o,"showBoundingBox",!0)),o.actionManager.registerAction(new e.SetValueAction(e.ActionManager.OnPointerOutTrigger,o,"showBoundingBox",!1));var s=a.pointerX,l=a.pointerY;o.actionManager.registerAction(new e.ExecuteCodeAction(e.ActionManager.OnPickTrigger,function(e){s=a.pointerX,l=a.pointerY})),o.actionManager.registerAction(new e.ExecuteCodeAction(e.ActionManager.OnPickUpTrigger,function(e){a.pointerX===s&&a.pointerY===l&&(t.Event.sendSceneEvent(o,t.SceneEventType.OBJECT_PICKED,i),i.editor.sceneGraphTool.sidebar.setSelected(o.id),i.editor.sceneToolbar.setFocusOnObject(o))})),r&&!o.parent&&(o.parent=r)}var c=new t.Event;c.eventType=t.EventType.SCENE_EVENT,c.sceneEvent=new t.SceneEvent(n,e.EDITOR.SceneEventType.OBJECT_PICKED),i.sendEvent(c)},n._alreadyConfiguredObjectsIDs={},n}();t.SceneManager=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function e(e){this.core=null,this.core=e}return e.prototype.createFolders=function(e,t,n,i){},e.prototype.getFiles=function(e,t,n){},e.prototype.createFiles=function(e,t,n,i){},e.prototype.selectFolder=function(e){},e}();e.Storage=t}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(n){function i(e){n.call(this,e),this._editor=e.editor}return __extends(i,n),i._OnAuthentificated=function(){var e="",t="";if(window.location.hash){var n=window.location.hash.substring(1),i=JSON.parse('{"'+n.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(e,t){return""===e?t:decodeURIComponent(t)});e=i.access_token,t=i.expires_in}window.opener.BABYLON.EDITOR.OneDriveStorage._ClosePopup(e,t,window)},i._ClosePopup=function(e,n,r){i._TOKEN=e,""===e?t.GUI.GUIWindow.CreateAlert("Cannot connect to OneDrive or get token..."):(i._TOKEN_EXPIRES_IN=parseInt(n),i._TOKEN_EXPIRES_NOW=Date.now()),r.OneDriveStorageCallback&&r.OneDriveStorageCallback(),r.close()},i._Login=function(e,n){var r=(Date.now()-i._TOKEN_EXPIRES_NOW)/1e3;if(""===i._TOKEN||r>=i._TOKEN_EXPIRES_IN){var o="https://login.live.com/oauth20_authorize.srf?client_id="+i._ClientID+"&redirect_uri="+t.Tools.getBaseURL()+"redirect.html&response_type=token&nonce=7a16fa03-c29d-4e6a-aff7-c021b06a9b27&scope=wl.basic onedrive.readwrite wl.offline_access",a=t.Tools.OpenWindowPopup(o,512,512);a.OneDriveStorageCallback=n}else n()},i.prototype.createFolders=function(t,n,r,o){i._Login(this.core,function(){for(var a=0,s="",l=function(){a++,a===t.length&&(""!==s&&o&&o(s),r())},c=0;c<t.length;c++)$.ajax({url:"https://Api.Onedrive.com/v1.0/drive/items/"+n.file.id+"/children",type:"POST",contentType:"application/json",data:JSON.stringify({name:t[c],folder:{},"@name.conflictBehavior":"rename"}),headers:{Authorization:"Bearer "+i._TOKEN},success:function(){l()},error:function(t){s+="- "+t.statusText+"\n",l(),e.Tools.Error("BABYLON.EDITOR.OneDriveStorage: Cannot create folders (POST)")}})})},i.prototype.createFiles=function(t,n,r,o){i._Login(this.core,function(){for(var a=0,s="",l=function(){a++,a===t.length&&(""!==s&&o&&o(s),r())},c=0;c<t.length;c++)$.ajax({url:"https://Api.Onedrive.com/v1.0/drive/items/"+(t[c].parentFolder?t[c].parentFolder.id:n.file.id)+":/"+t[c].name+":/content",
processData:!1,data:t[c].content,type:"PUT",headers:{Authorization:"Bearer "+i._TOKEN},success:function(){l()},error:function(t){s+="- "+t.statusText+"\n",l(),e.Tools.Error("BABYLON.EDITOR.OneDriveStorage: Cannot upload files (PUT) of "+n.name)}})})},i.prototype.getFiles=function(t,n,r){i._Login(this.core,function(){$.ajax({url:"https://Api.Onedrive.com/v1.0/drive/"+(t?"items/"+t.file.id:"root")+"/children",type:"GET",headers:{Authorization:"Bearer "+i._TOKEN},success:function(e){for(var t=[],i=0;i<e.value.length;i++)t.push({file:e.value[i],name:e.value[i].name});n(t)},error:function(n){var i="BABYLON.EDITOR.OneDriveStorage: Cannot get files (GET, children) of "+(t?"folder "+t.name:"root");r?r(i):e.Tools.Error(i)}})})},i._ClientID="0000000048182B1B",i._TOKEN="",i._TOKEN_EXPIRES_IN=0,i._TOKEN_EXPIRES_NOW=0,i._POPUP=null,i}(t.Storage);t.OneDriveStorage=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(e){this._window=null,this._editor=null,this._editorID="BABYLON-EDITOR-EXPORT-WINDOW-EDITOR",this._generatedCode="",this.core=e}return n.prototype.openSceneExporter=function(e){var n=this,i=t.GUI.GUIElement.CreateDivElement(this._editorID,"width: 100%; height: 100%");this._window=new t.GUI.GUIWindow("WindowExport",this.core,"Export Project",i),this._window.buildElement(null),this._window.onToggle=function(e,t,i){n._editor.resize()},this._editor=ace.edit(this._editorID),this._editor.setTheme("ace/theme/clouds"),this._editor.getSession().setMode("ace/mode/javascript"),this._generatedCode=this.generateCode(e)},n.prototype.generateCode=function(n){var i=(this.core.currentScene,"");if(n){var r=e.SceneSerializer.Serialize(this.core.currentScene);i=JSON.stringify(r,null,"	")}else i=t.ProjectExporter.ExportProject(this.core,!0);return this._editor&&(this._editor.setValue(i,-1),n||this._editor.getSession().setUseWrapMode(!1)),i},n.ExportCode=function(e){var t=new n(e),i=["var getTextureByName = "+t._getTextureByName+"\n","function CreateBabylonScene(scene) {","	var engine = scene.getEngine();","	var node = null;","	var animation = null;","	var keys = null;","	var particleSystem = null;\n",t._exportPostProcesses(),t._exportScene(),t._exportReflectionProbes(),t._traverseNodes(),t._exportSceneValues(),"}\n"].join("\n");return i},n.prototype._exportSceneValues=function(){for(var n="\n	if (BABYLON.EDITOR) {\n	    BABYLON.EDITOR.SceneFactory.AnimationSpeed = "+t.SceneFactory.AnimationSpeed+";\n",i=0;i<t.SceneFactory.NodesToStart.length;i++){var r=t.SceneFactory.NodesToStart[i];n+=r instanceof e.Scene?"	    BABYLON.EDITOR.SceneFactory.NodesToStart.push(scene);\n":'	    BABYLON.EDITOR.SceneFactory.NodesToStart.push(scene.getNodeByName("'+r.name+'"));\n'}n+="	}\n",n+="	else {\n";for(var i=0;i<t.SceneFactory.NodesToStart.length;i++){var r=t.SceneFactory.NodesToStart[i];n+=r instanceof e.Scene?"	    scene.beginAnimation(scene, 0, Number.MAX_VALUE, false, "+t.SceneFactory.AnimationSpeed+"); \n":'	    scene.beginAnimation(scene.getNodeByName("'+r.name+'"), 0, Number.MAX_VALUE, false, '+t.SceneFactory.AnimationSpeed+");\n"}return n+="	}\n"},n.prototype._exportScene=function(){var t=this.core.currentScene,n="\n	// Export scene\n";for(var i in t){var r=t[i],o="";if("_"!==i[0]){if("number"==typeof r||"boolean"==typeof r)o+=r;else{if(!(r instanceof e.Color3))continue;o+=this._exportColor3(r)}n+="	scene."+i+" = "+o+";\n"}}var a=t.animations;return a&&a.length>0&&(n+="	scene.animations = [];\n",n+="	node = scene;\n",n+=this._exportAnimations(t)),n},n.prototype._exportReflectionProbes=function(){var t=this.core.currentScene,n="	// Export reflection probes\n";n+="	var reflectionProbe = null;";for(var i=(new e.ReflectionProbe("",512,t,!1),0);i<t.reflectionProbes.length;i++){var r=t.reflectionProbes[i],o=r.cubeTexture;if(""!==r.name){n+='	reflectionProbe = new BABYLON.ReflectionProbe("'+r.name+'", '+o.getSize().width+", scene, "+o._generateMipMaps+");\n";for(var a=0;a<r.renderList.length;a++){var s=r.renderList[a];n+='	reflectionProbe.renderList.push(scene.getNodeByName("'+s.name+'"));\n'}}}return n},n.prototype._exportNodeTransform=function(e){var t="";return e.position&&(t+="	node.position = "+this._exportVector3(e.position)+";\n"),e.rotation&&(t+="	node.rotation = "+this._exportVector3(e.rotation)+";\n"),e.rotationQuaternion&&(t+="	node.rotationQuaternion = "+this._exportQuaternion(e.rotationQuaternion)+";\n"),e.scaling&&(t+="	node.scaling = "+this._exportVector3(e.scaling)+";\n"),t},n.prototype._getTextureByName=function(e,t){for(var n=0;n<t.textures.length;n++){var i=t.textures[n];if(i.name===e)return i}return null},n.prototype._exportPostProcesses=function(){var e="";return t.SceneFactory.HDRPipeline&&(e+="	var ratio = {\n	    finalRatio: 1.0,\n	    blurRatio: 0.5\n	};\n",e+='	var hdr = new BABYLON.HDRRenderingPipeline("hdr", scene, ratio, null, scene.cameras, new BABYLON.Texture("Textures/lensdirt.jpg", scene));\n	hdr.exposureAdjustment = '+t.SceneFactory.HDRPipeline.exposureAdjustment+";\n	hdr.brightThreshold = "+t.SceneFactory.HDRPipeline.brightThreshold+";\n	hdr.gaussCoeff = "+t.SceneFactory.HDRPipeline.gaussCoeff+";\n	hdr.gaussMean = "+t.SceneFactory.HDRPipeline.gaussMean+";\n	hdr.gaussStandDev = "+t.SceneFactory.HDRPipeline.gaussStandDev+";\n	hdr.minimumLuminance = "+t.SceneFactory.HDRPipeline.minimumLuminance+";\n	hdr.luminanceDecreaseRate = "+t.SceneFactory.HDRPipeline.luminanceDecreaseRate+";\n	hdr.luminanceIncreaserate = "+t.SceneFactory.HDRPipeline.luminanceIncreaserate+";\n	hdr.exposure = "+t.SceneFactory.HDRPipeline.exposure+";\n	hdr.gaussMultiplier = "+t.SceneFactory.HDRPipeline.gaussMultiplier+";\n",e+="	if (BABYLON.EDITOR) {\n	    BABYLON.EDITOR.SceneFactory.HDRPipeline = hdr;\n	}\n"),e},n.prototype._exportAnimations=function(t){for(var n="\n",i=0;i<t.animations.length;i++){var r=t.animations[i];if(e.Tags.HasTags(r)&&e.Tags.MatchesQuery(r,"modified")){var o=r.getKeys();if(n+="	keys = [];\n",n+='	animation = new BABYLON.Animation("'+r.name+'", "'+r.targetPropertyPath.join(".")+'", '+r.framePerSecond+", "+r.dataType+", "+r.loopMode+"); \n",n+='	BABYLON.Tags.AddTagsTo(animation, "modified");\n',o){for(var a=0;a<o.length;a++){var s=o[a].value,l=s.toString();s instanceof e.Vector3?l=this._exportVector3(s):s instanceof e.Vector2?l=this._exportVector2(s):s instanceof e.Color3&&(l=this._exportColor3(s)),n+="	keys.push({ frame: "+o[a].frame+", value: "+l+" });\n"}n+="	animation.setKeys(keys);\n",n+="	node.animations.push(animation);\n"}}}return n},n.prototype._exportNodeMaterial=function(t,n){var i=null;t instanceof e.AbstractMesh?i=t.material:t instanceof e.SubMesh&&(i=t.getMaterial());var r=i instanceof e.StandardMaterial;if(!i||r&&!e.Tags.HasTags(i))return"";var o="\n",a="	node.material";t instanceof e.SubMesh&&(a="	node.material.subMaterials["+n+"]"),i instanceof e.StandardMaterial||(i instanceof e.PBRMaterial?o+=a+' =  new BABYLON.PBRMaterial("'+i.name+'", scene);\n':i instanceof e.SkyMaterial&&(o+=a+' =  new BABYLON.SkyMaterial("'+i.name+'", scene);\n'));for(var s in i){var l=i[s],c="";if("_"!==s[0]&&null!==l&&(!r||e.Tags.MatchesQuery(i,s))){if("number"==typeof l||"boolean"==typeof l)c+=l;else if(l instanceof e.Vector3)c+=this._exportVector3(l);else if(l instanceof e.Vector2)c+=this._exportVector2(l);else if(l instanceof e.Color3)c+=this._exportColor3(l);else if(l instanceof e.Color4)c+=this._exportColor4(l);else{if(!(l instanceof e.BaseTexture))continue;c+='getTextureByName("'+l.name+'", scene);'}t instanceof e.AbstractMesh?o+="	node.material."+s+" = "+c+";\n":t instanceof e.SubMesh&&(o+="	node.material.subMaterials["+n+"]."+s+" = "+c+";\n")}}return o+"\n"},n.prototype._exportSky=function(e){var t='	node = BABYLON.Mesh.CreateBox("'+e.name+'", 1000, scene);\n';return t},n.prototype._exportParticleSystem=function(t){var n=t.emitter,i="";i=n.geometry?'	node = scene.getMeshByName("'+n.name+'");\n':'	node = new BABYLON.Mesh("'+n.name+'", scene, null, null, true);\n',i+='	particleSystem = new BABYLON.ParticleSystem("'+t.name+'", '+t.getCapacity()+", scene);\n",i+="	particleSystem.emitter = node;\n";for(var r in t)if("_"!==r[0]){var o=t[r],a="";if("number"==typeof o||"boolean"==typeof o)a+=o;else if("string"==typeof o)a+='"'+o+'"';else if(o instanceof e.Vector3)a=this._exportVector3(o);else if(o instanceof e.Color4)a+=this._exportColor4(o);else if(o instanceof e.Color3)a+=this._exportColor3(o);else{if(!(o instanceof e.Texture))continue;a+='BABYLON.Texture.CreateFromBase64String("'+o._buffer+'", "'+o.name+'", scene)'}i+="	particleSystem."+r+" = "+a+";\n"}return i+="	node.attachedParticleSystem = particleSystem;\n",t._stopped||(i+="	particleSystem.start();\n"),i},n.prototype._exportLight=function(t){var n="",i=t.getShadowGenerator();if(!i)return n;for(var r in t)if("_"!==r[0]){var o=t[r],a="";if("number"==typeof o||"boolean"==typeof o)a+=o;else if("string"==typeof o)a+='"'+o+'"';else if(o instanceof e.Vector3)a+=this._exportVector3(o);else if(o instanceof e.Vector2)a+=this._exportVector2(o);else{if(!(o instanceof e.Color3))continue;a+=this._exportColor3(o)}n+="	node."+r+" = "+a+";\n"}n+="\n";var s=t.getShadowGenerator();if(!s)return n;var l=s.serialize();n+="	var shadowGenerator = node.getShadowGenerator();\n	if (!shadowGenerator) {\n		shadowGenerator = new BABYLON.ShadowGenerator("+l.mapSize+", node);\n";for(var c=0;c<l.renderList.length;c++){var d=l.renderList[c];n+='		shadowGenerator.getShadowMap().renderList.push(scene.getMeshByID("'+d+'"));\n'}n+="	}\n";for(var r in s)if("_"!==r[0]){var o=s[r],a="";if("number"==typeof o||"boolean"==typeof o)a+=o;else{if("string"!=typeof o)continue;a+='"'+o+'"'}n+="	shadowGenerator."+r+" = "+a+";\n"}return n},n.prototype._exportVector2=function(e){return"new BABYLON.Vector2("+e.x+", "+e.y+")"},n.prototype._exportVector3=function(e){return"new BABYLON.Vector3("+e.x+", "+e.y+", "+e.z+")"},n.prototype._exportQuaternion=function(e){return"new BABYLON.Quaternion("+e.x+", "+e.y+", "+e.z+", "+e.w+")"},n.prototype._exportColor3=function(e){return"new BABYLON.Color3("+e.r+", "+e.g+", "+e.b+")"},n.prototype._exportColor4=function(e){return"new BABYLON.Color4("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},n.prototype._traverseNodes=function(n){var i=this.core.currentScene;if(n){var r="";if(-1===n.id.indexOf(t.EditorMain.DummyNodeID)&&n!==this.core.camera){r="	// Configure node "+n.name+"\n";for(var o=!1,a=0;a<i.particleSystems.length;a++){var s=i.particleSystems[a];s.emitter===n&&(r+="\n"+this._exportParticleSystem(s),o=!0)}var l=!1;if(o||n instanceof e.Mesh&&n.material instanceof e.SkyMaterial&&(r+="\n"+this._exportSky(n),l=!0),l||(r+='	node = scene.getNodeByName("'+n.name+'");\n'),(o||l)&&(r+=this._exportNodeTransform(n)),n instanceof e.AbstractMesh)if(n.material instanceof e.MultiMaterial)for(var a=0;a<n.subMeshes.length;a++)r+=this._exportNodeMaterial(n.subMeshes[a],a);else r+=this._exportNodeMaterial(n);else n instanceof e.Light&&(r+=this._exportLight(n));n.animations.length>0&&(r+=this._exportAnimations(n))}for(var a=0;a<n.getDescendants().length;a++)r+=this._traverseNodes(n.getDescendants()[a]);return r}var c=[],r="";this._fillRootNodes(c,"lights"),this._fillRootNodes(c,"cameras"),this._fillRootNodes(c,"meshes");for(var a=0;a<c.length;a++)r+=this._traverseNodes(c[a]);return r},n.prototype._fillRootNodes=function(e,t){for(var n=this.core.currentScene,i=n[t],r=0;r<i.length;r++)i[r].parent||e.push(i[r])},n}();t.Exporter=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(){}return n.ExportProject=function(t,n){void 0===n&&(n=!1),e.SceneSerializer.ClearCache();var i={globalConfiguration:this._SerializeGlobalAnimations(),materials:[],particleSystems:[],nodes:[],shadowGenerators:[],postProcesses:this._SerializePostProcesses(),lensFlares:this._SerializeLensFlares(t),renderTargets:this._SerializeRenderTargets(t),requestedMaterials:n?[]:void 0};return this._TraverseNodes(t,null,i),JSON.stringify(i,null,"	")},n._SerializeGlobalAnimations=function(){for(var n={globalAnimationSpeed:t.SceneFactory.AnimationSpeed,framesPerSecond:t.GUIAnimationEditor.FramesPerSecond,animatedAtLaunch:[]},i=0;i<t.SceneFactory.NodesToStart.length;i++){var r=t.SceneFactory.NodesToStart[i],o="Node";r instanceof e.Scene?o="Scene":r instanceof e.Sound?o="Sound":r instanceof e.ParticleSystem&&(o="ParticleSystem");var a={name:r.name,type:o};n.animatedAtLaunch.push(a)}return n},n._SerializeRenderTargets=function(t){var n=[],i=0;for(i=0;i<t.currentScene.reflectionProbes.length;i++){var r=t.currentScene.reflectionProbes[i],o=r._attachedMesh,a={isProbe:!0,serializationObject:{}};o&&(a.serializationObject.attachedMeshId=o.id),a.serializationObject.name=r.name,a.serializationObject.size=r.cubeTexture.getBaseSize().width,a.serializationObject.generateMipMaps=r.cubeTexture._generateMipMaps,a.serializationObject.renderList=[];for(var s=0;s<r.renderList.length;s++)a.serializationObject.renderList.push(r.renderList[s].id);n.push(a)}for(i=0;i<t.currentScene.customRenderTargets.length;i++){var l=t.currentScene.customRenderTargets[i];if(e.Tags.HasTags(l)&&e.Tags.MatchesQuery(l,"added")){var a={isProbe:!1,serializationObject:l.serialize()};n.push(a)}}return n},n._SerializeLensFlares=function(e){for(var t=[],n=0;n<e.currentScene.lensFlareSystems.length;n++){for(var i=e.currentScene.lensFlareSystems[n],r={serializationObject:i.serialize()},o=r.serializationObject.flares,n=0;n<o.length;n++)o[n].base64Name=o[n].textureName,delete o[n].textureName,o[n].base64Buffer=i.lensFlares[n].texture._buffer;t.push(r)}return t},n._SerializePostProcesses=function(){var e=[];return t.SceneFactory.HDRPipeline&&e.push({attach:t.SceneFactory.EnabledPostProcesses.attachHDR,name:"HDRPipeline",serializationObject:this._ConfigureBase64Texture(t.SceneFactory.HDRPipeline,t.SceneFactory.HDRPipeline.serialize())}),t.SceneFactory.SSAOPipeline&&e.push({attach:t.SceneFactory.EnabledPostProcesses.attachSSAO,name:"SSAOPipeline",serializationObject:this._ConfigureBase64Texture(t.SceneFactory.SSAOPipeline,t.SceneFactory.SSAOPipeline.serialize())}),e},n._TraverseNodes=function(t,n,i){var r=t.currentScene;if(n){if(n!==t.camera){for(var o=0;o<r.particleSystems.length;o++){var a=r.particleSystems[o];if(a.emitter===n){var s={hasEmitter:!(e.Tags.HasTags(n)&&e.Tags.MatchesQuery(n,"added_particlesystem")),serializationObject:a.serialize()};s.hasEmitter||(s.emitterPosition=a.emitter.position.asArray()),s.serializationObject.base64TextureName=a.particleTexture.name,s.serializationObject.base64Texture=a.particleTexture._buffer,delete s.serializationObject.textureName,i.particleSystems.push(s)}}if(n instanceof e.AbstractMesh&&n.material&&!(n.material instanceof e.StandardMaterial)){var l=n.material;if(!e.Tags.HasTags(l)||!e.Tags.MatchesQuery(l,"furShellMaterial")){if(l instanceof e.MultiMaterial)for(var c=0;c<l.subMaterials.length;c++){var d=l.subMaterials[c];if(!(d instanceof e.StandardMaterial)){var h={meshesNames:[n.name],newInstance:!0,serializedValues:d.serialize()};this._ConfigureMaterial(l,h),i.materials.push(h),this._RequestMaterial(t,i,d)}}var u=this._GetSerializedMaterial(i,l.name);if(u)u.meshesNames.push(n.name);else{var h={meshesNames:[n.name],newInstance:!0,serializedValues:l.serialize()};this._ConfigureMaterial(l,h),i.materials.push(h),this._RequestMaterial(t,i,l)}}}var m={name:n instanceof e.Scene?"Scene":n.name,id:n instanceof e.Scene?"Scene":n instanceof e.Sound?"Sound":n.id,type:n instanceof e.Scene?"Scene":n instanceof e.Sound?"Sound":n instanceof e.Light?"Light":n instanceof e.Camera?"Camera":"Mesh",animations:[]},p=!1;if(e.Tags.HasTags(n)&&(e.Tags.MatchesQuery(n,"added_particlesystem")&&(p=!0),e.Tags.MatchesQuery(n,"added"))){if(p=!0,n instanceof e.Mesh){m.serializationObject=e.SceneSerializer.SerializeMesh(n,!1,!1);for(var f=0;f<m.serializationObject.meshes.length;f++)delete m.serializationObject.meshes[f].animations}else m.serializationObject=n.serialize(),delete m.serializationObject.animations;delete m.serializationObject.animations}if(n instanceof e.Light){var A=n.getShadowGenerator();A&&e.Tags.HasTags(A)&&e.Tags.MatchesQuery(A,"added")&&i.shadowGenerators.push(n.getShadowGenerator().serialize())}if(n.animations)for(var v=n,E=0;E<v.animations.length;E++){var T=v.animations[E];if(e.Tags.HasTags(T)&&e.Tags.MatchesQuery(T,"modified")){p=!0;for(var y={events:[],serializationObject:T.serialize(),targetName:n instanceof e.Scene?"Scene":n.name,targetType:n instanceof e.Scene?"Scene":n instanceof e.Sound?"Sound":"Node"},g=T.getKeys(),S=0;S<g.length;S++){var b=g[S].events;b&&y.events.push({events:b,frame:g[S].frame})}m.animations.push(y)}}p&&i.nodes.push(m)}if(n instanceof e.Node)for(var o=0;o<n.getDescendants().length;o++)this._TraverseNodes(t,n.getDescendants()[o],i)}else{this._TraverseNodes(t,t.currentScene,i);var I=[];this._FillRootNodes(t,I,"lights"),this._FillRootNodes(t,I,"cameras"),this._FillRootNodes(t,I,"meshes");for(var o=0;o<I.length;o++)this._TraverseNodes(t,I[o],i)}},n._RequestMaterial=function(t,n,i){if(!(!i||i instanceof e.StandardMaterial||i instanceof e.MultiMaterial)&&n.requestedMaterials){var r=i.constructor?i.constructor.name:null;if(r){var o=n.requestedMaterials.indexOf(r);-1===o&&n.requestedMaterials.push(r)}}},n._GetSerializedMaterial=function(e,t){for(var n=0;n<e.materials.length;n++)if(e.materials[n].serializedValues.name===t)return e.materials[n];return null},n._ConfigureMaterial=function(t,n){for(var i in t){var r=t[i];r instanceof e.BaseTexture&&n.serializedValues[i]&&r._buffer&&(n.serializedValues[i].base64String=r._buffer)}},n._ConfigureBase64Texture=function(t,n){for(var i in t){var r=t[i];r instanceof e.BaseTexture&&n[i]&&r._buffer&&(n[i].base64String=r._buffer)}return n},n._FillRootNodes=function(e,t,n){for(var i=e.currentScene,r=i[n],o=0;o<r.length;o++)r[o].parent||t.push(r[o])},n}();t.ProjectExporter=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(){}return n.ImportProject=function(n,i){var r=JSON.parse(i);t.Tools.CleanProject(r);for(var o=0;o<r.renderTargets.length;o++){var a=r.renderTargets[o];if(a.isProbe){var s=new e.ReflectionProbe(a.serializationObject.name,a.serializationObject.size,n.currentScene,a.serializationObject.generateMipMaps);s._waitingRenderList=a.serializationObject.renderList,a.waitingTexture=s}else{var l=e.Texture.Parse(a.serializationObject,n.currentScene,"./");l._waitingRenderList=void 0,a.waitingTexture=l,e.Tags.EnableFor(l),e.Tags.AddTagsTo(l,"added")}}for(var o=0;o<r.materials.length;o++){var c=r.materials[o];if(c.newInstance&&c.serializedValues.customType){var d=e.Tools.Instantiate(c.serializedValues.customType);c._babylonMaterial=d.Parse(c.serializedValues,n.currentScene,"./")}}for(var o=0;o<r.nodes.length;o++){var h=r.nodes[o],u=null;switch(h.type){case"Mesh":case"Light":case"Camera":if(h.serializationObject)if("Mesh"===h.type){for(var m=h.serializationObject.geometries.vertexData,p=0;p<m.length;p++)e.Geometry.Parse(m[p],n.currentScene,"./");for(var f=h.serializationObject.meshes,A=0;A<f.length;A++)u=e.Mesh.Parse(f[A],n.currentScene,"./"),e.Tags.EnableFor(u)}else"Light"===h.type?u=e.Light.Parse(h.serializationObject,n.currentScene):"Camera"===h.type&&(u=e.Camera.Parse(h.serializationObject,n.currentScene));else u=n.currentScene.getNodeByName(h.name);break;case"Scene":u=n.currentScene;break;default:continue}if(!u)for(var v=0;v<r.particleSystems.length;v++){var E=r.particleSystems[v];if(!E.hasEmitter&&h.id&&E.serializationObject&&E.serializationObject.emitterId===h.id){u=new e.Mesh(h.name,n.currentScene,null,null,!0),u.id=h.id,e.Tags.EnableFor(u),e.Tags.AddTagsTo(u,"added_particlesystem");break}}if(u){h.animations.length>0&&!u.animations&&(u.animations=[]);for(var T=0;T<h.animations.length;T++){var y=h.animations[T],g=e.Animation.Parse(y.serializationObject);u.animations.push(g),e.Tags.EnableFor(g),e.Tags.AddTagsTo(g,"modified")}}else e.Tools.Warn("Cannot configure node named "+h.name+" , with ID "+h.id)}for(var o=0;o<r.particleSystems.length;o++){{var E=r.particleSystems[o],S=e.ParticleSystem.Parse(E.serializationObject,n.currentScene,"./");E.serializationObject.base64Texture}S.particleTexture=e.Texture.CreateFromBase64String(E.serializationObject.base64Texture,E.serializationObject.base64TextureName,n.currentScene),S.particleTexture.name=S.particleTexture.name.replace("data:",""),!E.hasEmitter&&E.emitterPosition&&(S.emitter.position=e.Vector3.FromArray(E.emitterPosition)),S.emitter.attachedParticleSystem=S}for(var o=0;o<r.lensFlares.length;o++)for(var b=r.lensFlares[o],I=e.LensFlareSystem.Parse(b.serializationObject,n.currentScene,"./"),o=0;o<I.lensFlares.length;o++){var O=b.serializationObject.flares[o];I.lensFlares[o].texture=e.Texture.CreateFromBase64String(O.base64Buffer,O.base64Name.replace("data:",""),n.currentScene)}for(var o=0;o<r.shadowGenerators.length;o++){var L=r.shadowGenerators[o],P=e.ShadowGenerator.Parse(L,n.currentScene);e.Tags.EnableFor(P),e.Tags.AddTagsTo(P,"added"),P.getShadowMap().renderList.some(function(e,t,n){return e?!1:(n.splice(t,1),!0)})}t.SceneFactory.AnimationSpeed=r.globalConfiguration.globalAnimationSpeed,t.GUIAnimationEditor.FramesPerSecond=r.globalConfiguration.framesPerSecond||t.GUIAnimationEditor.FramesPerSecond,n.editor.sceneToolbar.setFramesPerSecond(t.GUIAnimationEditor.FramesPerSecond);for(var o=0;o<r.globalConfiguration.animatedAtLaunch.length;o++){var B=r.globalConfiguration.animatedAtLaunch[o];switch(B.type){case"Scene":t.SceneFactory.NodesToStart.push(n.currentScene);break;case"Node":t.SceneFactory.NodesToStart.push(n.currentScene.getNodeByName(B.name));break;case"Sound":t.SceneFactory.NodesToStart.push(n.currentScene.getSoundByName(B.name));break;case"ParticleSystem":t.SceneFactory.NodesToStart.push(t.Tools.GetParticleSystemByName(n.currentScene,B.name))}}for(var o=0;o<r.postProcesses.length;o++){var x=r.postProcesses[o];if(t.SceneFactory["Create"+x.name]){var D=t.SceneFactory["Create"+x.name](n,x.serializationObject);void 0===x.attach||x.attach||D._detachCameras(n.currentScene.cameras)}}for(var o=0;o<r.renderTargets.length;o++){var a=r.renderTargets[o];a.isProbe&&a.serializationObject.attachedMeshId&&a.waitingTexture.attachToMesh(n.currentScene.getMeshByID(a.serializationObject.attachedMeshId));for(var N=0;N<a.serializationObject.renderList.length;N++){var C=n.currentScene.getMeshByID(a.serializationObject.renderList[N]);C&&a.waitingTexture.renderList.push(C)}}for(var o=0;o<r.materials.length;o++){var c=r.materials[o];if(c.meshesNames&&c.serializedValues.customType)for(var R=r.materials[o].meshesNames,M=0;M<R.length;M++){var F=n.currentScene.getMeshByName(R[M]);F&&(F.material=r.materials[o]._babylonMaterial)}}},n}();t.ProjectImporter=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(t,i){void 0===i&&(i=n.OneDriveStorage),this._window=null,this._filesList=null,this._currentChildrenFolder=null,this._currentFolder=null,this._previousFolders=null,this._onFolderSelected=null,this.core=t,t.eventReceivers.push(this),this._storage=new e.EDITOR[i](this.core)}return Object.defineProperty(n,"OneDriveStorage",{get:function(){return"OneDriveStorage"},enumerable:!0,configurable:!0}),n.prototype.onEvent=function(e){var n=this;if(e.eventType===t.EventType.GUI_EVENT&&e.guiEvent.caller===this._filesList&&e.guiEvent.eventType===t.GUIEventType.GRID_SELECTED){var i=this._filesList.getSelectedRows()[0],r=this._filesList.getRow(i);if("folder"===r.type){var o=this._getFileFolder(r.name,"folder",this._currentChildrenFolder);this._previousFolders.push(this._currentFolder),this._updateFolderDialog(o)}else if("previous"===r.type){var a=this._previousFolders.pop();this._updateFolderDialog(a)}return!0}if(e.eventType===t.EventType.GUI_EVENT&&e.guiEvent.caller===this._window&&e.guiEvent.eventType===t.GUIEventType.WINDOW_BUTTON_CLICKED){{var s=e.guiEvent.data;this._filesList.getSelectedRows()}return"Choose"===s&&this._currentFolder&&this._storage.getFiles(this._currentFolder,function(e){n._onFolderSelected(n._currentFolder,e)}),this._window.close(),!0}return!1},n.prototype.createTemplate=function(){var e=this;this._openFolderDialog(function(t,i){e._lockPanel("Creating Template..."),n._projectFolder=t,n._projectFolderChildren=i,e._storage.createFolders(["Materials","Textures","js","Scene"],t,function(){e._createTemplate()},function(){e._unlockPanel()})})},n.prototype["export"]=function(){var e=this;return n._projectFolder?(this._lockPanel("Saving on OneDrive..."),void this._updateFileList(function(){var i=[{name:"scene.editorproject",content:t.ProjectExporter.ExportProject(e.core)}];e._storage.createFiles(i,n._projectFolder,function(){e._unlockPanel()})})):void this._openFolderDialog(function(t,i){n._projectFolder=t,n._projectFolderChildren=i,e["export"]()})},n.prototype.getFolder=function(e){return this._getFileFolder(e,"folder",n._projectFolderChildren)},n.prototype.getFile=function(e){return this._getFileFolder(e,"file",n._projectFolderChildren)},n.prototype._createTemplate=function(){var i=this;this._updateFileList(function(){var r=[],o=window.location.href;o=o.replace(e.Tools.GetFilename(o),"");var a=t.ProjectExporter.ExportProject(i.core,!0),s=JSON.parse(a),l=i.getFolder("Scene"),c=i.core.editor.filesInput._sceneFileToLoad;r.push({name:c.name,content:JSON.stringify(t.BabylonExporter.GenerateFinalBabylonFile(i.core)),parentFolder:l.file});for(var d=0;d<s.lensFlares.length;d++)for(var h=s.lensFlares[d].serializationObject,u=0;u<h.flares.length;u++)i._fileExists(r,h.flares[u].base64Name,l)||r.push({name:h.flares[u].base64Name,content:t.Tools.ConvertBase64StringToArrayBuffer(h.flares[u].base64Buffer),parentFolder:l.file});for(var d=0;d<s.particleSystems.length;d++){var m=s.particleSystems[d].serializationObject;i._fileExists(r,m.base64TextureName,l)||r.push({name:m.base64TextureName,content:t.Tools.ConvertBase64StringToArrayBuffer(m.base64Texture),parentFolder:l.file})}if(t.SceneFactory.HDRPipeline&&t.SceneFactory.HDRPipeline.lensTexture){var p=t.SceneFactory.HDRPipeline.lensTexture.name;r.push({name:p,content:t.Tools.ConvertBase64StringToArrayBuffer(t.SceneFactory.HDRPipeline.lensTexture._buffer),parentFolder:i.getFolder("Textures").file})}var f=r.length;r.push({name:"index.html",url:o+"templates/index.html",content:null}),r.push({name:"Web.config",url:o+"templates/Template.xml",content:null}),r.push({name:"babylon.js",url:o+"libs/babylon.js",content:null,parentFolder:i.getFolder("js").file});for(var d=0;d<s.requestedMaterials.length;d++){var A="babylon."+s.requestedMaterials[d]+".js";r.push({name:A,url:o+"libs/materials/"+A,content:null,parentFolder:i.getFolder("Materials").file})}var v=function(e){return function(t){f++,e>=0&&("index.html"===r[e].name&&(t=i._processIndexHTML(s,t)),r[e].content=t),f>=r.length&&i._storage.createFiles(r,n._projectFolder,function(){i._unlockPanel()},function(){i._unlockPanel()})}};if(f===r.length)v(-1)(null);else{for(var d=0;d<r.length;d++)r[d].url&&e.Tools.LoadFile(r[d].url,v(d),null,null,"arraybuffer"===r[d].type);for(var E in t.FilesInput.FilesTextures)r.push({name:E,content:null,parentFolder:l.file}),e.Tools.ReadFile(t.FilesInput.FilesTextures[E],v(r.length-1),null,!0);for(var T in t.FilesInput.FilesToLoad)r.push({name:T,content:null,parentFolder:l.file}),e.Tools.ReadFile(t.FilesInput.FilesToLoad[T],v(r.length-1),null,!0)}})},n.prototype._fileExists=function(e,t,n){for(var i=0;i<e.length;i++)if(e[i].name===t&&e[i].parentFolder===n.file)return!0;return!1},n.prototype._processIndexHTML=function(e,t){for(var n=t,i="",r=0;r<e.requestedMaterials.length;r++)i+='	<script src="Materials/babylon.'+e.requestedMaterials[r]+'.js" type="text/javascript"></script>\n';var o=this.core.editor.filesInput._sceneFileToLoad;return o&&(n=n.replace("EXPORTER-SCENE-NAME",o.name)),n=n.replace("EXPORTER-JS-FILES-TO-ADD",i)},n.prototype._openFolderDialog=function(e){var n=this;this._onFolderSelected=e;var i="BABYLON-STORAGE-EXPORTER-GRID",r=t.GUI.GUIElement.CreateElement("div",i);this._window=new t.GUI.GUIWindow("BABYLON-STORAGE-EXPORTER-WINDOW",this.core,"Choose folder...",r),this._window.modal=!0,this._window.showMax=!1,this._window.buttons=["Choose","Cancel"],this._window.setOnCloseCallback(function(){n.core.removeEventReceiver(n),n._filesList.destroy()}),this._window.buildElement(null),this._filesList=new t.GUI.GUIGrid(i,this.core),this._filesList.header="Files and Folders",this._filesList.createColumn("name","name","80%"),this._filesList.createColumn("type","type","20%"),this._filesList.buildElement(i),this._previousFolders=[],this._updateFolderDialog()},n.prototype._updateFolderDialog=function(e){var t=this;void 0===e&&(e=null),this._filesList.lock("Loading...",!0),this._filesList.clear(),this._currentFolder=e,this._filesList.addRow({name:"..",type:"previous",recid:0}),this._storage.getFiles(e,function(e){t._currentChildrenFolder=e;for(var n=0;n<e.length;n++)t._filesList.addRow({name:e[n].name,type:e[n].file.folder?"folder":"file",recid:n+1});t._filesList.unlock()},function(){t._filesList.unlock()})},n.prototype._updateFileList=function(e){this._storage.getFiles(n._projectFolder,function(t){n._projectFolderChildren=t,e()})},n.prototype._getFileFolder=function(e,t,n){for(var i=0;i<n.length;i++)if(n[i].file.name===e&&n[i].file[t])return n[i];return{file:null,name:""}},n.prototype._lockPanel=function(e){this.core.editor.layouts.setPanelSize("bottom",0),this.core.editor.layouts.lockPanel("bottom",e,!0)},n.prototype._unlockPanel=function(){this.core.editor.layouts.setPanelSize("bottom",0),this.core.editor.layouts.unlockPanel("bottom")},n._projectFolder=null,n._projectFolderChildren=null,n}();t.StorageExporter=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n;!function(e){e[e.COPY=0]="COPY",e[e.PASTE=1]="PASTE",e[e.PASTE_KEYS=2]="PASTE_KEYS"}(n||(n={}));var i=function(){function i(t,n){this.core=null,this._animationsList=null,this._keysList=null,this._valuesForm=null,this._currentAnimation=null,this._currentKey=null,this._addAnimationWindow=null,this._addAnimationLayout=null,this._addAnimationGraph=null,this._addAnimationForm=null,this._addAnimationName="New Animation",this._addAnimationType=e.Animation.ANIMATIONLOOPMODE_CYCLE,this._addAnimationTypeName="Cycle",this._editedAnimation=null,this._graphPaper=null,this._graphLines=[],this._graphValueTexts=[],this._graphMiddleLine=null,this._graphTimeLines=[],this._graphTimeTexts=[],this.core=t,this.core.eventReceivers.push(this),this.object=n,this.core.editor.editPanel.close(),this._createUI()}return i.prototype.onEvent=function(e){if(e.eventType!==t.EventType.GUI_EVENT)return!1;if(e.guiEvent.eventType===t.GUIEventType.WINDOW_BUTTON_CLICKED&&e.guiEvent.caller===this._addAnimationWindow){var n=e.guiEvent.data;return"Cancel"===n?(this._addAnimationWindow.close(),!0):(this._onAddAnimation(),!0)}return e.guiEvent.caller===this._animationsList?(this._setRecords(0,""),!0):e.guiEvent.caller===this._keysList&&null!==this._currentAnimation?(this.core.editor.timeline.reset(),!0):!1},i.prototype._createAnimation=function(){var n=this;if(this._editedAnimation)switch(this._addAnimationName=this._editedAnimation.name,this._addAnimationTypeName="Cycle",this._addAnimationType){case e.Animation.ANIMATIONLOOPMODE_RELATIVE:this._addAnimationTypeName="Relative";break;case e.Animation.ANIMATIONLOOPMODE_CONSTANT:this._addAnimationTypeName="Constant"}var i="BABYLON-EDITOR-EDIT-ANIMATIONS-ADD",r="BABYLON-EDITOR-EDIT-ANIMATIONS-ADD-GRAPH",o="BABYLON-EDITOR-EDIT-ANIMATIONS-ADD-EDIT",a=t.GUI.GUIElement.CreateDivElement(i,"width: 100%; height: 100%;");this._addAnimationWindow=new t.GUI.GUIWindow("AddAnimation",this.core,"Add Animation",a,new e.Vector2(800,600)),this._addAnimationWindow.modal=!0,this._addAnimationWindow.showClose=!0,this._addAnimationWindow.showMax=!1,this._addAnimationWindow.buttons=["Apply","Cancel"],this._addAnimationWindow.buildElement(null),this._addAnimationWindow.setOnCloseCallback(function(){
n._addAnimationWindow.destroy(),n._addAnimationGraph.destroy(),n._addAnimationLayout.destroy()});var s=t.GUI.GUIElement.CreateElement("div",r),l=t.GUI.GUIElement.CreateElement("div",o);this._addAnimationLayout=new t.GUI.GUILayout(i,this.core),this._addAnimationLayout.createPanel(s,"left",380,!1).setContent(s),this._addAnimationLayout.createPanel(l,"main",380,!1).setContent(l),this._addAnimationLayout.buildElement(i),this._addAnimationForm=new t.GUI.GUIEditForm(o,this.core),this._addAnimationForm.buildElement(o),this._addAnimationForm.add(this,"_addAnimationName").name("Name"),this._addAnimationType=e.Animation.ANIMATIONLOOPMODE_CYCLE,this._addAnimationForm.add(this,"_addAnimationTypeName",["Cycle","Relative","Constant"],"Loop Mode").onFinishChange(function(t){switch(t){case"Relative":n._addAnimationType=e.Animation.ANIMATIONLOOPMODE_RELATIVE;break;case"Cycle":n._addAnimationType=e.Animation.ANIMATIONLOOPMODE_CYCLE;break;case"Constant":n._addAnimationType=e.Animation.ANIMATIONLOOPMODE_CONSTANT}}),this._addAnimationGraph=new t.GUI.GUIGraph(r,this.core),this._addAnimationGraph.buildElement(r);var c=["Vector4","Vector3","Vector2","Color4","Color3","Number","number","Boolean","boolean"],d=["Material","ParticleSystem"],h=function(i,r){for(var o in i){var a=i[o];if(null!==a&&void 0!==a){var s=t.Tools.GetConstructorName(a),l=!0;("_"===o[0]||-1===c.indexOf(s))&&(l=!1);for(var u=0;u<d.length;u++)a instanceof e[d[u]]&&(l=!0);if(l){var m="icon-edit";-1!==s.indexOf("Vector")?m="icon-position":-1!==s.indexOf("Color")?m="icon-effects":a instanceof e.Material?m="icon-shaders":a instanceof e.ParticleSystem&&(m="icon-particles");var p=n._addAnimationGraph.createNode(t.SceneFactory.GenerateUUID(),o,m,a);n._addAnimationGraph.addNodes(p,r),h(a,p.id)}}}};h(this.object,"")},i.prototype._getEffectiveTarget=function(e){for(var t=this.object,n=0;n<this._currentAnimation.targetPropertyPath.length-(e?1:0);n++)t=t[this._currentAnimation.targetPropertyPath[n]];return e&&(t[this._currentAnimation.targetPropertyPath[this._currentAnimation.targetPropertyPath.length-1]]=e),t},i.prototype._getFrameTime=function(t){if(0===t)return"0mins 0secs";var n=this._currentAnimation.framePerSecond,i=t/n,r=e.Tools.Format(Math.floor(i/60),0),o=e.Tools.Format(i%60,1);return""+r+"mins "+o+"secs"},i.prototype._setRecords=function(e,t){this._valuesForm.setRecord("frame",e.toString()),this._valuesForm.setRecord("value",this._getFrameValue()),this._valuesForm.refresh()},i.prototype._setFrameValue=function(){var n=this._valuesForm.getRecord("frame"),i=this._valuesForm.getRecord("value"),r=!1,o=parseFloat(n);if(this._currentKey.frame!==o&&(r=!0),this._currentKey.frame=o,"number"==typeof this._currentKey.value||"boolean"==typeof this._currentKey.value)this._currentKey.value=parseFloat(i);else{var a=t.Tools.GetConstructorName(this._currentKey.value);if(e[a]&&e[a].FromArray){var s=i.split(","),l=[];for(var c in s)l.push(parseFloat(s[c]));this._currentKey.value=e[a].FromArray(l)}}return e.Tags.HasTags(this._currentAnimation)||e.Tags.EnableFor(this._currentAnimation),e.Tags.MatchesQuery(this._currentAnimation,"modified")||e.Tags.AddTagsTo(this._currentAnimation,"modified"),r},i.prototype._getFrameValue=function(){if(null===this._currentKey)return"";var e=this._currentKey.value;if("number"==typeof e||"boolean"==typeof e)return Number(e).toString();if(e.asArray){var t=e.asArray();return t.toString()}return""},i.prototype._configureGraph=function(){for(var t,n=this._currentAnimation.getKeys(),i=0,r=function(e){for(var t,r=0;r<n.length;r++)t=n[r].value,e&&(t=t[e]),t=Math.abs(t),t>i&&(i=t)},o=this._graphPaper.canvas.getBoundingClientRect().width,a=this._graphPaper.canvas.getBoundingClientRect().height,s=a/2,l=n[n.length-1].frame,c=["r","g","b"],d=["x","y","z"],h=1,u=0;u<this._graphLines.length;u++)this._graphLines[u].attr("path","");switch(this._currentAnimation.dataType){case e.Animation.ANIMATIONTYPE_VECTOR2:h=2,r("x"),r("y"),t=d;break;case e.Animation.ANIMATIONTYPE_VECTOR3:h=3,r("x"),r("y"),r("z"),t=d;break;case e.Animation.ANIMATIONTYPE_COLOR3:h=3,r("r"),r("g"),r("b"),t=c;break;default:r()}this._graphValueTexts[0].attr("y",10),this._graphValueTexts[0].attr("text",Math.floor(i)),this._graphValueTexts[1].attr("y",s),this._graphValueTexts[1].attr("text",0),this._graphValueTexts[2].attr("y",2*s-10),this._graphValueTexts[2].attr("text",-Math.floor(i)),this._graphMiddleLine.attr("path",["M",0,s,"L",this._graphPaper.canvas.getBoundingClientRect().width,s]);for(var m=0;10>m;m++){var p=l/10*o/l*(m+1);this._graphTimeLines[m].attr("path",["M",p,0,"L",p,2*s]),this._graphTimeTexts[m].attr("text",Math.floor(p*l/o)),this._graphTimeTexts[m].attr("y",a-10),this._graphTimeTexts[m].attr("x",p-2*this._graphTimeTexts[m].attr("width"))}for(var u=0;h>u;u++){for(var f=[],m=0;m<n.length;m++){var A=n[m].value;h>1&&(A=A[t[u]]);var v=n[m].frame,p=v*o/l,E=s;0!==A&&0!==i&&(E+=A*s/(i*(A>0?1:-1))*(A>0?-1:1)),isNaN(p)&&(p=0),isNaN(E)&&(E=0),f.push(0===m?"M":"L"),f.push(p),f.push(E)}this._graphLines[u].attr("path",f)}},i.prototype._onSelectedAnimation=function(){var e=this._animationsList.getSelectedRows()[0],t=this.object.animations[e],n=t.getKeys();this._currentAnimation=t,this._currentKey=null,this._keysList.clear();for(var i=0;i<n.length;i++)this._keysList.addRecord({key:n[i].frame.toString(),value:this._getFrameTime(n[i].frame),recid:i});this._keysList.refresh(),this.core.editor.timeline.setFramesOfAnimation(t),this._configureGraph()},i.prototype._onAddAnimation=function(){if(this._editedAnimation){var n=this._animationsList.getSelectedRows();n.length>0&&this._animationsList.modifyRow(n[0],{name:this._addAnimationName})}var r=this._addAnimationGraph.getSelectedNode();if(r){var o="",a=r.data;for(a="number"==typeof a||"boolean"==typeof a?a:a.clone();r.parent&&r.text;)o=r.text+(""===o?"":"."+o),r=r.parent;var s=t.Tools.GetConstructorName(a),l=-1;switch(s.toLowerCase()){case"number":case"boolean":l=e.Animation.ANIMATIONTYPE_FLOAT;break;case"vector3":l=e.Animation.ANIMATIONTYPE_VECTOR3;break;case"color3":case"color4":l=e.Animation.ANIMATIONTYPE_COLOR3;break;case"vector2":l=e.Animation.ANIMATIONTYPE_VECTOR2;break;default:return}var c=new e.Animation(this._addAnimationName,o,i.FramesPerSecond,l,this._addAnimationType);if(this._editedAnimation){c.setKeys(this._editedAnimation.getKeys());var n=this._animationsList.getSelectedRows();n.length>0&&(this.object.animations[n[0]]=c)}else c.setKeys([{frame:0,value:a},{frame:1,value:a}]),this.object.animations.push(c),this._animationsList.addRow({name:this._addAnimationName});e.Tags.HasTags(c)&&e.Tags.MatchesQuery(c,"modified")||e.Tags.AddTagsTo(c,"modified"),this.core.editor.timeline.reset(),this._addAnimationWindow.close()}},i.prototype._onModifyKey=function(){if(this._currentKey){var e=this._setFrameValue(),t=this._keysList.getSelectedRows()[0];if(this._keysList.modifyRow(t,{key:this._currentKey.frame,value:this._getFrameTime(this._currentKey.frame)}),this.core.editor.timeline.reset(),e){this._currentAnimation.getKeys().sort(function(e,t){return e.frame-t.frame});var n=this._currentKey;this._onSelectedAnimation(),this._currentKey=n}else this._configureGraph();this._keysList.setSelected([t])}},i.prototype._onAnimationMenuSelected=function(t){if(t===n.COPY){i._CopiedAnimations=[];for(var r=this._animationsList.getSelectedRows(),o=0;o<r.length;o++)i._CopiedAnimations.push(this.object.animations[r[o]])}else if(t===n.PASTE)for(var o=0;o<i._CopiedAnimations.length;o++){for(var a=i._CopiedAnimations[o],s=a.getKeys(),l=new e.Animation(a.name,a.targetPropertyPath.join("."),a.framePerSecond,a.dataType,a.loopMode),c=[],d=0;d<s.length;d++)c.push({frame:s[d].frame,value:s[d].value});l.setKeys(c),this.object.animations.push(l),e.Tags.AddTagsTo(l,"modified"),this._animationsList.addRow({name:a.name})}else if(t===n.PASTE_KEYS){var r=this._animationsList.getSelectedRows();if(1===i._CopiedAnimations.length&&1===r.length)for(var l=this.object.animations[r[0]],a=i._CopiedAnimations[0],c=a.getKeys(),h=l.getKeys().length,o=0;o<c.length;o++)l.getKeys().push({frame:c[o].frame,value:c[o].value}),this._keysList.addRow({key:c[o].frame,value:this._getFrameTime(c[o].frame),recid:h}),h++}},i.prototype._onDeleteAnimations=function(){for(var e=this._animationsList.getSelectedRows(),t=0,n=0;n<e.length;n++)this.object.animations.splice(e[n]-t,1),t++;this._keysList.clear(),this.core.currentScene.stopAnimation(this.object)},i.prototype._onKeySelected=function(){var e=this._keysList.getSelectedRows()[0],t=this._currentAnimation.getKeys()[e];this._currentKey=t,this._setRecords(t.frame,t.value);this._getEffectiveTarget(this._currentKey.value)},i.prototype._onAddKey=function(){var e=this._currentAnimation.getKeys(),t=e[e.length-1],n=t?t.frame+1:0,i=0,r=this._getEffectiveTarget();i="number"!=typeof r&&"boolean"!=typeof r?r.clone():r,e.push({frame:n,value:i}),this._keysList.addRow({key:n,value:this._getFrameTime(n),recid:e.length-1}),this._onSelectedAnimation()},i.prototype._onRemoveKeys=function(){for(var e=this._keysList.getSelectedRows(),t=this._currentAnimation.getKeys(),n=0,i=0;i<e.length;i++){var r=this._keysList.getRow(e[i+1]);r&&r.recid--,t.splice(e[i]-n,1),n++}this._onSelectedAnimation()},i.prototype._createUI=function(){var e=this;this.core.editor.editPanel.setPanelSize(40);var i="BABYLON-EDITOR-ANIMATION-EDITOR-ANIMATIONS",r="BABYLON-EDITOR-ANIMATION-EDITOR-KEYS",o="BABYLON-EDITOR-ANIMATION-EDITOR-VALUES",a="BABYLON-EDITOR-ANIMATION-EDITOR-CANVAS",s=t.GUI.GUIElement.CreateDivElement(i,"width: 30%; height: 100%; float: left;"),l=t.GUI.GUIElement.CreateDivElement(r,"width: 30%; height: 100%; float: left;"),c=t.GUI.GUIElement.CreateDivElement(o,"width: 40%; height: 50%;"),d=t.GUI.GUIElement.CreateDivElement(a,"width: 40%; height: 50%; float: right;");this.core.editor.editPanel.addContainer(s,i),this.core.editor.editPanel.addContainer(l,r),this.core.editor.editPanel.addContainer(c,o),this.core.editor.editPanel.addContainer(d,a),this._animationsList=new t.GUI.GUIGrid(i,this.core),this._animationsList.header="Animations",this._animationsList.createColumn("name","name","100%"),this._animationsList.showSearch=!1,this._animationsList.showOptions=!1,this._animationsList.showDelete=!0,this._animationsList.showAdd=!0,this._animationsList.showEdit=!0,this._animationsList.addMenu(n.COPY,"Copy","icon-copy"),this._animationsList.addMenu(n.PASTE,"Paste","icon-copy"),this._animationsList.addMenu(n.PASTE_KEYS,"Paste Keys","icon-copy"),this._animationsList.buildElement(i);for(var h=0;h<this.object.animations.length;h++)this._animationsList.addRow({name:this.object.animations[h].name,recid:h});this._animationsList.onDelete=function(t){e._onDeleteAnimations()},this._animationsList.onAdd=function(){e._createAnimation()},this._animationsList.onEdit=function(){var t=e._animationsList.getSelectedRows();t.length>0&&(e._editedAnimation=e.object.animations[t[0]],e._createAnimation())},this._animationsList.onMenuClick=function(t){e._onAnimationMenuSelected(t)},this._animationsList.onClick=function(t){e._onSelectedAnimation()},this._keysList=new t.GUI.GUIGrid(r,this.core),this._keysList.header="Keys",this._keysList.createColumn("key","key","20%"),this._keysList.createColumn("value","value","80%"),this._keysList.showSearch=!1,this._keysList.showOptions=!1,this._keysList.showDelete=!0,this._keysList.showAdd=!0,this._keysList.buildElement(r),this._keysList.onAdd=function(){e._onAddKey()},this._keysList.onDelete=function(t){e._onRemoveKeys()},this._keysList.onClick=function(t){e._onKeySelected()},this._valuesForm=new t.GUI.GUIForm(o,"Value",this.core),this._valuesForm.header="",this._valuesForm.createField("frame","float","Frame :",3),this._valuesForm.createField("value","text","Value :",3),this._valuesForm.buildElement(o),this._valuesForm.onFormChanged=function(){e._onModifyKey()},this._graphPaper=Raphael(a,"100%","100%");var u=this._graphPaper.rect(0,0,0,0);u.attr("width","100%"),u.attr("height","100%"),u.attr("fill","#f5f6f7");for(var h=0;3>h;h++){var m=this._graphPaper.path("");this._graphLines.push(m)}this._graphLines[0].attr("stroke",Raphael.rgb(255,0,0)),this._graphLines[1].attr("stroke",Raphael.rgb(0,255,0)),this._graphLines[2].attr("stroke",Raphael.rgb(0,0,255));for(var h=0;3>h;h++){var p=this._graphPaper.text(5,0,"");p.attr("font-size",11),p.attr("text-anchor","start"),this._graphValueTexts.push(p)}this._graphMiddleLine=this._graphPaper.path(""),this._graphMiddleLine.attr("stroke",Raphael.rgb(128,128,128));for(var h=0;10>h;h++){var m=this._graphPaper.path("");m.attr("stroke",Raphael.rgb(200,200,200)),this._graphTimeLines.push(m);var p=this._graphPaper.text(0,0,"");this._graphTimeTexts.push(p)}this.core.editor.editPanel.onClose=function(){e._animationsList.destroy(),e._keysList.destroy(),e._valuesForm.destroy(),e._graphPaper.clear(),e.core.removeEventReceiver(e)}},i.GetEndFrameOfObject=function(e){var t=0;if(!e.animations)return t;for(var n=0;n<e.animations.length;n++)for(var i=e.animations[n],r=i.getKeys(),o=0;o<r.length;o++)r[o].frame>t&&(t=r[o].frame);return t},i.GetSceneFrameCount=function(e){var t=0,n=function(e){for(var n=0;n<e.length;n++)if(e[n].animations)for(var i=0;i<e[n].animations.length;i++)for(var r=e[n].animations[i],o=r.getKeys(),a=0;a<o.length;a++)o[a].frame>t&&(t=o[a].frame)};n([e]),n(e.meshes),n(e.lights),n(e.cameras),n(e.particleSystems);for(var i=0;i<e.skeletons.length;i++)n(e.skeletons[i].bones);return t},i.SetCurrentFrame=function(e,t,n){for(var i=0;i<t.length;i++)e.currentScene.stopAnimation(t[i]),e.currentScene.beginAnimation(t[i],n,n+1,!1,1)},i.FramesPerSecond=24,i._CopiedAnimations=[],i}();t.GUIAnimationEditor=i}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(e){this._window=null,this._layout=null,this._editor=null,this._configForm=null,this._core=e,this._core.eventReceivers.push(this)}return n.prototype.onEvent=function(e){if(e.eventType!==t.EventType.GUI_EVENT)return!1;if(e.guiEvent.eventType===t.GUIEventType.WINDOW_BUTTON_CLICKED&&e.guiEvent.caller===this._window){var i=e.guiEvent.data;if("Generate"===i){var r=n.GenerateFinalBabylonFile(this._core),o=this._core.currentScene.getCameraByName(this._configForm.getRecord("activeCamera"));r.activeCameraID=o?o.id:void 0,this._editor.setValue(JSON.stringify(r,null,"	"),-1)}else"Close"===i&&this._window.close();return!0}return e.guiEvent.eventType===t.GUIEventType.LAYOUT_CHANGED&&this._editor.resize(!0),!1},n.prototype.createUI=function(){var e=this,n="BABYLON-EXPORTER-CODE-EDITOR",i=t.GUI.GUIElement.CreateElement("div",n),r="BABYLON-EXPORTER-CONFIG",o=t.GUI.GUIElement.CreateElement("div",r),a="BABYLON-EXPORTER-LAYOUT",s=t.GUI.GUIElement.CreateElement("div",a);this._window=new t.GUI.GUIWindow("BABYLON-EXPORTER-WINDOW",this._core,"Export to .babylon",s),this._window.modal=!0,this._window.showMax=!0,this._window.buttons=["Generate","Close"],this._window.setOnCloseCallback(function(){e._core.removeEventReceiver(e),e._layout.destroy(),e._configForm.destroy()}),this._window.buildElement(null),this._window.onToggle=function(t,n,i){t||(n=e._window.size.x,i=e._window.size.y),e._layout.setPanelSize("left",n/2),e._layout.setPanelSize("main",n/2)},this._layout=new t.GUI.GUILayout(a,this._core),this._layout.createPanel("CODE-PANEL","left",380,!1).setContent(i),this._layout.createPanel("CONFIG-PANEL","main",380,!1).setContent(o),this._layout.buildElement(a),this._editor=ace.edit(n),this._editor.setValue('Click on "Generate" to generate the .babylon file\naccording to the following configuration',-1),this._editor.setTheme("ace/theme/clouds"),this._editor.getSession().setMode("ace/mode/javascript");for(var l=[],c=0;c<this._core.currentScene.cameras.length;c++){var d=this._core.currentScene.cameras[c];d!==this._core.camera&&l.push(d.name)}this._configForm=new t.GUI.GUIForm(r,"Configuration",this._core),this._configForm.createField("activeCamera","list","Active Camera :",5,"",{items:l}),this._configForm.buildElement(r),this._core.playCamera&&this._configForm.setRecord("activeCamera",this._core.playCamera.name)},n.GenerateFinalBabylonFile=function(n){var i=e.SceneSerializer.Serialize(n.currentScene);n.playCamera&&(i.activeCameraID=n.playCamera.id);var r=t.GUIAnimationEditor.GetSceneFrameCount(n.currentScene),o=function(e){for(var n=0;n<e.length;n++)for(var i=e[n].name,o=0;o<t.SceneFactory.NodesToStart.length;o++)t.SceneFactory.NodesToStart[o].name===i&&(e[n].autoAnimate=!0,e[n].autoAnimateFrom=0,e[n].autoAnimateTo=r,e[n].autoAnimateLoop=!1,e[n].autoAnimateSpeed=t.SceneFactory.AnimationSpeed)};return t.SceneFactory.NodesToStart.some(function(t,n,i){return t instanceof e.Scene})&&(i.autoAnimate=!0,i.autoAnimateFrom=0,i.autoAnimateTo=r,i.autoAnimateLoop=!1,i.autoAnimateSpeed=t.SceneFactory.AnimationSpeed),o(i.cameras),o(i.lights),o(i.meshes),o(i.particleSystems),i},n}();t.BabylonExporter=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function t(t){this.core=t;var n=new e.ObjectPicker(t);n.objectLists.push([t.currentScene]),n.objectLists.push(t.currentScene.lights),n.objectLists.push(t.currentScene.cameras),n.objectLists.push(t.currentScene.meshes),n.objectLists.push(t.currentScene.particleSystems),n.objectLists.push(t.currentScene.soundTracks[0].soundCollection),n.selectedObjects=e.SceneFactory.NodesToStart,n.minSelectCount=0,n.open(),n.onObjectPicked=function(n){e.SceneFactory.NodesToStart=[];for(var i=0;i<n.length;i++){var r=t.currentScene.getNodeByName(n[i]);r||"Scene"!==n[i]||(r=t.currentScene),r||(r=e.Tools.GetParticleSystemByName(t.currentScene,n[i])),(r||(r=t.currentScene.getSoundByName(n[i])))&&e.SceneFactory.NodesToStart.push(r)}t.editor.timeline.reset()}}return t}();e.LaunchEditor=t}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function t(e){this.core=null,this.objectLists=new Array,this.selectedObjects=new Array,this.minSelectCount=1,this.windowName="Select Object...",this.selectButtonName="Select",this.closeButtonName="Close",this._window=null,this._list=null,this.core=e,this.core.eventReceivers.push(this)}return t.prototype.onEvent=function(t){if(t.eventType!==e.EventType.GUI_EVENT)return!1;if(t.guiEvent.eventType!==e.GUIEventType.WINDOW_BUTTON_CLICKED)return!1;if(t.guiEvent.caller===this._window){var n=t.guiEvent.data;if(n===this.closeButtonName)this.onClosedPicker&&this.onClosedPicker(),this._window.close();else if(n===this.selectButtonName){var i=this._list.getSelectedRows();if(i.length<this.minSelectCount)this._window.notify("Please select at least 1 object...");else{if(this.onObjectPicked){for(var r=[],o=0;o<i.length;o++)r.push(this._list.getRow(i[o]).name);this.onObjectPicked(r)}this._window.close()}}return!0}return!1},t.prototype.open=function(){var t=this,n="OBJECT-PICKER-LIST",i=e.GUI.GUIElement.CreateElement("div",n);this._window=new e.GUI.GUIWindow("OBJECT-PICKER-WINDOW",this.core,this.windowName,i),this._window.modal=!0,this._window.showMax=!1,this._window.buttons=[this.selectButtonName,this.closeButtonName],this._window.setOnCloseCallback(function(){t.core.removeEventReceiver(t),t._list.destroy()}),this._window.buildElement(null),this._list=new e.GUI.GUIGrid(n,this.core),this._list.header="Objects",this._list.createColumn("name","name","100%"),this._list.buildElement(n);for(var r=[],o=0,a=0;a<this.objectLists.length;a++)for(var s=this.objectLists[a],l=0;l<s.length;l++)s[l]!==this.core.camera&&(this._list.addRecord({name:s[l].name||"Scene",recid:o}),-1!==this.selectedObjects.indexOf(s[l])&&r.push(o),o++);this._list.refresh(),r.length>0&&this._list.setSelected(r)},t}();e.ObjectPicker=t}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(){function n(t,i,r){var o=this;void 0===r&&(r=!0),this.core=null,this._window=null,this._layouts=null,this._leftPanel=null,this._layoutID="BABYLON-EDITOR-CREATE-PARTICLE-SYSTEM",this._formTabID=this._layoutID+"TAB-UPDATE-FORM",this._editorTabID=this._layoutID+"TAB-UPDATE-EDITOR",this._editElement=null,this._editElementID=this._layoutID+"FORM",this._inputElementID=this._layoutID+"INPUT",this._editor=null,this._editorElementID=this._layoutID+"EDITOR",this._engine=null,this._scene=null,this._camera=null,this._particleSystem=null,this._particleSystemToEdit=null,this._particleSystemCapacity="",this.core=t,this._uiCreated=r,r?(this._createUI(),this._engine=new e.Engine(document.getElementById(this._layoutID+"CANVAS")),this._scene=new e.Scene(this._engine),this._camera=new e.ArcRotateCamera("Camera",1,1.3,30,new e.Vector3(0,0,0),this._scene),this._camera.attachControl(this._engine.getRenderingCanvas(),!1),this._engine.runRenderLoop(function(){o._scene.render()}),this._particleSystem=n.CreateParticleSystem(this._scene,i.getCapacity(),i),this._particleSystemToEdit=i,t.eventReceivers.push(this),this._createEditor()):(this._particleSystem=i,this._scene=i._scene)}return n.prototype.onEvent=function(e){if(e.eventType!==t.EventType.GUI_EVENT)return!1;if(e.guiEvent.eventType===t.GUIEventType.WINDOW_BUTTON_CLICKED&&e.guiEvent.caller===this._window){var n=e.guiEvent.data;return"Apply"===n?(this._setParticleSystem(),this._window.close(),t.Event.sendSceneEvent(this._particleSystemToEdit,t.SceneEventType.OBJECT_PICKED,this.core)):"Cancel"===n&&this._window.close(),!0}if(e.guiEvent.eventType===t.GUIEventType.TAB_CHANGED){{this._layouts.getPanelFromType("left")}if(e.guiEvent.caller!==this._leftPanel)return!1;var i=e.guiEvent.data,r=$("#"+this._layoutID+"FORM").hide(),o=$("#"+this._layoutID+"EDITOR").hide();if(i===this._formTabID)r.show();else if(i===this._editorTabID){o.show();{this.core.editor.exporter}this._editor.setValue("var "+new t.Exporter(this.core)._exportParticleSystem(this._particleSystemToEdit).replace("	",""),-1)}return!0}return!1},n.prototype._createUI=function(){var n=this,i=t.GUI.GUIElement.CreateDivElement(this._layoutID,"width: 100%; height: 100%;");this._window=new t.GUI.GUIWindow("EditParticleSystem",this.core,"Edit Particle System",i,new e.Vector2(800,600)),this._window.modal=!0,this._window.showMax=!0,this._window.showClose=!0,this._window.buttons=["Apply","Cancel"],this._window.buildElement(null),this._window.onToggle=function(e,t,i){e||(t=n._window.size.x,i=n._window.size.y),n._layouts.setPanelSize("left",t/2),n._layouts.setPanelSize("main",t/2)},this._window.on({type:"open"},function(){n._window.maximize()}),this._window.setOnCloseCallback(function(){n._window.destroy(),n._layouts.destroy(),n.core.removeEventReceiver(n)});var r=t.GUI.GUIElement.CreateDivElement(this._editElementID)+t.GUI.GUIElement.CreateElement("div",this._editorElementID)+t.GUI.GUIElement.CreateElement('input type="file"',this._inputElementID,"display: none;"),o=t.GUI.GUIElement.CreateElement("canvas",this._layoutID+"CANVAS");this._layouts=new t.GUI.GUILayout(this._layoutID,this.core),this._leftPanel=this._layouts.createPanel(r,"left",380,!0).setContent(r),this._layouts.createPanel(o,"main",380,!0).setContent(o),this._layouts.buildElement(this._layoutID);{var a=this._layouts.getPanelFromType("left");this._layoutID+"TAB-EDIT"}a.createTab({id:this._formTabID,caption:"Edit"}),a.createTab({id:this._editorTabID,caption:"Generated Code"}),this._layouts.on({type:"resize"},function(){n._engine.resize(),n._editElement.width=a.width-30,n._editor.resize()}),this._editor=ace.edit(this._editorElementID),this._editor.setValue(["var callback = function (particles) {","	","};"].join("\n"),-1),this._editor.setTheme("ace/theme/clouds"),this._editor.getSession().setMode("ace/mode/javascript"),this._editor.getSession().on("change",function(e){}),$(this._editor.container).hide()},n.prototype._createEditor=function(i){var r=this,o=i?i:this._layoutID+"FORM";this._editElement=new t.GUI.GUIEditForm(o,this.core),this._editElement.buildElement(o);var a=this._particleSystem;this._editElement.remember(a);var s=this._editElement.addFolder("Functions");this._uiCreated||s.add(this,"_editParticleSystem").name("Edit..."),s.add(this,"_startParticleSystem").name("Start Particle System"),s.add(this,"_stopParticleSystem").name("Stop Particle System");var l=this._editElement.addFolder("Common");l.add(a,"name").name("Name").onChange(function(e){r._uiCreated||r._updateGraphNode(e)}),this._particleSystemCapacity=""+this._particleSystem.getCapacity(),l.add(this,"_particleSystemCapacity").name("Capacity").onFinishChange(function(e){e=parseFloat(e);var t=r._particleSystem.emitter,i=r._uiCreated?r._scene:r.core.currentScene;r._particleSystem.emitter=null;var o=n.CreateParticleSystem(i,e,r._particleSystem,t);r._particleSystem.dispose(),r._particleSystem=o,r._uiCreated?(r._editElement.remove(),r._createEditor()):r._updateGraphNode(r._particleSystem.name,r._particleSystem)}),l.add(this,"_setParticleTexture").name("Choose Texture..."),l.add(a,"blendMode",["ONEONE","STANDARD"]).name("Blend Mode: ").onFinishChange(function(t){switch(t){case"ONEONE":a.blendMode=e.ParticleSystem.BLENDMODE_ONEONE;break;case"STANDARD":a.blendMode=e.ParticleSystem.BLENDMODE_STANDARD}});var c=this._editElement.addFolder("Emitter"),d=c.addFolder("Min Emitter");d.open(),d.add(a.minEmitBox,"x").step(.01),d.add(a.minEmitBox,"y").step(.01),d.add(a.minEmitBox,"z").step(.01);var d=c.addFolder("Max Emitter");d.open(),d.add(a.maxEmitBox,"x").step(.01),d.add(a.maxEmitBox,"y").step(.01),d.add(a.maxEmitBox,"z").step(.01);var h=this._editElement.addFolder("Emission");h.add(a,"minSize").name("Min Size").min(0).step(.01),h.add(a,"maxSize").name("Max Size").min(0).step(.01),h.add(a,"minLifeTime").name("Min Life Time").min(0).step(.01),h.add(a,"maxLifeTime").name("Max Life Time").min(0).step(.01),h.add(a,"emitRate").name("Emit Rate").min(0).step(1),h.add(a,"minEmitPower").name("Min Emit Power").min(0).step(.01),h.add(a,"maxEmitPower").name("Max Emit Power").min(0).step(.01),h.add(a,"updateSpeed").name("Update Speed").min(0).step(.001),h.add(a,"minAngularSpeed").name("Min Angular Speed").min(0).max(2*Math.PI).step(.01),h.add(a,"maxAngularSpeed").name("Max Angular Speed").min(0).max(2*Math.PI).step(.01);var u=this._editElement.addFolder("Gravity and directions"),m=u.addFolder("Gravity");m.open(),m.add(a.gravity,"x").step(.01),m.add(a.gravity,"y").step(.01),m.add(a.gravity,"z").step(.01);var p=u.addFolder("Direction 1");p.add(a.direction1,"x").step(.01),p.add(a.direction1,"y").step(.01),p.add(a.direction1,"z").step(.01);var f=u.addFolder("Direction 2");f.add(a.direction2,"x").step(.01),f.add(a.direction2,"y").step(.01),f.add(a.direction2,"z").step(.01);var A=this._editElement.addFolder("Colors"),v=A.addFolder("Color 1");v.add(a.color1,"r").step(.01).min(0).max(1),v.add(a.color1,"g").step(.01).min(0).max(1),v.add(a.color1,"b").step(.01).min(0).max(1);var E=A.addFolder("Color 2");E.add(a.color2,"r").step(.01).min(0).max(1),E.add(a.color2,"g").step(.01).min(0).max(1),E.add(a.color2,"b").step(.01).min(0).max(1);var T=A.addFolder("Color Dead");return T.add(a.colorDead,"r").step(.01).min(0).max(1),T.add(a.colorDead,"g").step(.01).min(0).max(1),T.add(a.colorDead,"b").step(.01).min(0).max(1),this._editElement},n.prototype._setParticleSystem=function(){var t=["id"];if(this._particleSystem.getCapacity()!==this._particleSystemToEdit.getCapacity()){var i=this._particleSystemToEdit.emitter;this._particleSystemToEdit.emitter=null;var r=n.CreateParticleSystem(this.core.currentScene,this._particleSystem.getCapacity(),this._particleSystem,i);return this._particleSystemToEdit.dispose(),this._particleSystemToEdit=r,void this._updateGraphNode(this._particleSystem.name,this._particleSystemToEdit)}for(var o in this._particleSystem)if("_"!==o[0]&&-1===t.indexOf(o)){var a=this._particleSystem[o];("number"==typeof a||"string"==typeof a||"boolean"==typeof a)&&(this._particleSystemToEdit[o]=a),(a instanceof e.Vector3||a instanceof e.Color4)&&(this._particleSystemToEdit[o]=a),a instanceof e.Texture&&(this._particleSystemToEdit[o]=e.Texture.CreateFromBase64String(a._buffer,a.name,this.core.currentScene))}this._updateGraphNode(this._particleSystem.name)},n.prototype._editParticleSystem=function(){new n(this.core,this._particleSystem)},n.prototype._startParticleSystem=function(){this._particleSystem.start()},n.prototype._stopParticleSystem=function(){this._particleSystem.stop()},n.prototype._updateGraphNode=function(e,t){var n=this.core.editor.sceneGraphTool.sidebar,i=n.getSelectedNode();i&&(i.text=e,t&&(i.data=t),n.refresh())},n.prototype._setParticleTexture=function(){var n=this,i=$("#"+this._inputElementID);i[0]||$("#BABYLON-EDITOR-UTILS").append(t.GUI.GUIElement.CreateElement('input type="file"',this._inputElementID,"display: none;")),i=$("#"+this._inputElementID),i.change(function(t){var r=t.target.files||t.currentTarget.files;if(!(r.length<1)){var o=r[0];e.Tools.ReadFileAsDataURL(o,function(t){var r=e.Texture.CreateFromBase64String(t,o.name,n._scene);r.name=r.name.replace("data:",""),n._particleSystem.particleTexture=r,i.remove()},null)}}),i.click()},n.PlayStopAllParticleSystems=function(e,t){for(var n=0;n<e.particleSystems.length;n++)t?e.particleSystems[n].start():e.particleSystems[n].stop()},n.CreateParticleSystem=function(n,i,r,o){r=r||{};var a=null;o?a=o:(a=new e.Mesh("New Particle System",n,null,null,!0),e.Tags.EnableFor(a),e.Tags.AddTagsTo(a,"added_particlesystem"));var s=new e.ParticleSystem("New Particle System",i,n);if(r.animations)for(var l=0;l<r.animations.length;l++)s.animations.push(r.animations[l].clone());s.name=r.name||s.name,s.id=t.SceneFactory.GenerateUUID(),s.emitter=a,s.minEmitBox=r.minEmitBox||new e.Vector3(-1,0,0),s.maxEmitBox=r.maxEmitBox||new e.Vector3(1,0,0),s.color1=r.color1||new e.Color3(.7,.8,1),s.color2=r.color2||new e.Color3(.2,.5,1),s.colorDead=r.colorDead||new e.Color3(0,0,.2),s.minSize=r.minSize||.1,s.maxSize=r.maxSize||.5,s.minLifeTime=r.minLifeTime||.3,s.maxLifeTime=r.maxLifeTime||1.5,s.emitRate=r.emitRate||1500,s.blendMode=r.blendMode||e.ParticleSystem.BLENDMODE_ONEONE;var c=r.particleTexture?r.particleTexture._buffer:null,d=r.particleTexture?e.Texture.CreateFromBase64String(c,r.particleTexture.name,n):e.Texture.CreateFromBase64String("data:image/png;base64,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","particleTexture.png",n);

return d.name=d.name.replace("data:",""),s.particleTexture=d,s.gravity=r.gravity||new e.Vector3(0,-9.81,0),s.direction1=r.direction1||new e.Vector3(-7,8,3),s.direction2=r.direction2||new e.Vector3(7,8,-3),s.minAngularSpeed=r.minAngularSpeed||0,s.maxAngularSpeed=r.maxAngularSpeed||Math.PI,s.minEmitPower=r.minEmitPower||1,s.maxEmitPower=r.maxEmitPower||3,s.updateSpeed=r.updateSpeed||.005,s.start(),a.attachedParticleSystem=s,s},n._CurrentParticleSystem=null,n._CopiedParticleSystem=null,n}();t.GUIParticleSystemEditor=n}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=[{id:0,text:"EXPLICIT_MODE"},{id:1,text:"SPHERICAL_MODE"},{id:2,text:"PLANAR_MODE"},{id:3,text:"CUBIC_MODE"},{id:4,text:"PROJECTION_MODE"},{id:5,text:"SKYBOX_MODE"},{id:6,text:"INVCUBIC_MODE"},{id:7,text:"EQUIRECTANGULAR_MODE"},{id:8,text:"FIXED_EQUIRECTANGULAR_MODE"}],i=function(){function i(t,n,i,r){this._targetTexture=null,this._currentRenderTarget=null,this._currentPixels=null,this._dynamicTexture=null,this._texturesList=null,this._engine=null,this._scene=null,this._core=t,this._core.eventReceivers.push(this),this._core.editor.editPanel.close(),this.object=i,this.propertyPath=r,this._objectName=n,i&&r&&(this._targetObject=i[r],this._targetObject&&this._targetObject instanceof e.BaseTexture||(this._targetObject=null)),this._createUI()}return i.prototype.onEvent=function(e){if(e.eventType===t.EventType.SCENE_EVENT){var n=e.sceneEvent.eventType;(n===t.SceneEventType.OBJECT_ADDED||n===t.SceneEventType.OBJECT_REMOVED)&&this._fillTextureList()}else e.eventType===t.EventType.GUI_EVENT&&e.guiEvent.eventType===t.GUIEventType.LAYOUT_CHANGED&&this._engine.resize();return!1},i.prototype._createUI=function(){var i=this;this._core.editor.editPanel.setPanelSize(40);var r="BABYLON-EDITOR-TEXTURES-EDITOR-TEXTURES",o="BABYLON-EDITOR-TEXTURES-EDITOR-CANVAS",a=t.GUI.GUIElement.CreateDivElement(r,"width: 50%; height: 100%; float: left;"),s=t.GUI.GUIElement.CreateElement("canvas",o,"width: 50%; height: 100%; float: right;");this._core.editor.editPanel.addContainer(a,r),this._core.editor.editPanel.addContainer(s,o),this._engine=new e.Engine($("#"+o)[0],!0),this._scene=new e.Scene(this._engine),this._scene.clearColor=new e.Color3(0,0,0);var l=new e.Camera("TextureEditorCamera",e.Vector3.Zero(),this._scene),c=new e.PassPostProcess("PostProcessTextureEditor",1,l);if(c.onApply=function(e){i._targetTexture&&e.setTexture("textureSampler",i._targetTexture)},this._engine.runRenderLoop(function(){i._scene.render()}),this._texturesList=new t.GUI.GUIGrid(r,this._core),this._texturesList.header=this._objectName?this._objectName:"Textures ",this._texturesList.createColumn("name","name","100px"),this._texturesList.createEditableColumn("coordinatesMode","Coordinates Mode",{type:"select",items:n},"80px"),this._texturesList.createEditableColumn("uScale","uScale",{type:"float"},"80px"),this._texturesList.createEditableColumn("uScale","vScale",{type:"float"},"80px"),this._texturesList.showSearch=!0,this._texturesList.showOptions=!0,this._texturesList.showAdd=!0,this._texturesList.hasSubGrid=!0,this._texturesList.buildElement(r),this._fillTextureList(),this._texturesList.onClick=function(n){if(0!==n.length){i._currentRenderTarget&&i._restorRenderTarget();var r=i._core.currentScene.textures[n[0]];if(-1===r.name.toLowerCase().indexOf(".hdr")){if(i._targetTexture&&i._targetTexture.dispose(),r.isRenderTarget&&!r.isCube)i._currentRenderTarget=r,i._configureRenderTarget();else{var o=r.serialize();r._buffer?o.base64String=r._buffer:t.FilesInput.FilesTextures[r.name]&&(o.name=r.url),r.isCube||(i._targetTexture=e.Texture.Parse(o,i._scene,""))}i.object&&(i.object[i.propertyPath]=r)}}},this.object&&this.object[this.propertyPath]){var d=this._core.currentScene.textures.indexOf(this.object[this.propertyPath]);-1!==d&&(this._texturesList.setSelected([d]),this._texturesList.onClick([d]),this._texturesList.scrollIntoView(d))}this._texturesList.onAdd=function(){var t=$("#BABYLON-EDITOR-LOAD-TEXTURE-FILE");t[0].onchange=function(t){for(var n=0;n<t.target.files.length;n++)e.Tools.ReadFileAsDataURL(t.target.files[n],i._onReadFileCallback(t.target.files[n].name),null)},t.click()},this._texturesList.onReload=function(){i._fillTextureList()},this._texturesList.onExpand=function(n,r){var o=i._core.currentScene.textures[r],a=new t.GUI.GUIGrid(n,i._core);return a.showColumnHeaders=!1,a.createColumn("name","Property","25%","background-color: #efefef; border-bottom: 1px solid white; padding-right: 5px;"),a.createColumn("value","Value","75%"),a.addRecord({name:"width",value:o.getSize().width}),a.addRecord({name:"height",value:o.getSize().height}),a.addRecord({name:"name",value:o.name}),o instanceof e.Texture&&a.addRecord({name:"url",value:o.url}),a},this._texturesList.onEditField=function(e,t){for(var n=i._texturesList.getChanges(),r=0;r<n.length;r++){var o=n[r],a=i._core.currentScene.textures[o.recid];delete o.recid;for(var s in o)"coordinatesMode"===s?a.coordinatesMode=parseInt(o.coordinatesMode):a[s]=o[s]}},this._core.editor.editPanel.onClose=function(){i._texturesList.destroy(),i._scene.dispose(),i._engine.dispose(),i._core.removeEventReceiver(i)}},i.prototype._configureRenderTarget=function(){var t=this,n=this._currentRenderTarget.getSize().width,i=this._currentRenderTarget.getSize().height,r=new ImageData(n,i);this._currentOnAfterRender=this._currentRenderTarget.onAfterRender,this._dynamicTexture=new e.DynamicTexture("RenderTargetTexture",{width:n,height:i},this._scene,!1),this._currentRenderTarget.onAfterRender=function(e){t._currentOnAfterRender&&t._currentOnAfterRender(e),t._currentPixels=t._core.engine.readPixels(0,0,n,i);for(var o=0;o<t._currentPixels.length;o++)r.data[o]=t._currentPixels[o];t._dynamicTexture.getContext().putImageData(r,0,0),t._dynamicTexture.update(!1)},this._targetTexture=this._dynamicTexture},i.prototype._restorRenderTarget=function(){this._currentRenderTarget.onAfterRender=this._currentOnAfterRender,this._dynamicTexture.dispose(),this._dynamicTexture=null,this._currentPixels=null,this._currentRenderTarget=null},i.prototype._fillTextureList=function(){this._texturesList.clear();for(var t=0;t<this._core.currentScene.textures.length;t++){var i=this._core.currentScene.textures[t],r={name:i.name,coordinatesMode:n[i.coordinatesMode].text,uScale:i instanceof e.Texture?i.uScale:0,vScale:i instanceof e.Texture?i.vScale:0,recid:t};i.isCube?r.style="background-color: #FBFEC0":i.isRenderTarget&&(r.style="background-color: #C2F5B4"),this._texturesList.addRecord(r)}this._texturesList.refresh()},i.prototype._onReadFileCallback=function(t){var i=this;return function(r){var o=e.Texture.CreateFromBase64String(r,t,i._core.currentScene,!1,!1,e.Texture.BILINEAR_SAMPLINGMODE);o.name=o.name.replace("data:",""),i._texturesList.addRow({name:t,coordinatesMode:n[o.coordinatesMode].text,uScale:o.uScale,vScale:o.vScale,recid:i._texturesList.getRowCount()-1}),i._core.editor.editionTool.isObjectSupported(i._core.editor.editionTool.object)}},i}();t.GUITextureEditor=i}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function e(){}return e.RegisterEditionTool=function(e){this.EditionToolPlugins.push(e)},e.RegisterMainToolbarPlugin=function(e){this.MainToolbarPlugin.push(e)},e.EditionToolPlugins=[],e.MainToolbarPlugin=[],e}();e.PluginManager=t}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(t){var n=function(t){function n(n){t.call(this,n,"SIMPLE-MATERIAL","SIMPLE","Simple"),this.onObjectSupported=function(t){return t instanceof e.SimpleMaterial}}return __extends(n,t),n.prototype.update=function(){if(!t.prototype.update.call(this))return!1;this._element.add(this.material,"name").name("Name");var e=this._element.addFolder("Diffuse");return this.addColorFolder(this.material.diffuseColor,"Diffuse Color",!0,e),this.addTextureButton("Diffuse Texture","diffuseTexture",e).open(),!0},n}(t.AbstractMaterialTool);t.SimpleMaterialTool=n,t.PluginManager.RegisterEditionTool(n)}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));var BABYLON;!function(e){var t;!function(e){var t=function(){function t(e){this.menuID="GEOMETRIES-MENU",this._createCubeID="CREATE-CUBE",this._createSphereID="CREATE-SPHERE",this._createGroundID="CREATE-GROUND",this._createHeightMap="CREATE-HEIGHTMAP";var t=e.toolbar;this._core=e.core;var n=t.createMenu("menu",this.menuID,"Geometry","icon-bounding-box");t.createMenuItem(n,"button",this._createCubeID,"Add Cube","icon-box-mesh"),t.createMenuItem(n,"button",this._createSphereID,"Add Sphere","icon-sphere-mesh"),t.addBreak(n),t.createMenuItem(n,"button",this._createGroundID,"Add Ground","icon-mesh")}return t.prototype.onMenuItemSelected=function(t){switch(t){case this._createCubeID:e.SceneFactory.AddBoxMesh(this._core);break;case this._createSphereID:e.SceneFactory.AddSphereMesh(this._core);break;case this._createGroundID:e.SceneFactory.AddGroundMesh(this._core)}},t}();e.GeometriesMenuPlugin=t,e.PluginManager.RegisterMainToolbarPlugin(t)}(t=e.EDITOR||(e.EDITOR={}))}(BABYLON||(BABYLON={}));